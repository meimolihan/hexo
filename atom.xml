<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å‡¡å‡¡å°ç«™</title>
  
  
  <link href="https://www.meimolihan.eu.org/atom.xml" rel="self"/>
  
  <link href="https://www.meimolihan.eu.org/"/>
  <updated>2025-09-22T06:09:55.000Z</updated>
  <id>https://www.meimolihan.eu.org/</id>
  
  <author>
    <name>å‡¡å‡¡å°ç«™</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hexo + Fomalhaut ä¸»é¢˜ä¿®æ”¹ä¸ä¼˜åŒ–æŒ‡å— ğŸ“</title>
    <link href="https://www.meimolihan.eu.org/posts/771f472a.html"/>
    <id>https://www.meimolihan.eu.org/posts/771f472a.html</id>
    <published>2025-09-22T06:09:55.000Z</published>
    <updated>2025-09-22T06:09:55.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Hexo + Fomalhaut ä¸»é¢˜ä¿®æ”¹ä¸ä¼˜åŒ–æŒ‡å— ğŸ“</h1><p><img src="https://file.meimolihan.eu.org/img/hexo-fomalhaut-01.webp" alt=""></p><blockquote><p>æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»äº†å¦‚ä½•å¯¹ Fomalhaut ä¸»é¢˜è¿›è¡Œä¸ªæ€§åŒ–ä¿®æ”¹ä¸ä¼˜åŒ–ï¼ŒåŒ…æ‹¬å£çº¸æ›´æ¢ã€æ ·å¼è°ƒæ•´ã€åŠŸèƒ½é…ç½®ç­‰ï¼ŒåŠ©ä½ æ‰“é€ ç‹¬ä¸€æ— äºŒçš„åšå®¢å¤–è§‚ï¼âœ¨</p></blockquote><hr><h2 id="å¯¼èˆªç›®å½•-ğŸ“š">å¯¼èˆªç›®å½• ğŸ“š</h2><ul><li><a href="#change-wallpapers">ğŸ–¼ï¸ ä¿®æ”¹æ—¥å¤œæ¨¡å¼å£çº¸</a></li><li><a href="#profile-card-background">ğŸ¨ è°ƒæ•´ä¸ªäººä¿¡æ¯å¡ç‰‡èƒŒæ™¯</a></li><li><a href="#category-magnets">ğŸ§² å°å†°åˆ†ç±»ç£è´´æ ·å¼</a></li><li><a href="#hide-waves">ğŸŒŠ éšè—æ³¢æµªæ¨¡å¼</a></li><li><a href="#announcement-config">ğŸ“¢ å…¬å‘Šæ è®¾ç½®</a></li><li><a href="#theme-variables">ğŸ¨ ä¸»é¢˜å˜é‡å¯¹æ¥</a></li><li><a href="#css-tips">ğŸ’¡ å¸¸ç”¨ CSS æŠ€å·§</a></li><li><a href="#font-modification">ğŸ”¤ å­—ä½“ä¿®æ”¹æŒ‡å—</a></li></ul><hr><p><a id="change-wallpapers"></a></p><h2 id="ğŸ–¼ï¸-ä¿®æ”¹æ—¥å¤œæ¨¡å¼å£çº¸">ğŸ–¼ï¸ ä¿®æ”¹æ—¥å¤œæ¨¡å¼å£çº¸</h2><p>Fomalhaut ä¸»é¢˜æ”¯æŒä¸ºæ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ†åˆ«è®¾ç½®ä¸åŒçš„å£çº¸ï¼Œè®©ä½ çš„åšå®¢åœ¨ä¸åŒæ—¶é—´å±•ç°ä¸åŒé£æ ¼ï¼</p><p><strong>ä¿®æ”¹æ–¹æ³•ï¼š</strong></p><ol><li>æ‰¾åˆ°æ–‡ä»¶ï¼š<code>[BlogRoot]/themes/butterfly/source/css/_custom/custom.css</code></li><li>æœç´¢ä»¥ä¸‹CSSå˜é‡è¿›è¡Œä¿®æ”¹ï¼š</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line"><span class="attr">--default-bg</span>: <span class="built_in">url</span>(<span class="string">https://file.meimolihan.eu.org/hexo/default-bg.png</span>);  <span class="comment">/* ç”µè„‘æ—¥é—´å£çº¸ */</span></span><br><span class="line"><span class="attr">--darkmode-bg</span>: <span class="built_in">url</span>(<span class="string">https://file.meimolihan.eu.org/hexo/darkmode-bg.webp</span>);  <span class="comment">/* ç”µè„‘å¤œé—´å£çº¸ */</span></span><br><span class="line"><span class="attr">--mobileday-bg</span>: <span class="built_in">url</span>(<span class="string">https://file.meimolihan.eu.org/hexo/mobileday-bg.png</span>);  <span class="comment">/* æ‰‹æœºæ—¥é—´å£çº¸ */</span></span><br><span class="line"><span class="attr">--mobilenight-bg</span>: <span class="built_in">url</span>(<span class="string">https://file.meimolihan.eu.org/hexo/mobilenight-bg.webp</span>); <span class="comment">/* æ‰‹æœºå¤œé—´å£çº¸ */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’¡ <strong>æç¤º</strong>ï¼šå»ºè®®ä½¿ç”¨é«˜è´¨é‡å›¾ç‰‡ï¼ˆæ¨èåˆ†è¾¨ç‡ï¼š1920Ã—1080ï¼‰ï¼Œå¹¶ç¡®ä¿å›¾ç‰‡URLå¯æ­£å¸¸è®¿é—®ã€‚</p></blockquote><p><a id="profile-card-background"></a></p><h2 id="ğŸ¨-è°ƒæ•´ä¸ªäººä¿¡æ¯å¡ç‰‡èƒŒæ™¯">ğŸ¨ è°ƒæ•´ä¸ªäººä¿¡æ¯å¡ç‰‡èƒŒæ™¯</h2><p>ä¸ªæ€§åŒ–ä½ çš„åšä¸»ä¿¡æ¯å¡ç‰‡ï¼Œè®©å®ƒä¸æ•´ä½“ä¸»é¢˜é£æ ¼æ›´åŒ¹é…ï¼</p><p><strong>ä¿®æ”¹æ–¹æ³•ï¼š</strong></p><ol><li>åŒæ ·åœ¨ <code>custom.css</code> æ–‡ä»¶ä¸­æœç´¢ï¼š</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.author-content</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;ä½ çš„å¡ç‰‡èƒŒæ™¯å›¾URL&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>âœ¨ <strong>ç‰¹ç‚¹</strong>ï¼šæ”¯æŒæ¸å˜è‰²ã€é™æ€å›¾ç‰‡å’ŒåŠ¨æ€GIFï¼Œè®©ä½ çš„åç‰‡æ›´åŠ ç”ŸåŠ¨ï¼</p></blockquote><p><a id="category-magnets"></a></p><h2 id="ğŸ§²-å°å†°åˆ†ç±»ç£è´´æ ·å¼">ğŸ§² å°å†°åˆ†ç±»ç£è´´æ ·å¼</h2><p>å°å†°åˆ†ç±»ç£è´´æ˜¯Fomalhautçš„ç‰¹è‰²åŠŸèƒ½ä¹‹ä¸€ï¼Œå¯ä»¥è®©åˆ†ç±»ç›®å½•ä»¥ç£è´´å½¢å¼å±•ç¤ºï¼Œæ›´åŠ ç¾è§‚å®ç”¨ã€‚</p><p><strong>ä¿®æ”¹æ–¹æ³•ï¼š</strong></p><ol><li>åœ¨ <code>custom.css</code> ä¸­æœç´¢ <code>.magnet_item</code></li><li>è°ƒæ•´ä»¥ä¸‹æ ·å¼å±æ€§ï¼š</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.magnet_item</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--theme-color); <span class="comment">/* èƒŒæ™¯è‰² */</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>; <span class="comment">/* åœ†è§’å¤§å° */</span></span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">3px</span> <span class="number">8px</span> <span class="built_in">var</span>(--shadow-color); <span class="comment">/* é˜´å½±æ•ˆæœ */</span></span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.3s</span> ease; <span class="comment">/* æ‚¬åœåŠ¨ç”» */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.magnet_item</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">5px</span>); <span class="comment">/* æ‚¬åœæ•ˆæœ */</span></span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">16px</span> <span class="built_in">var</span>(--shadow-color-hover);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="hide-waves"></a></p><h2 id="ğŸŒŠ-éšè—æ³¢æµªæ¨¡å¼">ğŸŒŠ éšè—æ³¢æµªæ¨¡å¼</h2><p>å¦‚æœä½ è§‰å¾—æ³¢æµªæ•ˆæœå½±å“é˜…è¯»ä½“éªŒï¼Œå¯ä»¥è½»æ¾éšè—å®ƒã€‚</p><p><strong>ä¿®æ”¹æ–¹æ³•ï¼š</strong></p><ol><li>åœ¨ <code>custom.css</code> ä¸­æœç´¢ <code>.main-hero-waves-area</code></li><li>æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.main-hero-waves-area</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šéšè—æ³¢æµªæ•ˆæœåï¼Œé¦–é¡µåº•éƒ¨ä¼šå˜å¾—ç®€æ´ï¼Œä½†ä¹Ÿä¼šå¤±å»åŠ¨æ€æ•ˆæœã€‚</p></blockquote><p><a id="announcement-config"></a></p><h2 id="ğŸ“¢-å…¬å‘Šæ è®¾ç½®">ğŸ“¢ å…¬å‘Šæ è®¾ç½®</h2><p>å…¬å‘Šæ æ˜¯å‘è®¿å®¢å±•ç¤ºé‡è¦ä¿¡æ¯çš„ç†æƒ³ä½ç½®ï¼Œå¦‚æ›´æ–°æ—¥å¿—ã€æ´»åŠ¨é€šçŸ¥ç­‰ã€‚</p><p><strong>é…ç½®æ–¹æ³•ï¼š</strong></p><ol><li>æ‰“å¼€ <code>[BlogRoot]/_config.butterfly.yml</code></li><li>æœç´¢ <code>card_announcement</code></li><li>ä¿®æ”¹é…ç½®ï¼š</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">card_announcement:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">content:</span> <span class="string">&quot;ğŸ‰ æ¬¢è¿è®¿é—®æˆ‘çš„åšå®¢ï¼è¿™é‡Œè®°å½•æˆ‘çš„å­¦ä¹ ç¬”è®°å’Œç”Ÿæ´»æ„Ÿæ‚Ÿï½&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>ğŸ”§ <strong>åŠŸèƒ½</strong>ï¼šæ”¯æŒHTMLæ ¼å¼ï¼Œå¯ä»¥æ·»åŠ é“¾æ¥ã€è¡¨æƒ…ç­‰ä¸°å¯Œå†…å®¹ã€‚</p></blockquote><p><a id="theme-variables"></a></p><h2 id="ğŸ¨-ä¸»é¢˜å˜é‡å¯¹æ¥">ğŸ¨ ä¸»é¢˜å˜é‡å¯¹æ¥</h2><p>Fomalhaut ä¸»é¢˜ä½¿ç”¨CSSå˜é‡ç»Ÿä¸€ç®¡ç†æ ·å¼ï¼Œæ–¹ä¾¿è‡ªå®šä¹‰ä¸»é¢˜è‰²å½©ã€‚</p><p><strong>å¸¸ç”¨å˜é‡å¯¹æ¥ç¤ºä¾‹ï¼š</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* MDå¼•ç”¨æ ‡ç­¾èƒŒæ™¯æ¥å…¥ */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-tag">blockquote</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-light);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-tag">blockquote</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-dark);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ‚¬åœå…ƒç´ èƒŒæ™¯æ¥å…¥ */</span></span><br><span class="line"><span class="selector-class">.aside-list-item</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--theme-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ‚¬åœå­—ä½“é¢œè‰² */</span></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-tag-cloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* é¼ æ ‡æ‚¬åœè¾¹æ¡†é˜´å½±æ•ˆæœ */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#post</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">3px</span> <span class="built_in">var</span>(--theme-color) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¾¹æ¡†è£…é¥°çº¿ï¼ˆFomalhautç™½è‰²è£…é¥°çº¿ï¼‰ */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#post</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="built_in">var</span>(--border-style);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="css-tips"></a></p><h2 id="ğŸ’¡-å¸¸ç”¨-CSS-æŠ€å·§">ğŸ’¡ å¸¸ç”¨ CSS æŠ€å·§</h2><p>è¿™é‡Œæ”¶é›†äº†ä¸€äº›å®ç”¨çš„CSSä»£ç ç‰‡æ®µï¼Œæ–¹ä¾¿å¿«é€Ÿä¿®æ”¹æ ·å¼ï¼š</p><p><strong>æ–‡å­—æ ·å¼è°ƒæ•´ï¼š</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#post</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>; <span class="comment">/* å­—ä½“å¤§å° */</span></span><br><span class="line">    <span class="attribute">font-weight</span>: bold; <span class="comment">/* å­—ä½“åŠ ç²— */</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#000000</span>; <span class="comment">/* æ–‡å­—é¢œè‰² */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å…ƒç´ ä½ç½®è°ƒæ•´ï¼š</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#post</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span> <span class="meta">!important</span>;  <span class="comment">/* è°ƒæ•´é«˜åº¦ */</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">20px</span> <span class="meta">!important</span>;   <span class="comment">/* è°ƒæ•´å®½åº¦ */</span></span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">10px</span> <span class="meta">!important</span>; <span class="comment">/* å‘ä¸Šç§»åŠ¨10px */</span></span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10px</span> <span class="meta">!important</span>;    <span class="comment">/* å‘ä¸‹ç§»åŠ¨10px */</span></span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">10px</span> <span class="meta">!important</span>;  <span class="comment">/* å‘å·¦ç§»åŠ¨10px */</span></span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">10px</span> <span class="meta">!important</span>;   <span class="comment">/* å‘å³ç§»åŠ¨10px */</span></span><br><span class="line">    <span class="attribute">vertical-align</span>: middle; <span class="comment">/* é»˜è®¤å±…ä¸­å¯¹é½ */</span></span><br><span class="line">    <span class="attribute">vertical-align</span>: -<span class="number">0.3em</span>; <span class="comment">/* ä¸Šä¸‹ç§»åŠ¨ */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="font-modification"></a></p><h2 id="ğŸ”¤-å­—ä½“ä¿®æ”¹æŒ‡å—">ğŸ”¤ å­—ä½“ä¿®æ”¹æŒ‡å—</h2><p>Fomalhaut ä¸»é¢˜æ”¯æŒè‡ªå®šä¹‰å­—ä½“ï¼Œè®©ä½ çš„åšå®¢æ‹¥æœ‰ç‹¬ç‰¹çš„æ’ç‰ˆé£æ ¼ã€‚</p><h3 id="å­—ä½“èµ„æºæ¨è">å­—ä½“èµ„æºæ¨è</h3><ul><li><strong>å­—ä½“å¤©ä¸‹</strong>ï¼š<a href="https://www.fonts.net.cn/">https://www.fonts.net.cn/</a>ï¼ˆä¸°å¯Œçš„ä¸­æ–‡å­—ä½“èµ„æºï¼‰</li><li><strong>è°·æ­Œå­—ä½“</strong>ï¼š<a href="https://fonts.google.com/">https://fonts.google.com/</a>ï¼ˆå…è´¹çš„è‹±æ–‡å­—ä½“åº“ï¼‰</li><li><strong>æ ¼å¼è½¬æ¢å·¥å…·</strong>ï¼š<a href="https://products.groupdocs.app/zh/conversion/ttf-to-woff2">TTF åˆ° WOFF2è½¬æ¢å™¨</a>ï¼ˆä¼˜åŒ–ç½‘ç»œå­—ä½“åŠ è½½ï¼‰</li></ul><h3 id="å­—ä½“æ›´æ¢æ­¥éª¤">å­—ä½“æ›´æ¢æ­¥éª¤</h3><p><strong>1. ä¸‹è½½å¹¶æ›¿æ¢å­—ä½“æ–‡ä»¶</strong><br>ä»¥ã€Œæ¨ä»»ä¸œç«¹çŸ³ä½“ã€ä¸ºä¾‹ï¼š</p><p>ä¿®æ”¹ <code>[BlogRoot]/themes/butterfly/source/css/_custom/custom.css</code>ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@font-face &#123;</span><br><span class="line">  font-family: ZhuZiAWan;</span><br><span class="line"><span class="deletion">-  src: url(https://data-static.netdun.net/Fomalhaut/fonts/ZhuZiAWan2.woff2);</span></span><br><span class="line"><span class="addition">+  src: url(https://cdn.meimolihan.eu.org/hexo/fonts/Heavy.woff2);</span></span><br><span class="line">  font-display: swap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>2. å¼•å…¥å­—ä½“åˆ°æ ·å¼</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#post</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="built_in">var</span>(--global-font), ZhuZiAWan; <span class="comment">/* å¼•å…¥å­—ä½“ */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>3. æ›´æ–°å­—ä½“åˆ‡æ¢æ§åˆ¶å°</strong><br>ä¿®æ”¹ <code>[BlogRoot]/source/js/fomal.js</code>ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">- &lt;a class=&quot;swf&quot; id=&quot;swf_ZhuZiAWan&quot; href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;font-family:&#x27;ZhuZiAWan&#x27;!important;color:black&quot; onclick=&quot;setFont(&#x27;ZhuZiAWan&#x27;)&quot;&gt;ç­‘ç´«Aä¸¸æ ‡å‡†ä½“2.0&lt;/a&gt;</span></span><br><span class="line"><span class="addition">+ &lt;a class=&quot;swf&quot; id=&quot;swf_ZhuZiAWan&quot; href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;font-family:&#x27;ZhuZiAWan&#x27;!important;color:black&quot; onclick=&quot;setFont(&#x27;ZhuZiAWan&#x27;)&quot;&gt;æ¨ä»»ä¸œç«¹çŸ³ä½“&lt;/a&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>ğŸ“Œ <strong>æç¤º</strong>ï¼šä¿®æ”¹åè®°å¾—æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼Œæ‰èƒ½çœ‹åˆ°å­—ä½“å˜åŒ–æ•ˆæœï¼</p></blockquote><hr><p>å¸Œæœ›æœ¬ç¯‡æŒ‡å—èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°å®šåˆ¶Fomalhautä¸»é¢˜ï¼å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨ä¸»é¢˜Gitä»“åº“æäº¤Issueæˆ–è®¨è®ºï¼ğŸš€</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Hexo + Fomalhaut ä¸»é¢˜ä¿®æ”¹ä¸ä¼˜åŒ–æŒ‡å— ğŸ“&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://file.meimolihan.eu.org/img/hexo-fomalhaut-01.webp&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬</summary>
      
    
    
    
    <category term="é»˜è®¤åˆ†ç±»" scheme="https://www.meimolihan.eu.org/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/"/>
    
    
    <category term="hexo" scheme="https://www.meimolihan.eu.org/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hugo + Stack ä¸»é¢˜ç¾åŒ–æŒ‡å— ğŸ¨</title>
    <link href="https://www.meimolihan.eu.org/posts/f1ee3303.html"/>
    <id>https://www.meimolihan.eu.org/posts/f1ee3303.html</id>
    <published>2025-09-17T08:33:08.000Z</published>
    <updated>2025-09-17T08:33:08.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Hugo + Stack ä¸»é¢˜ç¾åŒ–æŒ‡å— ğŸ¨</h1><p><img src="https://file.meimolihan.eu.org/img/hugo-stack-01.webp" alt=""></p><blockquote><p>æœ¬æ–‡è¯¦ç»†ä»‹ç»äº† Hugo Stack ä¸»é¢˜çš„ç¾åŒ–é…ç½®æ–¹æ³•ï¼ŒåŒ…å«å…¨å±€æ ·å¼è°ƒæ•´ã€æ–‡ç« å†…å®¹ä¼˜åŒ–ã€ä¾§è¾¹æ ç¾åŒ–åŠå…¶ä»–åŠŸèƒ½å¢å¼ºï¼ŒåŠ©ä½ æ‰“é€ ä¸ªæ€§åŒ–åšå®¢ã€‚</p></blockquote><hr><h2 id="ğŸŒŸ-ç‰¹ç‚¹ä¸åŠŸèƒ½">ğŸŒŸ ç‰¹ç‚¹ä¸åŠŸèƒ½</h2><p>æœ¬ç¾åŒ–æŒ‡å—ä¸º Hugo Stack ä¸»é¢˜æä¾›äº†å…¨é¢çš„è‡ªå®šä¹‰æ–¹æ¡ˆï¼ŒåŒ…å«ä»¥ä¸‹ç‰¹è‰²åŠŸèƒ½ï¼š</p><ul><li>ğŸ¨ <strong>å¤šä¸»é¢˜é…è‰²</strong> - æ”¯æŒæ˜äº®/æš—é»‘åŒæ¨¡å¼ï¼Œå¯è‡ªå®šä¹‰ä»£ç å—æ ·å¼å’Œåœ†è§’å¤§å°</li><li>ğŸ“± <strong>å“åº”å¼å¸ƒå±€</strong> - å®Œç¾é€‚é…ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯ï¼Œä¸‰æ å¼çµæ´»å¸ƒå±€</li><li>âœ¨ <strong>äº¤äº’åŠ¨ç”»</strong> - ä¸°å¯Œçš„æ‚¬åœåŠ¨ç”»æ•ˆæœï¼ŒåŒ…æ‹¬å¤´åƒæ—‹è½¬ã€ç¤¾äº¤å›¾æ ‡è½¬åŠ¨ç­‰</li><li>ğŸ’» <strong>ä»£ç é«˜äº®</strong> - MacOSé£æ ¼ä»£ç å—ï¼Œæ”¯æŒè¯­æ³•é«˜äº®å’Œå¤åˆ¶åŠŸèƒ½</li><li>ğŸ“Š <strong>æ•°æ®ç»Ÿè®¡</strong> - æ–‡ç« æ•°é‡ã€å­—æ•°å’Œè®¿é—®é‡ç»Ÿè®¡ï¼Œæ”¯æŒå¤šè¯­è¨€æ˜¾ç¤º</li><li>ğŸ–¼ï¸ <strong>åª’ä½“å¢å¼º</strong> - å›¾ç‰‡ç¯ç®±æ•ˆæœã€å¤–éƒ¨å›¾åºŠå›¾ç‰‡å±…ä¸­æ˜¾ç¤º</li><li>ğŸ¯ <strong>ç”¨æˆ·ä½“éªŒ</strong> - è¿”å›é¡¶éƒ¨æŒ‰é’®ã€é¢„åŠ è½½åŠ¨ç”»ã€é¼ æ ‡æ ·å¼è‡ªå®šä¹‰</li><li>ğŸ’¬ <strong>è¯„è®ºç³»ç»Ÿ</strong> - é›†æˆgiscusè¯„è®ºåŠŸèƒ½ï¼ŒåŸºäºGitHub Discussions</li><li>ğŸŒŒ <strong>åŠ¨æ€èƒŒæ™¯</strong> - å¯é…ç½®ç²’å­åŠ¨æ€èƒŒæ™¯ï¼Œå¢å¼ºè§†è§‰å¸å¼•åŠ›</li></ul><hr><h2 id="ğŸ“‘-å¯¼èˆªç›®å½•">ğŸ“‘ å¯¼èˆªç›®å½•</h2><ul><li><a href="#global-config">ğŸŒ å…¨å±€é…ç½®</a><ul><li><a href="#color-scheme">ğŸ¨ é¡µé¢åŸºæœ¬é…è‰²</a></li><li><a href="#layout-adjustment">ğŸ“ å…¨å±€å¸ƒå±€è°ƒæ•´</a></li></ul></li><li><a href="#article-beautification">ğŸ“ æ–‡ç« å†…å®¹ç¾åŒ–</a><ul><li><a href="#basic-article-styling">âœ¨ æ–‡ç« å†…å®¹åŸºæœ¬ç¾åŒ–</a></li><li><a href="#blockquote-styling">ğŸ’¬ MD å¼•ç”¨å—æ ·å¼</a></li><li><a href="#image-center">ğŸ–¼ï¸ ä½¿å›¾åºŠé“¾æ¥çš„å›¾ç‰‡å±…ä¸­</a></li><li><a href="#word-count">ğŸ“Š ç»Ÿè®¡ç«™ç‚¹æ–‡ç« æ•°é‡å’Œå­—æ•°</a></li><li><a href="#homepage-articles">ğŸ  é¦–é¡µæ–‡ç« æ ·å¼</a></li><li><a href="#internal-images">ğŸ–¼ï¸ æ–‡ç« å†…éƒ¨å›¾ç‰‡æ ·å¼</a></li><li><a href="#macos-codeblocks">ğŸ’» MacOS é£æ ¼ä»£ç å—</a></li><li><a href="#codeblock-styling">ğŸ”§ ä¿®æ”¹ä»£ç å—æ ·å¼</a></li><li><a href="#syntax-highlighting">ğŸ¯ ä»£ç å—é«˜äº®</a></li><li><a href="#hide-language">ğŸš« å…³é—­ä»£ç å—è¯­è¨€æ˜¾ç¤º</a></li><li><a href="#external-links">ğŸ”— å¤–éƒ¨é“¾æ¥åé¢æ˜¾ç¤ºå›¾æ ‡</a></li><li><a href="#copy-buttons">ğŸ“‹ è¯­è¨€å’Œå¤åˆ¶æŒ‰é’®</a></li></ul></li><li><a href="#sidebar-beautification">ğŸ“Œ ä¾§è¾¹æ ç¾åŒ–</a><ul><li><a href="#sidebar-width">ğŸ“ é¡µé¢å·¦å³è¾¹æ å®½åº¦</a></li><li><a href="#right-sidebar-animation">ğŸ­ å³ä¾§å¯¼èˆªæ åŠ¨ç”»</a></li><li><a href="#left-sidebar-styling">ğŸ¨ å·¦ä¾§å¯¼èˆªæ ç¾åŒ–</a></li><li><a href="#left-sidebar-animation">âœ¨ å·¦ä¾§å¯¼èˆªæ åŠ¨ç”»</a></li><li><a href="#social-icons">ğŸ¤ ç¤¾äº¤ social</a></li><li><a href="#dark-mode-toggle">ğŸŒ“ æ˜äº®æ¨¡å¼è°ƒæ•´ä½ç½®</a></li><li><a href="#manual-sidebar">âš™ï¸ æ‰‹åŠ¨ä¿®æ”¹å·¦å³ä¾§è¾¹æ è®¾ç½®æ ·å¼</a></li><li><a href="#avatar-rotation">ğŸ”„ å¤´åƒæ—‹è½¬</a></li><li><a href="#three-column-layout">ğŸ“‚ å‹æƒ…é“¾æ¥+åˆ†ç±»+æ ‡ç­¾+å½’æ¡£ã€ä¸‰æ æ˜¾ç¤ºã€‘</a></li><li><a href="#archive-cards">ğŸ“¦ ç¼©å°å½’æ¡£é¡µçš„åˆ†ç±»å¡ç‰‡å°ºå¯¸</a></li><li><a href="#toc-spacing">ğŸ“‹ è°ƒæ•´ TOC ç›®å½•é—´è·</a></li><li><a href="#link-hover">ğŸ” é¼ æ ‡æ‚¬åœè¶…é“¾æ¥çš„æ˜¾ç¤º</a></li></ul></li><li><a href="#other-widgets">ğŸ”§ å…¶å®ƒå°éƒ¨ä»¶</a><ul><li><a href="#site-stats">ğŸ“ˆ æ·»åŠ ç«™ç‚¹ç»Ÿè®¡ä¿¡æ¯ä¸ i18n</a></li><li><a href="#visitor-map">ğŸ—ºï¸ æ·»åŠ è®¿å®¢åœ°å›¾</a></li><li><a href="#custom-cursor">ğŸ–±ï¸ é¼ æ ‡æ ·å¼</a></li><li><a href="#welcome-banner">ğŸ‰ é¦–é¡µæ¬¢è¿æ¨ªå¹…</a></li><li><a href="#remove-footer">ğŸ—‘ï¸ åˆ é™¤&quot;ä½¿ç”¨ Hugo æ„å»º ä¸»é¢˜Stackç”±Jimmyè®¾è®¡&quot;ç­‰å­—æ ·</a></li><li><a href="#back-to-top">â¬†ï¸ æ·»åŠ ã€è¿”å›é¡¶éƒ¨ã€‘æŒ‰é’®</a></li></ul></li><li><a href="#comments">ğŸ’¬ Hugo æ¥å…¥è¯„è®º</a></li><li><a href="#preload-animation">ğŸŒ€ Hugo Stack é¢„åŠ è½½åŠ¨ç”»</a></li><li><a href="#image-lightbox">ğŸ–¼ï¸ Hugo å›¾ç‰‡ç¯ç®±</a></li><li><a href="#particles-background">âœ¨ å¼•å…¥åŠ¨æ€èƒŒæ™¯ï¼ˆç‚¹çº¿æ¼‚æµ®(particles.js)ï¼‰</a></li><li><a href="#view-count">ğŸ“Š ã€Hugoã€‘åšå®¢æ–‡ç« æµè§ˆæ•°ç»Ÿè®¡</a></li></ul><hr><p><a id="global-config"></a></p><h2 id="ğŸŒ-å…¨å±€é…ç½®">ğŸŒ å…¨å±€é…ç½®</h2><p><a id="color-scheme"></a></p><h3 id="ğŸ¨-é¡µé¢åŸºæœ¬é…è‰²">ğŸ¨ é¡µé¢åŸºæœ¬é…è‰²</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šè‡ªå®šä¹‰åšå®¢å…¨å±€é…è‰²æ–¹æ¡ˆï¼ŒåŒ…æ‹¬æ˜äº®/æš—é»‘æ¨¡å¼ä¸‹çš„ä»£ç å—æ ·å¼ã€åœ†è§’å¤§å°ç­‰</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>/assets/scss/custom.scss</code> ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ---------------é¡µé¢åŸºæœ¬é…è‰²---------------</span></span><br><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="comment">// å…¨å±€é¡¶éƒ¨è¾¹è·</span></span><br><span class="line">  <span class="attr">--main-top-padding</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="comment">// å…¨å±€å¡ç‰‡åœ†è§’</span></span><br><span class="line">  <span class="attr">--card-border-radius</span>: <span class="number">25px</span>;</span><br><span class="line">  <span class="comment">// æ ‡ç­¾äº‘å¡ç‰‡åœ†è§’</span></span><br><span class="line">  <span class="attr">--tag-border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="comment">// å¡ç‰‡é—´è·</span></span><br><span class="line">  <span class="attr">--section-separation</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="comment">// å…¨å±€å­—ä½“å¤§å°</span></span><br><span class="line">  <span class="attr">--article-font-size</span>: <span class="number">1.8rem</span>;</span><br><span class="line">  <span class="comment">// è¡Œå†…ä»£ç èƒŒæ™¯è‰²</span></span><br><span class="line">  <span class="attr">--code-background-color</span>: <span class="number">#f8f8f8</span>;</span><br><span class="line">  <span class="comment">// è¡Œå†…ä»£ç å‰æ™¯è‰²</span></span><br><span class="line">  <span class="attr">--code-text-color</span>: <span class="number">#e96900</span>;</span><br><span class="line">  <span class="comment">// æš—è‰²æ¨¡å¼ä¸‹æ ·å¼</span></span><br><span class="line">  &amp;<span class="selector-attr">[data-scheme=<span class="string">&quot;dark&quot;</span>]</span> &#123;</span><br><span class="line">    <span class="comment">// è¡Œå†…ä»£ç èƒŒæ™¯è‰²</span></span><br><span class="line">    <span class="attr">--code-background-color</span>: <span class="number">#ff6d1b17</span>;</span><br><span class="line">    <span class="comment">// è¡Œå†…ä»£ç å‰æ™¯è‰²</span></span><br><span class="line">    <span class="attr">--code-text-color</span>: <span class="number">#e96900</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="layout-adjustment"></a></p><h3 id="ğŸ“-å…¨å±€å¸ƒå±€è°ƒæ•´">ğŸ“ å…¨å±€å¸ƒå±€è°ƒæ•´</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šè°ƒæ•´æ•´ä½“é¡µé¢å¸ƒå±€ç»“æ„ï¼ŒåŒ…æ‹¬ä¸‰æ å®½åº¦æ¯”ä¾‹ã€ä¸‹æ‹‰èœå•æ ·å¼ç­‰</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/custom.scss</code> ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//---------------------------------------------------</span></span><br><span class="line"><span class="comment">// å…¨å±€é¡µé¢å¸ƒå±€é—´è·è°ƒæ•´</span></span><br><span class="line"><span class="selector-class">.main-container</span> &#123;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">align-items</span>: flex-start;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">gap</span>: <span class="built_in">var</span>(--section-separation);</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="built_in">var</span>(--main-top-padding);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">@include</span> respond(md) &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">37px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//--------------------------------------------------</span></span><br><span class="line"><span class="comment">//é¡µé¢ä¸‰æ å®½åº¦è°ƒæ•´</span></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: auto;</span><br><span class="line">  <span class="attribute">margin-right</span>: auto;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.left-sidebar</span> &#123;</span><br><span class="line">    <span class="attribute">order</span>: -<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="built_in">var</span>(--left-sidebar-max-width);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.right-sidebar</span> &#123;</span><br><span class="line">    <span class="attribute">order</span>: -<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="built_in">var</span>(--right-sidebar-max-width);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Display right sidebar when min-width: lg</span></span><br><span class="line">    <span class="keyword">@include</span> respond(lg) &#123;</span><br><span class="line">      <span class="attribute">display</span>: flex;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;<span class="selector-class">.extended</span> &#123;</span><br><span class="line">    <span class="keyword">@include</span> respond(md) &#123;</span><br><span class="line">      <span class="attribute">max-width</span>: <span class="number">1024px</span>;</span><br><span class="line">      <span class="attr">--left-sidebar-max-width</span>: <span class="number">25%</span>;</span><br><span class="line">      <span class="attr">--right-sidebar-max-width</span>: <span class="number">22%</span> <span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@include</span> respond(lg) &#123;</span><br><span class="line">      <span class="attribute">max-width</span>: <span class="number">1280px</span>;</span><br><span class="line">      <span class="attr">--left-sidebar-max-width</span>: <span class="number">20%</span>;</span><br><span class="line">      <span class="attr">--right-sidebar-max-width</span>: <span class="number">30%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@include</span> respond(xl) &#123;</span><br><span class="line">      <span class="attribute">max-width</span>: <span class="number">1453px</span>; <span class="comment">//1536px;</span></span><br><span class="line">      <span class="attr">--left-sidebar-max-width</span>: <span class="number">15%</span>;</span><br><span class="line">      <span class="attr">--right-sidebar-max-width</span>: <span class="number">25%</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;<span class="selector-class">.compact</span> &#123;</span><br><span class="line">    <span class="keyword">@include</span> respond(md) &#123;</span><br><span class="line">      <span class="attr">--left-sidebar-max-width</span>: <span class="number">25%</span>;</span><br><span class="line">      <span class="attribute">max-width</span>: <span class="number">768px</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@include</span> respond(lg) &#123;</span><br><span class="line">      <span class="attribute">max-width</span>: <span class="number">1024px</span>;</span><br><span class="line">      <span class="attr">--left-sidebar-max-width</span>: <span class="number">20%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@include</span> respond(xl) &#123;</span><br><span class="line">      <span class="attribute">max-width</span>: <span class="number">1280px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------------------------------------------------------</span></span><br><span class="line"><span class="comment">//å…¨å±€é¡µé¢å°å›¾ç‰‡æ ·å¼å¾®è°ƒ</span></span><br><span class="line"><span class="selector-class">.article-list--compact</span> <span class="selector-tag">article</span> <span class="selector-class">.article-image</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">var</span>(--image-size);</span><br><span class="line">  <span class="attribute">height</span>: <span class="built_in">var</span>(--image-size);</span><br><span class="line">  <span class="selector-tag">object</span>-fit: cover;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">17%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------------</span></span><br><span class="line"><span class="comment">// ä¸‹æ‹‰èœå•æ”¹åœ†è§’æ ·å¼</span></span><br><span class="line"><span class="selector-class">.menu</span> &#123;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">overflow-x</span>: hidden;</span><br><span class="line">  <span class="comment">// overflow-y: scroll;</span></span><br><span class="line">  <span class="attribute">flex-grow</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.6rem</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--card-background);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// box-shadow: var(--shadow-l2); // æ‰‹æœºç«¯ä¸‹æ‹‰èœå•ä¼šæœ‰è«åå°æ–¹å—</span></span><br><span class="line">  <span class="attribute">box-shadow</span>: none;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>; <span class="comment">//æ”¹ä¸º0</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>; <span class="comment">//åŠ ä¸ªåœ†è§’</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">30px</span> <span class="number">30px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">@include</span> respond(xl) &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">15px</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;,</span><br><span class="line">  <span class="selector-class">.menu-bottom-section</span> &#123;</span><br><span class="line">    <span class="attribute">gap</span>: <span class="number">30px</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@include</span> respond(xl) &#123;</span><br><span class="line">      <span class="attribute">gap</span>: <span class="number">25px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;<span class="selector-class">.show</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">@include</span> respond(md) &#123;</span><br><span class="line">    <span class="attribute">align-items</span>: flex-end;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">background-color</span>: transparent;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: none;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@include</span> respond(md) &#123;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">svg</span> &#123;</span><br><span class="line">      <span class="attribute">stroke-width</span>: <span class="number">1.33</span>;</span><br><span class="line"></span><br><span class="line">      <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">a</span> &#123;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">      <span class="attribute">display</span>: inline-flex;</span><br><span class="line">      <span class="attribute">align-items</span>: center;</span><br><span class="line">      <span class="attribute">color</span>: <span class="built_in">var</span>(--body-text-color);</span><br><span class="line">      <span class="attribute">gap</span>: <span class="built_in">var</span>(--menu-icon-separation);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">span</span> &#123;</span><br><span class="line">      <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp;<span class="selector-class">.current</span> &#123;</span><br><span class="line">      <span class="selector-tag">a</span> &#123;</span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">var</span>(--accent-color);</span><br><span class="line">        <span class="attribute">font-weight</span>: bold;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*æ‰‹æœºæ¨¡å¼ä¸‹çš„èœå•æ»šåŠ¨æ¡ç¾åŒ–*/</span></span><br><span class="line"><span class="selector-class">.menu</span>::-webkit-scrollbar &#123;</span><br><span class="line">  <span class="attribute">display</span>: none; <span class="comment">//é˜²æ­¢å¤§å±å¹•æ—¶å‡ºç°æ»šåŠ¨æ¡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sidebar</span> <span class="selector-tag">header</span> <span class="selector-class">.site-name</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2rem</span>; <span class="comment">//å­—ä½“å¤§å°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="article-beautification"></a></p><h2 id="ğŸ“-æ–‡ç« å†…å®¹ç¾åŒ–">ğŸ“ æ–‡ç« å†…å®¹ç¾åŒ–</h2><p><a id="basic-article-styling"></a></p><h3 id="âœ¨-æ–‡ç« å†…å®¹åŸºæœ¬ç¾åŒ–">âœ¨ æ–‡ç« å†…å®¹åŸºæœ¬ç¾åŒ–</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šä¼˜åŒ–æ–‡ç« å†…ä»£ç å—ã€å›¾ç‰‡ã€å¼•ç”¨ç­‰å…ƒç´ çš„æ˜¾ç¤ºæ•ˆæœ</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/custom.scss</code> ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//------------------------------------------------</span></span><br><span class="line"><span class="comment">// æ–‡ç« å†…å®¹å¼•ç”¨å—æ ·å¼</span></span><br><span class="line"><span class="selector-class">.article-content</span> &#123;</span><br><span class="line">  <span class="selector-tag">blockquote</span> &#123;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">6px</span> solid <span class="number">#358b9a1f</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#3a97431f</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ---------------------------------------</span></span><br><span class="line"><span class="comment">// ä»£ç å—åŸºç¡€æ ·å¼ä¿®æ”¹</span></span><br><span class="line"><span class="selector-class">.highlight</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">102%</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--pre-background-color);</span><br><span class="line">  <span class="attribute">padding</span>: <span class="built_in">var</span>(--card-padding);</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">7px</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: -<span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--shadow-l1) <span class="meta">!important</span>;</span><br><span class="line"></span><br><span class="line">  &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="selector-class">.copyCodeButton</span> &#123;</span><br><span class="line">      <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// keep Codeblocks LTR</span></span><br><span class="line">  <span class="selector-attr">[dir=<span class="string">&quot;rtl&quot;</span>]</span> &amp; &#123;</span><br><span class="line">    <span class="attribute">direction</span>: ltr;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  pre &#123;</span><br><span class="line">    <span class="attribute">margin</span>: initial;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: auto;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//----------------------------------------------</span></span><br><span class="line"><span class="comment">// lightæ¨¡å¼ä¸‹çš„ä»£ç å—æ ·å¼è°ƒæ•´</span></span><br><span class="line"><span class="selector-attr">[data-scheme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-class">.article-content</span> <span class="selector-class">.highlight</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff9f3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-scheme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-class">.chroma</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff6f00</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fff9f3cc</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//---------------------------------------------------</span></span><br><span class="line"><span class="comment">// æ–‡ç« å†…å®¹å›¾ç‰‡åœ†è§’</span></span><br><span class="line"><span class="selector-class">.article-page</span> <span class="selector-class">.main-article</span> <span class="selector-class">.article-content</span> &#123;</span><br><span class="line">  <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">96%</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">height</span>: auto <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------------------------------------------</span></span><br><span class="line"><span class="comment">// è®¾ç½®é€‰ä¸­å­—ä½“çš„åŒºåŸŸèƒŒæ™¯é¢œè‰²</span></span><br><span class="line"><span class="selector-pseudo">::selection</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#001572</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="selector-tag">text</span>-decoration: none;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--accent-color);</span><br><span class="line"></span><br><span class="line">  &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--accent-color-darker);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.link</span> &#123;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">800</span>; <span class="comment">/* å­—ä½“ç²—ç»†ä¸º700ï¼ˆåŠ ç²—ï¼‰ */</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">2px</span>; <span class="comment">/* å†…è¾¹è·ä¸ºå·¦å³å„2px */</span></span><br><span class="line">    <span class="selector-tag">text</span>-decoration: none; <span class="comment">/* å–æ¶ˆé»˜è®¤çš„ä¸‹åˆ’çº¿ */</span></span><br><span class="line">    <span class="attribute">cursor</span>: pointer; <span class="comment">/* é¼ æ ‡æŒ‡é’ˆä¸ºæŒ‡é’ˆæ ·å¼ */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* è¶…é“¾æ¥é»˜è®¤é¢œè‰²ï¼ˆæ˜äº®æ¨¡å¼ï¼‰ */</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#000000</span>; <span class="comment">/* æ˜äº®æ¨¡å¼ä¸‹é“¾æ¥å­—ä½“ä¸ºé»‘è‰²#000000 */</span></span><br><span class="line"></span><br><span class="line">    &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">        <span class="selector-tag">text</span>-decoration: underline;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-color-scheme</span>: dark) &#123;</span><br><span class="line">    <span class="selector-class">.link</span> &#123;</span><br><span class="line">        <span class="comment">/* è¶…é“¾æ¥é»˜è®¤é¢œè‰²ï¼ˆæš—è‰²æ¨¡å¼ï¼‰ */</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#FFFFFF</span>; <span class="comment">/* æš—è‰²æ¨¡å¼ä¸‹é“¾æ¥å­—ä½“ä¸ºç™½è‰²#FFFFFF */</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------------------------------------------------</span></span><br><span class="line"><span class="comment">//æ–‡ç« å°é¢é«˜åº¦æ›´æ”¹</span></span><br><span class="line"><span class="selector-class">.article-list</span> <span class="selector-tag">article</span> <span class="selector-class">.article-image</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">150px</span>; <span class="comment">// è®¾ç½®å›¾ç‰‡çš„é«˜åº¦ä¸º 150px</span></span><br><span class="line">  <span class="selector-tag">object</span>-fit: cover;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">@include</span> respond(md) &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">@include</span> respond(xl) &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">305px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------------------------------------------</span></span><br><span class="line"><span class="comment">// ä¿®å¤å¼•ç”¨å—å†…å®¹çª„é¡µé¢æ˜¾ç¤ºé—®é¢˜</span></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">word-break</span>: break-all;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">code</span> &#123;</span><br><span class="line">  <span class="attribute">word-break</span>: break-all;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="blockquote-styling"></a></p><h3 id="ğŸ’¬-MD-å¼•ç”¨å—æ ·å¼">ğŸ’¬ MD å¼•ç”¨å—æ ·å¼</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šä¸ºMarkdownå¼•ç”¨å—æ·»åŠ ç‰¹æ®Šæ ·å¼ï¼Œå¢å¼ºè§†è§‰æ•ˆæœ</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/custom.scss</code> ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–‡ç« å†…å®¹å¼•ç”¨å—æ ·å¼</span></span><br><span class="line"><span class="selector-class">.article-content</span> &#123;</span><br><span class="line">  <span class="selector-tag">blockquote</span> &#123;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">6px</span> solid <span class="number">#004b28</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#366e33</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="image-center"></a></p><h3 id="ğŸ–¼ï¸-ä½¿å›¾åºŠé“¾æ¥çš„å›¾ç‰‡å±…ä¸­">ğŸ–¼ï¸ ä½¿å›¾åºŠé“¾æ¥çš„å›¾ç‰‡å±…ä¸­</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šè®©å¤–éƒ¨å›¾åºŠçš„å›¾ç‰‡ä¹Ÿèƒ½åƒæœ¬åœ°å›¾ç‰‡ä¸€æ ·å±…ä¸­æ˜¾ç¤º</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/partials/layout/article.scss</code> Line 256 å¤„ï¼ˆåŒçº§ä»»æ„ä½ç½®ï¼‰å¢åŠ ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å›¾åºŠé“¾æ¥çš„å›¾ç‰‡å±…ä¸­</span></span><br><span class="line"><span class="selector-tag">p</span> &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="word-count"></a></p><h3 id="ğŸ“Š-ç»Ÿè®¡ç«™ç‚¹æ–‡ç« æ•°é‡å’Œå­—æ•°">ğŸ“Š ç»Ÿè®¡ç«™ç‚¹æ–‡ç« æ•°é‡å’Œå­—æ•°</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šåœ¨é¡µè„šæ˜¾ç¤ºåšå®¢æ€»æ–‡ç« æ•°å’Œæ€»å­—æ•°ç»Ÿè®¡</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨<code>./layout/partials/footer/footer.html</code> çš„ <code>&lt;section class=&quot;powerby&quot;&gt;</code> é‡Œè¾¹ï¼ŒåŠ å…¥ä»£ç ï¼š</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; $articleCount := len .Site.RegularPages &#125;&#125;</span><br><span class="line">&#123;&#123; $totalWordCount := 0 &#125;&#125;</span><br><span class="line">&#123;&#123; range .Site.Pages &#125;&#125;</span><br><span class="line">&#123;&#123; $totalWordCount = add $totalWordCount .WordCount &#125;&#125;</span><br><span class="line">&#123;&#123; end &#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>å‘å¸ƒäº† &#123;&#123; $articleCount &#125;&#125; ç¯‡æ–‡ç«  | å…± &#123;&#123;$totalWordCount&#125;&#125; å­—<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p><a id="homepage-articles"></a></p><h3 id="ğŸ -é¦–é¡µæ–‡ç« æ ·å¼">ğŸ  é¦–é¡µæ–‡ç« æ ·å¼</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šç¾åŒ–é¦–é¡µæ–‡ç« åˆ—è¡¨çš„æ˜¾ç¤ºæ•ˆæœï¼ŒåŒ…æ‹¬å›¾ç‰‡åœ†è§’å’Œæ‚¬åœåŠ¨ç”»</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/custom.scss</code> åŠ å…¥ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ä¸»é¡µæ–‡ç« å›¾ç‰‡æ ·å¼*/</span></span><br><span class="line"><span class="variable">$image-scale</span>: <span class="number">1.2</span>;</span><br><span class="line"><span class="selector-class">.article-list</span> <span class="selector-tag">article</span> <span class="selector-class">.article-image</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="selector-tag">object</span>-fit: cover;</span><br><span class="line">  <span class="comment">//ä¸åŒæ˜¾ç¤ºå™¨ï¼ˆæ‰‹æœºï¼Œå°å±å¹•ç”µè„‘ï¼Œå¤§å±å¹•ç”µè„‘ï¼‰æ˜¾ç¤ºçš„å›¾ç‰‡é«˜åº¦å¤§å°</span></span><br><span class="line">  <span class="keyword">@include</span> respond(sm) &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">305px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">@include</span> respond(md) &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">305px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">@include</span> respond(xl) &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">325px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ä¸»é¡µæ–‡ç« å›¾ç‰‡åœ†è§’*/</span></span><br><span class="line"><span class="selector-class">.article-list</span> <span class="selector-tag">article</span> &#123;</span><br><span class="line">  <span class="attr">--card-border-radius</span>: <span class="number">24px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*æ–‡ç« æ ‡ç­¾åœ†è§’*/</span></span><br><span class="line"><span class="selector-class">.article-category</span> <span class="selector-tag">a</span>, <span class="selector-class">.article-tags</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">11px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*é¼ æ ‡ç§»åŠ¨åˆ°æ–‡ç« å›¾ç‰‡æ”¾å¤§*/</span></span><br><span class="line"><span class="selector-class">.article-list</span> <span class="selector-tag">article</span> <span class="selector-class">.article-image</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden; <span class="comment">//ä¸æ˜¾ç¤ºè¶…å‡ºçš„éƒ¨åˆ†</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.article-list</span> <span class="selector-tag">article</span> <span class="selector-class">.article-image</span> <span class="selector-tag">img</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="variable">$image-scale</span>); <span class="comment">//æ”¾å¤§å°ºå¯¸</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.article-list</span> <span class="selector-tag">article</span> <span class="selector-class">.article-image</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">0.85s</span> ease-in-out;<span class="comment">//æŒç»­æ—¶é—´</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="internal-images"></a></p><h3 id="ğŸ–¼ï¸-æ–‡ç« å†…éƒ¨å›¾ç‰‡æ ·å¼">ğŸ–¼ï¸ æ–‡ç« å†…éƒ¨å›¾ç‰‡æ ·å¼</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šä¼˜åŒ–æ–‡ç« å†…éƒ¨ç›¸å…³æ–‡ç« åŒºåŸŸçš„å›¾ç‰‡æ˜¾ç¤ºæ•ˆæœ</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/custom.scss</code> åŠ å…¥ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*æ–‡ç« å†…éƒ¨-é¡µè„š-ç›¸å…³æ–‡ç« å›¾ç‰‡åœ†è§’*/</span></span><br><span class="line"><span class="selector-class">.article-list--compact</span> <span class="selector-tag">article</span> <span class="selector-class">.article-image</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">17%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*æ–‡ç« å†…éƒ¨-é¡µè„š-ç›¸å…³æ–‡ç« å›¾ç‰‡æ”¾å¤§åŠ¨ç”»*/</span></span><br><span class="line"><span class="selector-class">.article-list--compact</span> <span class="selector-tag">article</span> &gt; <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: .<span class="number">6s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.article-list--compact</span> <span class="selector-tag">article</span> &gt; <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.03</span>, <span class="number">1.03</span>);</span><br><span class="line">  <span class="attribute">overflow</span>: visible;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="macos-codeblocks"></a></p><h3 id="ğŸ’»-MacOS-é£æ ¼ä»£ç å—">ğŸ’» MacOS é£æ ¼ä»£ç å—</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šä¸ºä»£ç å—æ·»åŠ MacOSé£æ ¼é¡¶éƒ¨æ ï¼Œå¢å¼ºè§†è§‰ç¾æ„Ÿ</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/custom.scss</code> ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MacOS é£æ ¼ä»£ç å—</span></span><br><span class="line"><span class="selector-class">.article-content</span> &#123;</span><br><span class="line">  <span class="selector-class">.highlight</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(/code-header.svg);</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">32px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">57px</span>;</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">background-position</span>: -<span class="number">1px</span> <span class="number">2px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// lightæ¨¡å¼ä¸‹çš„ä»£ç å—æ ·å¼è°ƒæ•´</span></span><br><span class="line"><span class="selector-attr">[data-scheme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-class">.article-content</span> <span class="selector-class">.highlight</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fdf4eb</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-scheme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-class">.chroma</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff6f00</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fcf0e4cc</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./static</code> æ–‡ä»¶å¤¹ä¸‹æ–°å»º <code>code-header.svg</code>å†™å…¥ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/2000/svg&quot;</span> <span class="attr">version</span>=<span class="string">&quot;1.1&quot;</span>  <span class="attr">x</span>=<span class="string">&quot;0px&quot;</span> <span class="attr">y</span>=<span class="string">&quot;0px&quot;</span> <span class="attr">width</span>=<span class="string">&quot;470px&quot;</span> <span class="attr">height</span>=<span class="string">&quot;130px&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ellipse</span> <span class="attr">cx</span>=<span class="string">&quot;65&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;65&quot;</span> <span class="attr">rx</span>=<span class="string">&quot;50&quot;</span> <span class="attr">ry</span>=<span class="string">&quot;52&quot;</span> <span class="attr">stroke</span>=<span class="string">&quot;rgb(220,60,54)&quot;</span> <span class="attr">stroke-width</span>=<span class="string">&quot;2&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;rgb(237,108,96)&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ellipse</span> <span class="attr">cx</span>=<span class="string">&quot;225&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;65&quot;</span> <span class="attr">rx</span>=<span class="string">&quot;50&quot;</span> <span class="attr">ry</span>=<span class="string">&quot;52&quot;</span>  <span class="attr">stroke</span>=<span class="string">&quot;rgb(218,151,33)&quot;</span> <span class="attr">stroke-width</span>=<span class="string">&quot;2&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;rgb(247,193,81)&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ellipse</span> <span class="attr">cx</span>=<span class="string">&quot;385&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;65&quot;</span> <span class="attr">rx</span>=<span class="string">&quot;50&quot;</span> <span class="attr">ry</span>=<span class="string">&quot;52&quot;</span>  <span class="attr">stroke</span>=<span class="string">&quot;rgb(27,161,37)&quot;</span> <span class="attr">stroke-width</span>=<span class="string">&quot;2&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;rgb(100,200,86)&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><p><a id="codeblock-styling"></a></p><h3 id="ğŸ”§-ä¿®æ”¹ä»£ç å—æ ·å¼">ğŸ”§ ä¿®æ”¹ä»£ç å—æ ·å¼</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šè°ƒæ•´ä»£ç å—çš„è¾¹è·ã€åœ†è§’å’Œå¤åˆ¶æŒ‰é’®ä½ç½®</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šä¿®æ”¹ <code>.\assets\scss\partials\layout\article.scss,</code>åœ¨æ–‡ä»¶å°¾æ·»åŠ ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// --------------------ä»£ç å—æ ·å¼------------------------</span></span><br><span class="line"><span class="comment">// * ä¿®æ”¹è¾¹è·</span></span><br><span class="line"><span class="comment">// * èƒŒæ™¯æ¡†æ·»åŠ åœ†è§’</span></span><br><span class="line"><span class="comment">// * è°ƒæ•´ copy æŒ‰é’®ä½ç½®</span></span><br><span class="line"><span class="selector-class">.highlight</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="built_in">var</span>(--card-border-radius);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.copyCodeButton</span> &#123;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="syntax-highlighting"></a></p><h3 id="ğŸ¯-ä»£ç å—é«˜äº®">ğŸ¯ ä»£ç å—é«˜äº®</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šé…ç½®ä»£ç è¯­æ³•é«˜äº®æ ·å¼ï¼Œæ”¯æŒè¡Œå·æ˜¾ç¤º</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>hugo.yaml</code> ä¸­ï¼Œæ·»åŠ  <code>highlight</code> å‚æ•°ï¼š</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markup:</span></span><br><span class="line">    <span class="attr">highlight:</span></span><br><span class="line">        <span class="attr">noClasses:</span> <span class="literal">false</span></span><br><span class="line">        <span class="attr">codeFences:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">guessSyntax:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">lineNoStart:</span> <span class="number">1</span></span><br><span class="line">        <span class="attr">lineNos:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">lineNumbersInTable:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">tabWidth:</span> <span class="number">4</span></span><br><span class="line">        <span class="attr">style:</span> <span class="string">github-dark</span></span><br></pre></td></tr></table></figure><p><a id="hide-language"></a></p><h3 id="ğŸš«-å…³é—­ä»£ç å—è¯­è¨€æ˜¾ç¤º">ğŸš« å…³é—­ä»£ç å—è¯­è¨€æ˜¾ç¤º</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šéšè—ä»£ç å—é¡¶éƒ¨çš„è¯­è¨€æ ‡è¯†</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/custom.scss</code> ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…³é—­ä»£ç å—è¯­è¨€æ˜¾ç¤º</span></span><br><span class="line"><span class="selector-class">.languageCodeButton</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="external-links"></a></p><h3 id="ğŸ”—-å¤–éƒ¨é“¾æ¥åé¢æ˜¾ç¤ºå›¾æ ‡">ğŸ”— å¤–éƒ¨é“¾æ¥åé¢æ˜¾ç¤ºå›¾æ ‡</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šä¸ºå¤–éƒ¨é“¾æ¥æ·»åŠ å›¾æ ‡æ ‡è¯†ï¼Œæç¤ºç”¨æˆ·è¿™æ˜¯å¤–éƒ¨é“¾æ¥</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåˆ›å»º<code>./layouts/_default/_markup/render-link.html</code>æ–‡ä»¶ä¹‹åå¢åŠ å¦‚ä¸‹ä»£ç :</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;link&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&#123;&#123; .Destination | safeURL &#125;&#125;&quot;</span> &#123;&#123; <span class="attr">with</span> <span class="attr">.Title</span> &#125;&#125; <span class="attr">title</span>=<span class="string">&quot;&#123;&#123; . &#125;&#125;&quot;</span> &#123;&#123; <span class="attr">end</span> &#125;&#125; &#123;&#123; <span class="attr">if</span> <span class="attr">strings.HasPrefix</span> <span class="attr">.Destination</span> &quot;<span class="attr">http</span>&quot; &#125;&#125; <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;noopener&quot;</span> &#123;&#123; <span class="attr">end</span> &#125;&#125;&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;display: inline-flex; align-items: center; gap: 0.5em;&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123; .Text | safeHTML &#125;&#125;</span><br><span class="line">        &#123;&#123; if strings.HasPrefix .Destination &quot;http&quot; &#125;&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">&quot;.7em&quot;</span> <span class="attr">height</span>=<span class="string">&quot;.7em&quot;</span> <span class="attr">viewBox</span>=<span class="string">&quot;0 0 21 21&quot;</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/2000/svg&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;currentColor&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;currentColor&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">        &#123;&#123; end &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p><a id="copy-buttons"></a></p><h3 id="ğŸ“‹-è¯­è¨€å’Œå¤åˆ¶æŒ‰é’®">ğŸ“‹ è¯­è¨€å’Œå¤åˆ¶æŒ‰é’®</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šæ”¹è¿›ä»£ç å—çš„è¯­è¨€æ ‡è¯†å’Œå¤åˆ¶æŒ‰é’®çš„æ˜¾ç¤ºæ–¹å¼</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/ts/main.ts</code> ä¸­ï¼Œç¬¬ 66 è¡Œå¼€å§‹ï¼Œæ”¹æˆä»¥ä¸‹ä»£ç </li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> highlights = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.article-content div.highlight&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> copyText = <span class="string">`ğŸ“„æ‹·è´`</span>,</span><br><span class="line">    copiedText = <span class="string">`å·²æ‹·è´!`</span>;</span><br><span class="line"></span><br><span class="line">highlights.<span class="title function_">forEach</span>(<span class="function">(<span class="params">highlight</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> copyButton = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;button&quot;</span>);</span><br><span class="line">    copyButton.<span class="property">innerHTML</span> = copyText;</span><br><span class="line">    copyButton.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;copyCodeButton&quot;</span>);</span><br><span class="line">    highlight.<span class="title function_">appendChild</span>(copyButton);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> codeBlock = highlight.<span class="title function_">querySelector</span>(<span class="string">&quot;code[data-lang]&quot;</span>);</span><br><span class="line">    <span class="comment">// è·å–è¯­è¨€</span></span><br><span class="line">    <span class="keyword">const</span> lang = codeBlock.<span class="title function_">getAttribute</span>(<span class="string">&quot;data-lang&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!codeBlock) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    copyButton.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        navigator.<span class="property">clipboard</span></span><br><span class="line">            .<span class="title function_">writeText</span>(codeBlock.<span class="property">textContent</span>)</span><br><span class="line">            .<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                copyButton.<span class="property">textContent</span> = copiedText;</span><br><span class="line"></span><br><span class="line">                <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                    copyButton.<span class="property">textContent</span> = copyText;</span><br><span class="line">                &#125;, <span class="number">1000</span>);</span><br><span class="line">            &#125;)</span><br><span class="line">            .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="title function_">alert</span>(err);</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Something went wrong&quot;</span>, err);</span><br><span class="line">            &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Add language code button</span></span><br><span class="line">    <span class="keyword">const</span> languageButton = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;button&quot;</span>);</span><br><span class="line">    languageButton.<span class="property">innerHTML</span> = lang.<span class="title function_">toUpperCase</span>() + <span class="string">&quot;&amp;nbsp;&amp;nbsp;&quot;</span>;</span><br><span class="line">    languageButton.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;languageCodeButton&quot;</span>);</span><br><span class="line"></span><br><span class="line">    highlight.<span class="title function_">appendChild</span>(languageButton);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">StackColorScheme</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;dark-mode-toggle&quot;</span>));</span><br></pre></td></tr></table></figure><ul><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/custom.scss</code> ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç è°ƒæ•´æŒ‰é’®ä½ç½®ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å¤åˆ¶æŒ‰é’®æ ·å¼è°ƒæ•´ */</span></span><br><span class="line"><span class="selector-class">.article-content</span> <span class="selector-class">.copyCodeButton</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ffffff</span>; </span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#3d3c3c</span>; </span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#333</span>; </span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">500</span>;</span><br><span class="line">  <span class="selector-tag">text</span>-shadow: <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span> <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.5</span>); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ³¨é‡Šè¯­è¨€ä»£ç æ¡† */</span></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">.article-content .languageCodeButton &#123;</span></span><br><span class="line"><span class="comment">  position: absolute;</span></span><br><span class="line"><span class="comment">  top: 9px;</span></span><br><span class="line"><span class="comment">  right: 100px; </span></span><br><span class="line"><span class="comment">  border-radius: 12px;</span></span><br><span class="line"><span class="comment">  color: #000; </span></span><br><span class="line"><span class="comment">  background: #ffff00; </span></span><br><span class="line"><span class="comment">  border: 1px solid #333; </span></span><br><span class="line"><span class="comment">  padding: 5px 10px;</span></span><br><span class="line"><span class="comment">  font-family: lato;</span></span><br><span class="line"><span class="comment">  font-size: 1.5rem;</span></span><br><span class="line"><span class="comment">  text-shadow: 0 0 1px rgba(255, 255, 255, 0.5); </span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.article-content</span> <span class="selector-class">.copyCodeButton</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ffa500</span>; </span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#000</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="sidebar-beautification"></a></p><h2 id="ğŸ“Œ-ä¾§è¾¹æ ç¾åŒ–">ğŸ“Œ ä¾§è¾¹æ ç¾åŒ–</h2><p><a id="sidebar-width"></a></p><h3 id="ğŸ“-é¡µé¢å·¦å³è¾¹æ å®½åº¦">ğŸ“ é¡µé¢å·¦å³è¾¹æ å®½åº¦</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šè°ƒæ•´å·¦å³ä¾§è¾¹æ çš„å®½åº¦æ¯”ä¾‹ï¼Œä¼˜åŒ–é˜…è¯»ä½“éªŒ</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>/themes/hugo-theme-stack/assets/scss/grid.scss</code> çš„ç¬¬ 29ã€30 è¡Œï¼Œä¿®æ”¹ä¸º:</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">--left-sidebar-max-width</span>: <span class="number">14%</span>;</span><br><span class="line"><span class="attr">--right-sidebar-max-width</span>: <span class="number">22%</span>;</span><br></pre></td></tr></table></figure><p><a id="right-sidebar-animation"></a></p><h3 id="ğŸ­-å³ä¾§å¯¼èˆªæ åŠ¨ç”»">ğŸ­ å³ä¾§å¯¼èˆªæ åŠ¨ç”»</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šä¸ºå³ä¾§è¾¹æ å…ƒç´ æ·»åŠ æ‚¬åœåŠ¨ç”»æ•ˆæœ</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/custom.scss</code> ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//------------------------------------------------------</span></span><br><span class="line"><span class="comment">//å½’æ¡£å°å›¾æ ‡æ”¾å¤§åŠ¨ç”»</span></span><br><span class="line"><span class="selector-class">.widget</span><span class="selector-class">.archives</span> <span class="selector-class">.widget-archive--list</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: transform .<span class="number">3s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.widget</span><span class="selector-class">.archives</span> <span class="selector-class">.widget-archive--list</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.05</span>, <span class="number">1.05</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------------------------------------------</span></span><br><span class="line"><span class="comment">//å³ä¾§æ ‡ç­¾æ”¾å¤§åŠ¨ç”»</span></span><br><span class="line"><span class="selector-class">.tagCloud</span> <span class="selector-class">.tagCloud-tags</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.4rem</span>;</span><br><span class="line">  <span class="attribute">transition</span>: transform .<span class="number">3s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tagCloud</span> <span class="selector-class">.tagCloud-tags</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>, <span class="number">1.1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="left-sidebar-styling"></a></p><h3 id="ğŸ¨-å·¦ä¾§å¯¼èˆªæ ç¾åŒ–">ğŸ¨ å·¦ä¾§å¯¼èˆªæ ç¾åŒ–</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šç¾åŒ–å·¦ä¾§è¾¹æ çš„å¤´åƒã€ç¤¾äº¤å›¾æ ‡ç­‰å…ƒç´ </li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/custom.scss</code> åŠ å…¥ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*--------------------å·¦ä¾§å¯¼èˆªæ ---------------*/</span></span><br><span class="line"><span class="selector-class">.left-sidebar</span> &#123;</span><br><span class="line">  <span class="attr">--sidebar-avatar-size</span>: <span class="number">115px</span>; <span class="comment">//å·¦ä¾§å¤´åƒå¤§å°</span></span><br><span class="line">  <span class="attr">--sidebar-element-separation</span>: <span class="number">15px</span>; <span class="comment">//å¤´åƒä¸‹æ–¹é—´è·</span></span><br><span class="line">  <span class="attr">--emoji-size</span>: <span class="number">40px</span>; <span class="comment">//emojiå®¹å™¨å¤§å°</span></span><br><span class="line">  <span class="attr">--emoji-font-size</span>: <span class="number">25px</span>; <span class="comment">//emojiå­—ä½“å¤§å°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ç¤¾äº¤èœå•å±…ä¸­*/</span></span><br><span class="line"><span class="selector-class">.social-menu</span> <span class="selector-tag">svg</span> &#123;</span><br><span class="line">  <span class="attribute">gap</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>; <span class="comment">//ç¤¾äº¤èœå•å¤§å°</span></span><br><span class="line">  <span class="attribute">stroke</span>: <span class="built_in">var</span>(--body-text-color);</span><br><span class="line">  <span class="attribute">stroke-width</span>: <span class="number">1.33</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="left-sidebar-animation"></a></p><h3 id="âœ¨-å·¦ä¾§å¯¼èˆªæ åŠ¨ç”»">âœ¨ å·¦ä¾§å¯¼èˆªæ åŠ¨ç”»</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šä¸ºå·¦ä¾§èœå•é¡¹æ·»åŠ æ‚¬åœåŠ¨ç”»æ•ˆæœ</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/custom.scss</code> ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//------------------------------------------------------</span></span><br><span class="line"><span class="comment">/* å·¦ä¾§æ é€‰é¡¹åŠ¨ç”» */</span></span><br><span class="line"><span class="selector-id">#main-menu</span> &#123;</span><br><span class="line">    <span class="attribute">overflow</span>: visible;</span><br><span class="line">    <span class="selector-tag">li</span> &#123;</span><br><span class="line">        <span class="selector-tag">a</span> &#123;</span><br><span class="line">            -webkit-<span class="attribute">font-smoothing</span>: antialiased;</span><br><span class="line">            <span class="attribute">will-change</span>: transform;</span><br><span class="line">            <span class="attribute">transition</span>: transform <span class="number">0.6s</span> ease;</span><br><span class="line">            &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">                <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>, <span class="number">1.1</span>);</span><br><span class="line">                <span class="attribute">will-change</span>: transform;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å½’æ¡£å’Œé“¾æ¥å¡ç‰‡åŠ¨ç”» */</span></span><br><span class="line"><span class="selector-class">.article-list--compact</span> &#123;</span><br><span class="line">    <span class="attribute">overflow</span>: visible;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.article-list--compact</span> <span class="selector-tag">article</span> &#123;</span><br><span class="line">    <span class="attribute">transition</span>: transform <span class="number">0.6s</span> ease;</span><br><span class="line">    -webkit-<span class="attribute">font-smoothing</span>: antialiased;</span><br><span class="line">    <span class="attribute">will-change</span>: transform;</span><br><span class="line">    </span><br><span class="line">    &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.05</span>,<span class="number">1.05</span>);</span><br><span class="line">        <span class="attribute">z-index</span>: <span class="number">4</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ†ç±»é¡µé¢åŠ¨ç”» */</span></span><br><span class="line"><span class="selector-class">.article-list--tile</span> <span class="selector-tag">article</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.6s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.article-list--tile</span> <span class="selector-tag">article</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.05</span>, <span class="number">1.05</span>);</span><br><span class="line">  <span class="attribute">will-change</span>: transform;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="social-icons"></a></p><h3 id="ğŸ¤-ç¤¾äº¤-social">ğŸ¤ ç¤¾äº¤ social</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šè‡ªå®šä¹‰ç¤¾äº¤å›¾æ ‡å¹¶æ·»åŠ æ—‹è½¬åŠ¨ç”»æ•ˆæœ</li><li>ğŸ“Œ <strong>è¯´æ˜</strong>ï¼šè‡ªå®šä¹‰å›¾æ ‡ï¼Œiconfont ä¸‹è½½ï¼Œé¢œè‰² #2c3e50ï¼Œå¤§å° 24ï¼Œæ ¼å¼ svgã€‚ä¸‹è½½åæ”¾åˆ° <code>.\assets\icons</code></li><li>ğŸ“Œ <strong>è¯´æ˜</strong>ï¼šæœ¬ä¸»é¢˜è‡ªå¸¦äº†ä¸€äº›æ¥è‡ªã€<a href="https://tabler.io/icons">Tabler Icons</a>ã€‘çš„ SVG å›¾æ ‡ã€‚æ‚¨å¯ä»¥åœ¨ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ°å®ƒä»¬ <code>.\assets\icons</code></li><li>ğŸ’¡ <strong>æç¤º</strong>ï¼šå°†ä¸‹è½½çš„ img ä¸­çš„ svg çš„æ‰€æœ‰ #2c3e50 æ”¹æˆ <code>currentColor</code>ï¼Œå¦åˆ™åˆ‡æ¢ä¸ºé»‘è‰²æ¨¡å¼ï¼Œå›¾æ ‡é¢œè‰²ä¸èƒ½è‡ªåŠ¨åˆ‡æ¢ï¼Œå› ä¸ºä¼˜å…ˆä½¿ç”¨å†…éƒ¨å®šä¹‰çš„ color</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šä¿®æ”¹ hugo ä¸»é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹ä¸‹é¢çš„å†…å®¹ï¼š</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">    <span class="attr">main:</span> [] <span class="comment"># ä¸»èœå•</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">social:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">identifier:</span> <span class="string">bilibili</span> <span class="comment"># æ ‡è¯†ç¬¦</span></span><br><span class="line">          <span class="attr">name:</span> <span class="string">Bilibili</span> <span class="comment"># æ˜¾ç¤ºåç§°</span></span><br><span class="line">          <span class="attr">url:</span> <span class="string">https://space.bilibili.com/35158479</span> <span class="comment"># é“¾æ¥åœ°å€</span></span><br><span class="line">          <span class="attr">weight:</span> <span class="number">100</span> <span class="comment"># é¡¹ç›®çš„ä¼˜å…ˆçº§ï¼Œå€¼è¶Šä½ï¼Œä¼˜å…ˆçº§è¶Šé«˜ã€‚</span></span><br><span class="line">          <span class="attr">params:</span></span><br><span class="line">              <span class="attr">icon:</span> <span class="string">brand-bilibili</span> <span class="comment"># å›¾æ ‡åç§°</span></span><br><span class="line">              <span class="attr">newTab:</span> <span class="literal">true</span> <span class="comment"># æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€æ­¤é“¾æ¥</span></span><br><span class="line"></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">identifier:</span> <span class="string">github</span> <span class="comment"># æ ‡è¯†ç¬¦</span></span><br><span class="line">          <span class="attr">name:</span> <span class="string">GitHub</span> <span class="comment"># æ˜¾ç¤ºåç§°</span></span><br><span class="line">          <span class="attr">url:</span> <span class="string">https://github.com/meimolihan</span> <span class="comment"># é“¾æ¥åœ°å€</span></span><br><span class="line">          <span class="attr">weight:</span> <span class="number">200</span> <span class="comment"># é¡¹ç›®çš„ä¼˜å…ˆçº§ï¼Œå€¼è¶Šä½ï¼Œä¼˜å…ˆçº§è¶Šé«˜ã€‚</span></span><br><span class="line">          <span class="attr">params:</span></span><br><span class="line">              <span class="attr">icon:</span> <span class="string">brand-github</span> <span class="comment"># å›¾æ ‡åç§°</span></span><br><span class="line">              <span class="attr">newTab:</span> <span class="literal">true</span> <span class="comment"># æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€æ­¤é“¾æ¥</span></span><br><span class="line"></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">identifier:</span> <span class="string">rss</span> <span class="comment"># æ ‡è¯†ç¬¦</span></span><br><span class="line">          <span class="attr">name:</span> <span class="string">RSS</span> <span class="comment"># æ˜¾ç¤ºåç§°</span></span><br><span class="line">          <span class="attr">url:</span> <span class="string">https://meimolihan.github.io/index.xml</span> <span class="comment"># é“¾æ¥åœ°å€</span></span><br><span class="line">          <span class="attr">weight:</span> <span class="number">300</span> <span class="comment"># é¡¹ç›®çš„ä¼˜å…ˆçº§ï¼Œå€¼è¶Šä½ï¼Œä¼˜å…ˆçº§è¶Šé«˜ã€‚</span></span><br><span class="line">          <span class="attr">params:</span></span><br><span class="line">              <span class="attr">icon:</span> <span class="string">brand-rss</span> <span class="comment"># å›¾æ ‡åç§°</span></span><br><span class="line">              <span class="attr">newTab:</span> <span class="literal">true</span> <span class="comment"># æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€æ­¤é“¾æ¥</span></span><br></pre></td></tr></table></figure><ul><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šå›¾æ ‡360åº¦æ—‹è½¬åŠ¨ç”»<code>.\assets\scss\custom.scss</code>è¿½åŠ ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.icon-tabler-brand-bilibili</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">1s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* é¼ æ ‡æ‚¬åœæ—¶è®© SVG å›¾æ ‡æ—‹è½¬ 360 åº¦ */</span></span><br><span class="line"><span class="selector-class">.icon-tabler-brand-bilibili</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.icon-tabler-brand-github</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">1s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* é¼ æ ‡æ‚¬åœæ—¶è®© SVG å›¾æ ‡æ—‹è½¬ 360 åº¦ */</span></span><br><span class="line"><span class="selector-class">.icon-tabler-brand-github</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.icon-tabler-rss</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">1s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* é¼ æ ‡æ‚¬åœæ—¶è®© SVG å›¾æ ‡æ—‹è½¬ 360 åº¦ */</span></span><br><span class="line"><span class="selector-class">.icon-tabler-rss</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="dark-mode-toggle"></a></p><h3 id="ğŸŒ“-æ˜äº®æ¨¡å¼è°ƒæ•´ä½ç½®">ğŸŒ“ æ˜äº®æ¨¡å¼è°ƒæ•´ä½ç½®</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šè°ƒæ•´æ˜æš—æ¨¡å¼åˆ‡æ¢æŒ‰é’®çš„ä½ç½®</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/custom.scss</code> ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ˜æš—æ¨¡å¼åˆ‡æ¢æŒ‰é’®ï¼Œè°ƒæ•´ä½ç½®</span></span><br><span class="line"><span class="selector-id">#dark-mode-toggle</span> &#123;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">100px</span>; <span class="comment">// æ˜æš—æ¨¡å¼ï¼Œä¸Šä¸‹é«˜åº¦</span></span><br><span class="line">    <span class="comment">// margin-left: 10px;  // æ˜æš—æ¨¡å¼ï¼Œå·¦å³è°ƒèŠ‚</span></span><br><span class="line">    <span class="attribute">gap</span>: <span class="number">30px</span>; <span class="comment">// æ˜æš—æ¨¡å¼ï¼Œæ¨ªå‘å®½åº¦</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="manual-sidebar"></a></p><h3 id="âš™ï¸-æ‰‹åŠ¨ä¿®æ”¹å·¦å³ä¾§è¾¹æ è®¾ç½®æ ·å¼">âš™ï¸ æ‰‹åŠ¨ä¿®æ”¹å·¦å³ä¾§è¾¹æ è®¾ç½®æ ·å¼</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šæ‰‹åŠ¨ç²¾ç¡®æ§åˆ¶å·¦å³ä¾§è¾¹æ çš„å®½åº¦æ¯”ä¾‹</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>/assets/scss/grid.scss</code> ä¸­ä¿®æ”¹ <code>left-sidebar</code> å’Œ <code>right-sidebar</code> çš„æè¿°ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸ºå·¦å³ä¾§è¾¹æ è®¾ç½®æ ·å¼ï¼Œå°†å·¦ä¾§è¾¹æ çš„æ’åˆ—é¡ºåºè®¾ä¸º -3 å¹¶å°†æœ€å¤§å®½åº¦è®¾ä¸ºçˆ¶å®¹å™¨çš„ 10%ï¼Œå³ä¾§è¾¹æ æ’åˆ—é¡ºåºè®¾ä¸º -1 ä¸”æœ€å¤§å®½åº¦ä¸ºçˆ¶å®¹å™¨çš„ 20%ï¼ŒåŒæ—¶åˆ©ç”¨è‡ªå®šä¹‰å“åº”å¼æ··åˆå™¨ï¼Œä½¿å³ä¾§è¾¹æ åœ¨å±å¹•è¾¾åˆ°ç‰¹å®šå¤§å°ºå¯¸ï¼ˆå¯¹åº” lgï¼‰æ—¶ä»¥å¼¹æ€§å¸ƒå±€æ˜¾ç¤ºã€‚</span></span><br><span class="line">    <span class="selector-class">.left-sidebar</span> &#123;</span><br><span class="line">        <span class="attribute">order</span>: -<span class="number">3</span>;</span><br><span class="line">        <span class="comment">// max-width: var(--left-sidebar-max-width);</span></span><br><span class="line">        <span class="attribute">max-width</span>: <span class="number">10%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.right-sidebar</span> &#123;</span><br><span class="line">        <span class="attribute">order</span>: -<span class="number">1</span>;</span><br><span class="line">        <span class="comment">// max-width: var(--right-sidebar-max-width);</span></span><br><span class="line">        <span class="attribute">max-width</span>: <span class="number">20%</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/// Display right sidebar when min-width: lg</span></span><br><span class="line">        <span class="keyword">@include</span> respond(lg) &#123;</span><br><span class="line">            <span class="attribute">display</span>: flex;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>æŠŠæ­£æ–‡çš„å æ¯”æ”¹åˆ°äº† 70%, åŸæ¥çš„åªæœ‰ 50% å·¦å³</p><p><a id="avatar-rotation"></a></p><h3 id="ğŸ”„-å¤´åƒæ—‹è½¬">ğŸ”„ å¤´åƒæ—‹è½¬</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šä¸ºåšå®¢å¤´åƒæ·»åŠ æ—‹è½¬åŠ¨ç”»æ•ˆæœ</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/custom.scss</code> ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ----------å¤´åƒæ—‹è½¬åŠ¨ç”»--------------</span></span><br><span class="line"><span class="selector-class">.sidebar</span> <span class="selector-tag">header</span> <span class="selector-class">.site-avatar</span> <span class="selector-class">.site-logo</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">1.65s</span> ease-in-out; <span class="comment">// æ—‹è½¬æ—¶é—´</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sidebar</span> <span class="selector-tag">header</span> <span class="selector-class">.site-avatar</span> <span class="selector-class">.site-logo</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>); <span class="comment">// æ—‹è½¬è§’åº¦ä¸º360åº¦</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="three-column-layout"></a></p><h3 id="ğŸ“‚-å‹æƒ…é“¾æ¥-åˆ†ç±»-æ ‡ç­¾-å½’æ¡£ã€ä¸‰æ æ˜¾ç¤ºã€‘">ğŸ“‚ å‹æƒ…é“¾æ¥+åˆ†ç±»+æ ‡ç­¾+å½’æ¡£ã€ä¸‰æ æ˜¾ç¤ºã€‘</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šå°†å‹æƒ…é“¾æ¥ã€åˆ†ç±»ã€æ ‡ç­¾å’Œå½’æ¡£ä»¥ä¸‰æ ç½‘æ ¼å¸ƒå±€æ˜¾ç¤º</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/custom.scss</code> ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//------------------------------------------------------</span></span><br><span class="line"><span class="comment">// å‹æƒ…é“¾æ¥+åˆ†ç±»+æ ‡ç­¾+å½’æ¡£ã€ä¸‰æ æ˜¾ç¤ºã€‘</span></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">1024px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.article-list--compact</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="comment">// ç›®å‰æ˜¯ä¸‰åˆ—ï¼Œå¦‚éœ€äºŒåˆ—ï¼Œåˆ™åé¢å‡å»ä¸€ä¸ª1frï¼Œä»¥æ­¤ç±»æ¨</span></span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">1</span>fr <span class="number">1</span>fr <span class="number">1</span>fr;</span><br><span class="line">    <span class="attribute">background</span>: none;</span><br><span class="line">    <span class="attribute">box-shadow</span>: none;</span><br><span class="line">    <span class="attribute">gap</span>: <span class="number">1rem</span>;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">article</span> &#123;</span><br><span class="line">      <span class="attribute">background</span>: <span class="built_in">var</span>(--card-background);</span><br><span class="line">      <span class="attribute">border</span>: none;</span><br><span class="line">      <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--shadow-l2);</span><br><span class="line">      <span class="attribute">margin-bottom</span>: <span class="number">8px</span>;</span><br><span class="line">      <span class="attribute">margin-right</span>: <span class="number">8px</span>;</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">16px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="archive-cards"></a></p><h3 id="ğŸ“¦-ç¼©å°å½’æ¡£é¡µçš„åˆ†ç±»å¡ç‰‡å°ºå¯¸">ğŸ“¦ ç¼©å°å½’æ¡£é¡µçš„åˆ†ç±»å¡ç‰‡å°ºå¯¸</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šè°ƒæ•´å½’æ¡£é¡µé¢åˆ†ç±»å¡ç‰‡çš„å°ºå¯¸ï¼Œä½¿å…¶æ›´åŠ ç´§å‡‘</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/partials/layout/list.scss</code>ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š(å¹¶ä¿®æ”¹)</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//---------------ç¼©å°å½’æ¡£é¡µçš„åˆ†ç±»å¡ç‰‡å°ºå¯¸---------------</span></span><br><span class="line"><span class="selector-class">.subsection-list</span> &#123;</span><br><span class="line">    <span class="attribute">overflow-x</span>: auto;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.article-list--tile</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: flex;</span><br><span class="line">        <span class="attribute">padding-bottom</span>: <span class="number">0px</span>;</span><br><span class="line"></span><br><span class="line">        <span class="selector-tag">article</span> &#123;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">230px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">120px</span>;</span><br><span class="line">            <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span><br><span class="line">            <span class="attribute">flex-shrink</span>: <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="selector-class">.article-title</span> &#123;</span><br><span class="line">                <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">                <span class="attribute">font-size</span>: <span class="number">1.8rem</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="selector-class">.article-details</span> &#123;</span><br><span class="line">                <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="toc-spacing"></a></p><h3 id="ğŸ“‹-è°ƒæ•´-TOC-ç›®å½•é—´è·">ğŸ“‹ è°ƒæ•´ TOC ç›®å½•é—´è·</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šä¼˜åŒ–ç›®å½•æ˜¾ç¤ºçš„é—´è·å’Œæ ·å¼ï¼Œæé«˜å¯è¯»æ€§</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/custom.scss</code> ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ----------------è°ƒæ•´ TOC ç›®å½•é—´è·------------------</span></span><br><span class="line"><span class="comment">// ä¸»è¦è§£å†³äº†å‡ ä¸ªé—®é¢˜ï¼š</span></span><br><span class="line"><span class="comment">// ç›®å½•å¤ªé«˜äº†ï¼Œä½¿å¾—ä¹‹å‰æ·»åŠ çš„è¿”å›é¡¶éƒ¨æŒ‰é’®å¯èƒ½ä¼šè¢«é¡¶å‡ºå±å¹•ï¼›</span></span><br><span class="line"><span class="comment">// ç›®å½•é¡¹å‰é¢çš„å°é»‘ç‚¹ä¸å¤ªå¥½çœ‹ï¼Œéšå»ï¼›</span></span><br><span class="line"><span class="comment">// ç›®å½•é¡¹ä¹‹é—´çš„è·ç¦»ä¸å¤Ÿç´§å‡‘ã€‚</span></span><br><span class="line"><span class="selector-class">.widget--toc</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--card-background);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="built_in">var</span>(--card-border-radius);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--shadow-l2); <span class="comment">//ä¿®æ”¹é˜´å½±æ ·å¼</span></span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--card-text-color-main);</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">display</span>:inline-block; <span class="comment">//æ ¹æ®å†…å®¹è°ƒæ•´å®½åº¦</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#TableOfContents</span> &#123;</span><br><span class="line">      <span class="attribute">max-height</span>: <span class="number">65vh</span>;</span><br><span class="line"></span><br><span class="line">      <span class="selector-tag">ol</span>,</span><br><span class="line">      <span class="selector-tag">ul</span> &#123;</span><br><span class="line">          <span class="attribute">list-style-type</span>: none;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="selector-tag">li</span> &#123;</span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">10px</span>;</span><br><span class="line"></span><br><span class="line">          &amp; &gt; <span class="selector-tag">ol</span>,</span><br><span class="line">          &amp; &gt; <span class="selector-tag">ul</span> &#123;</span><br><span class="line">              <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">              <span class="attribute">padding-left</span>: <span class="number">10px</span>;</span><br><span class="line">              <span class="attribute">margin-bottom</span>: -<span class="number">5px</span>;</span><br><span class="line"></span><br><span class="line">              &amp; &gt; <span class="selector-tag">li</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">                  <span class="attribute">margin-bottom</span>: <span class="number">0</span>;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      &amp; &gt; <span class="selector-tag">ul</span> &#123;</span><br><span class="line">          <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">1em</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="selector-tag">li</span> &#123;</span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">20px</span>; <span class="comment">//ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¡Œé—´è·ï¼Œç¬¬äºŒä¸ªæ˜¯å¡ç‰‡å‘¨è¾¹çš„å®½åº¦</span></span><br><span class="line">          </span><br><span class="line">          <span class="attribute">padding</span>: <span class="number">6px</span>; <span class="comment">//æ§åˆ¶å†…è¾¹è·</span></span><br><span class="line"></span><br><span class="line">          &amp; &gt; <span class="selector-tag">ol</span>,</span><br><span class="line">          &amp; &gt; <span class="selector-tag">ul</span> &#123;</span><br><span class="line">              <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">              <span class="attribute">padding-left</span>: <span class="number">10px</span>;</span><br><span class="line">              <span class="attribute">margin-bottom</span>: -<span class="number">5px</span>;</span><br><span class="line"></span><br><span class="line">              &amp; &gt; <span class="selector-tag">li</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">                  <span class="attribute">margin-bottom</span>: <span class="number">0</span>;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="link-hover"></a></p><h3 id="ğŸ”-é¼ æ ‡æ‚¬åœè¶…é“¾æ¥çš„æ˜¾ç¤º">ğŸ” é¼ æ ‡æ‚¬åœè¶…é“¾æ¥çš„æ˜¾ç¤º</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šä¸ºè¶…é“¾æ¥æ·»åŠ æ‚¬åœé«˜äº®æ•ˆæœï¼Œå¢å¼ºäº¤äº’ä½“éªŒ</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/custom.scss</code> ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ---------------------é¼ æ ‡æ‚¬åœï¼Œè¶…é“¾æ¥çš„æ˜¾ç¤º-------------------</span></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="selector-tag">text</span>-decoration: none;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--accent-color);</span><br><span class="line"></span><br><span class="line">  &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--accent-color-darker);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;<span class="selector-class">.link</span> &#123;</span><br><span class="line">    <span class="comment">// é¼ æ ‡æœªæ‚¬åœæ—¶ï¼Œè¶…é“¾æ¥æ˜¾ç¤º2pxçš„é«˜äº®</span></span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> -<span class="number">2px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="built_in">var</span>(--link-background-color), <span class="built_in">var</span>(--link-background-opacity-hover)) inset;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.3s</span> ease;</span><br><span class="line"></span><br><span class="line">    &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="comment">// é¼ æ ‡æ‚¬åœï¼Œé«˜äº®ä¸º18px</span></span><br><span class="line">      <span class="attribute">box-shadow</span>: <span class="number">0px</span> -<span class="number">18px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="built_in">var</span>(--link-background-color), <span class="built_in">var</span>(--link-background-opacity-hover)) inset;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="other-widgets"></a></p><h2 id="ğŸ”§-å…¶å®ƒå°éƒ¨ä»¶">ğŸ”§ å…¶å®ƒå°éƒ¨ä»¶</h2><p><a id="site-stats"></a></p><h3 id="ğŸ“ˆ-æ·»åŠ ç«™ç‚¹ç»Ÿè®¡ä¿¡æ¯ä¸-i18n">ğŸ“ˆ æ·»åŠ ç«™ç‚¹ç»Ÿè®¡ä¿¡æ¯ä¸ i18n</h3><ul><li><p>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šåœ¨é¡µè„šæ˜¾ç¤ºåšå®¢è¿è¡Œæ—¶é—´ã€æ–‡ç« ç»Ÿè®¡å’Œè®¿é—®é‡æ•°æ®ï¼Œæ”¯æŒå¤šè¯­è¨€</p></li><li><p>ğŸ“Œ <strong>å±•ç¤ºæ ¼å¼</strong>ï¼š</p><ul><li>æœ¬åšå®¢å·²ç¨³å®šè¿è¡Œ x å¤© y å°æ—¶ z åˆ†é’Ÿ</li><li>å…±å‘è¡¨ x ç¯‡æ–‡ç« ãƒ»æ€»è®¡ y k å­—</li><li>æœ¬ç«™æ€»è®¿é—®é‡ x æ¬¡</li></ul></li><li><p>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨æ ¹ç›®å½•<code>./layouts/partials/footer/footer.html</code> æ–‡ä»¶å†…æ·»åŠ å¦‚ä¸‹ä»£ç :</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;count_info&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            &#123;&#123; T &quot;footer.runtime1&quot; &#125;&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;ds&quot;</span> <span class="attr">class</span>=<span class="string">&quot;running-days&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            &#123;&#123; T &quot;footer.runtime2&quot; &#125;&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;hs&quot;</span> <span class="attr">class</span>=<span class="string">&quot;running-days&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            &#123;&#123; T &quot;footer.runtime3&quot; &#125;&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;ms&quot;</span> <span class="attr">class</span>=<span class="string">&quot;running-days&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            &#123;&#123; T &quot;footer.runtime4&quot; &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            &#123;&#123;$scratch := newScratch&#125;&#125;</span><br><span class="line">            &#123;&#123; range (where .Site.Pages &quot;Kind&quot; &quot;page&quot; )&#125;&#125;</span><br><span class="line">            &#123;&#123;$scratch.Add &quot;total&quot; .WordCount&#125;&#125;</span><br><span class="line">            &#123;&#123; end &#125;&#125;</span><br><span class="line">            &#123;&#123; T &quot;footer.count1&quot; &#125;&#125; &#123;&#123; len (where .Site.RegularPages &quot;Section&quot; &quot;post&quot;) &#125;&#125; &#123;&#123; T &quot;footer.count2&quot; &#125;&#125; &#123;&#123; div ($scratch.Get &quot;total&quot;) 1000.0 | lang.FormatNumber 2 &#125;&#125; k &#123;&#123; T &quot;footer.count3&quot; &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;busuanzi_container_site_pv&quot;</span>&gt;</span>&#123;&#123; T &quot;footer.pv1&quot; &#125;&#125;<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;busuanzi_value_site_pv&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>&#123;&#123; T &quot;footer.pv2&quot; &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Add blog running time --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> s1 = <span class="string">&#x27;2023-6-18&#x27;</span>; <span class="comment">//website start date</span></span></span><br><span class="line"><span class="language-javascript">    s1 = <span class="keyword">new</span> <span class="title class_">Date</span>(s1.<span class="title function_">replace</span>(<span class="regexp">/-/g</span>, <span class="string">&quot;/&quot;</span>));</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> s2 = <span class="keyword">new</span> <span class="title class_">Date</span>();</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> timeDifference = s2.<span class="title function_">getTime</span>() - s1.<span class="title function_">getTime</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> days = <span class="title class_">Math</span>.<span class="title function_">floor</span>(timeDifference / (<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>));</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> hours = <span class="title class_">Math</span>.<span class="title function_">floor</span>((timeDifference % (<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>)) / (<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span>));</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> minutes = <span class="title class_">Math</span>.<span class="title function_">floor</span>((timeDifference % (<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span>)) / (<span class="number">1000</span> * <span class="number">60</span>));</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;ds&#x27;</span>).<span class="property">innerHTML</span> = days;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;hs&#x27;</span>).<span class="property">innerHTML</span> = hours;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;ms&#x27;</span>).<span class="property">innerHTML</span> = minutes;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ä¸»é¢˜ç›®å½•<code>/i18n/zh-cn.yaml</code> ä¸‹æ‰¾åˆ°å¯¹åº”è¯­è¨€çš„æ–‡ä»¶ï¼Œåœ¨å±æ€§ footer ä¸‹æ·»åŠ ç›¸åº”å­—æ®µï¼Œç»“æœå¦‚ä¸‹:</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">    <span class="comment"># æœ¬åšå®¢å·²ç¨³å®šè¿è¡Œ1å¤©2å°æ—¶3åˆ†é’Ÿ</span></span><br><span class="line">    <span class="attr">runtime1:</span></span><br><span class="line">        <span class="attr">other:</span> <span class="string">æœ¬åšå®¢å·²ç¨³å®šè¿è¡Œ</span></span><br><span class="line">    <span class="attr">runtime2:</span></span><br><span class="line">        <span class="attr">other:</span> <span class="string">å¤©</span></span><br><span class="line">    <span class="attr">runtime3:</span></span><br><span class="line">        <span class="attr">other:</span> <span class="string">å°æ—¶</span></span><br><span class="line">    <span class="attr">runtime4:</span></span><br><span class="line">        <span class="attr">other:</span> <span class="string">åˆ†é’Ÿ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å…±å‘è¡¨xç¯‡æ–‡ç« ï¼Œæ€»è®¡y kå­—</span></span><br><span class="line">    <span class="attr">count1:</span></span><br><span class="line">        <span class="attr">other:</span> <span class="string">å…±å‘è¡¨</span></span><br><span class="line">    <span class="attr">count2:</span></span><br><span class="line">        <span class="attr">other:</span> <span class="string">ç¯‡æ–‡ç« </span> <span class="string">Â·</span> <span class="string">æ€»è®¡</span></span><br><span class="line">    <span class="attr">count3:</span></span><br><span class="line">        <span class="attr">other:</span> <span class="string">å­—</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æœ¬ç«™æ€»è®¿é—®é‡Xæ¬¡</span></span><br><span class="line">    <span class="attr">pv1:</span></span><br><span class="line">        <span class="attr">other:</span> <span class="string">æœ¬ç«™æ€»è®¿é—®é‡</span></span><br><span class="line">    <span class="attr">pv2:</span></span><br><span class="line">        <span class="attr">other:</span> <span class="string">æ¬¡</span></span><br></pre></td></tr></table></figure><p><a id="visitor-map"></a></p><h3 id="ğŸ—ºï¸-æ·»åŠ è®¿å®¢åœ°å›¾">ğŸ—ºï¸ æ·»åŠ è®¿å®¢åœ°å›¾</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šåœ¨å³ä¾§è¾¹æ æ·»åŠ è®¿å®¢åœ°å›¾ï¼Œå¯è§†åŒ–æ˜¾ç¤ºè®¿é—®æ¥æº</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨æ ¹ç›®å½•<code>./layouts/partials/sidebar/right.html</code> æ·»åŠ åå®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;- $scope := default &quot;homepage&quot; .Scope -&#125;&#125;</span><br><span class="line">&#123;&#123;- $context := .Context -&#125;&#125;</span><br><span class="line">&#123;&#123;- with (index .Context.Site.Params.widgets $scope) -&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">aside</span> <span class="attr">class</span>=<span class="string">&quot;sidebar right-sidebar sticky&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123; range $widget := . &#125;&#125;</span><br><span class="line">            &#123;&#123; if templates.Exists (printf &quot;partials/widget/%s.html&quot; .type) &#125;&#125;</span><br><span class="line">                &#123;&#123; partial (printf &quot;widget/%s&quot; .type) (dict &quot;Context&quot; $context &quot;Params&quot; .params) &#125;&#125;</span><br><span class="line">            &#123;&#123; else &#125;&#125;</span><br><span class="line">                &#123;&#123; warnf &quot;Widget %s not found&quot; .type &#125;&#125;</span><br><span class="line">            &#123;&#123; end &#125;&#125;</span><br><span class="line">        &#123;&#123; end &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;height: 30%;width: 30%&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">id</span>=<span class="string">&quot;clstr_globe&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//clustrmaps.com/globe.js?d=xxxxx&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">&#123;&#123; end &#125;&#125;</span><br></pre></td></tr></table></figure><p><a id="custom-cursor"></a></p><h3 id="ğŸ–±ï¸-é¼ æ ‡æ ·å¼">ğŸ–±ï¸ é¼ æ ‡æ ·å¼</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šè‡ªå®šä¹‰é¼ æ ‡æŒ‡é’ˆæ ·å¼ï¼Œå¢å¼ºåšå®¢ä¸ªæ€§åŒ–</li><li>ğŸ“Œ <strong>è¯´æ˜</strong>ï¼šå‡†å¤‡å¥½é¼ æ ‡æ ·å¼å›¾ç‰‡(é»˜è®¤ï¼ŒæŒ‡é’ˆï¼Œæ–‡æœ¬â€¦)ï¼Œå›¾ç‰‡å¤§å°å»ºè®®æ§åˆ¶åœ¨ 32px å·¦å³ï¼Œå°†.pngå›¾ç‰‡æ”¾å…¥<code>static/mouse</code>æ–‡ä»¶å¤¹ä¸‹(æ–‡ä»¶å¤¹è‡ªå·±åˆ›å»º)<br>ä¿®æ”¹å¯¹åº”çš„å›¾ç‰‡åå³å¯</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šä¿®æ”¹<code>./assets/scss/custom.scss</code>(æ–‡ä»¶ä¸å­˜åœ¨åˆ™è‡ªå·±åˆ›å»º)ï¼Œå°†ä»¥ä¸‹ä»£ç å¤åˆ¶è¿›å»ï¼Œæ ¹æ®ä¸»é¢˜æŒ‰å®é™…æƒ…å†µå¡«å†™å¯¹åº”çš„cssé€‰æ‹©å™¨</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ã€Stackä¸»é¢˜é¼ æ ‡æ ·å¼å†™æ³•ã€‘</span></span><br><span class="line"><span class="comment">// defaultå…‰æ ‡å›¾ç‰‡</span></span><br><span class="line"><span class="selector-tag">body</span>,</span><br><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-class">.article-content</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: <span class="built_in">url</span>(../mouse/default.png),</span><br><span class="line">  auto <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// pointerå…‰æ ‡å›¾ç‰‡</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-tag">button</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.copyCodeButton</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#dark-mode-toggle</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: <span class="built_in">url</span>(../mouse/pointer.png),</span><br><span class="line">  auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// textå…‰æ ‡å›¾ç‰‡</span></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.site-description</span>,</span><br><span class="line"><span class="selector-class">.article-subtitle</span>,</span><br><span class="line"><span class="selector-class">.article-content</span> <span class="selector-tag">span</span>,</span><br><span class="line"><span class="selector-class">.article-content</span> <span class="selector-tag">li</span>,</span><br><span class="line"><span class="selector-class">.article-content</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: <span class="built_in">url</span>(../mouse/text.png),</span><br><span class="line">  auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ä¸»é¡µå¸ƒå±€é—´è·è°ƒæ•´*/</span></span><br><span class="line"><span class="selector-class">.main-container</span> &#123;</span><br><span class="line">  <span class="attribute">gap</span>: <span class="number">50px</span>; <span class="comment">//æ–‡ç« å®½åº¦</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">@include</span> respond(md) &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">gap</span>: <span class="number">40px</span>; <span class="comment">//ä¸­ç­‰å±å¹•æ—¶çš„æ–‡ç« å®½åº¦</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.related-contents</span> &#123;</span><br><span class="line">  <span class="attribute">overflow-x</span>: visible; <span class="comment">//æ˜¾ç¤ºéšè—çš„å›¾æ ‡</span></span><br><span class="line">  <span class="attribute">padding-bottom</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="welcome-banner"></a></p><h3 id="ğŸ‰-é¦–é¡µæ¬¢è¿æ¨ªå¹…">ğŸ‰ é¦–é¡µæ¬¢è¿æ¨ªå¹…</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šåœ¨é¦–é¡µé¡¶éƒ¨æ·»åŠ åŠ¨æ€æ¬¢è¿æ¨ªå¹…ï¼Œå¢å¼ºç”¨æˆ·ä½“éªŒ</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./layouts/index.html</code>çš„ <code>&lt;section class=&quot;article-list&quot;&gt;</code> å‰æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é¦–é¡µæ¬¢è¿å­—å¹… --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;welcome&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;font-size: 2rem; text-align: center; font-weight: bold&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;shake&quot;</span>&gt;</span>ğŸ‘‹<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;jump-text1&quot;</span> &gt;</span> Welcome<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;jump-text2&quot;</span>&gt;</span> To <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;jump-text3&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color:#e99312&quot;</span>&gt;</span>Xa<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;jump-text4&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color:#e99312&quot;</span>&gt;</span>l<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;jump-text5&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color:#e99312&quot;</span>&gt;</span>a<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;jump-text6&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color:#e99312&quot;</span>&gt;</span>o<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;jump-text7&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color:#e99312&quot;</span>&gt;</span>k<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;jump-text8&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color:#e99312&quot;</span>&gt;</span>&#x27;s<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;jump-text9&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color:#e99312&quot;</span>&gt;</span>Blog<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é¦–é¡µæ¬¢è¿å­—å¹… --&gt;</span></span><br></pre></td></tr></table></figure><ul><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ <code>./assets/scss/custom.scss</code> ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ----------------é¦–é¡µæ¬¢è¿æ¿å—æ ·å¼----------------</span></span><br><span class="line"><span class="selector-class">.welcome</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--card-text-color-main);</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--card-background);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--shadow-l2);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ğŸ‘‹emojiå®ç°æ‘†åŠ¨æ•ˆæœ</span></span><br><span class="line"><span class="selector-class">.shake</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">animation</span>: shake <span class="number">1s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">1s</span>;</span><br><span class="line">  <span class="attribute">animation-timing-function</span>: ease;</span><br><span class="line">  <span class="attribute">animation-delay</span>: <span class="number">0s</span>;</span><br><span class="line">  <span class="attribute">animation-iteration-count</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">animation-direction</span>: normal;</span><br><span class="line">  <span class="attribute">animation-fill-mode</span>: none;</span><br><span class="line">  <span class="attribute">animation-play-state</span>: running;</span><br><span class="line">  <span class="attribute">animation-name</span>: shake;</span><br><span class="line">  <span class="attribute">animation-timeline</span>: auto;</span><br><span class="line">  <span class="attribute">animation-range-start</span>: normal;</span><br><span class="line">  <span class="attribute">animation-range-end</span>: normal;</span><br><span class="line">  <span class="attribute">animation-delay</span>: <span class="number">2s</span>;</span><br><span class="line">  <span class="keyword">@keyframes</span> shake &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">25%</span> &#123;</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>) <span class="built_in">scale</span>(<span class="number">1.2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">50%</span> &#123;</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0</span>) <span class="built_in">scale</span>(<span class="number">1.2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">75%</span> &#123;</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>) <span class="built_in">scale</span>(<span class="number">1.2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ç°å­—ç¬¦è·³åŠ¨åŠ¨ç”»</span></span><br><span class="line"><span class="selector-class">.jump-text1</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">animation</span>: jump <span class="number">0.5s</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.jump-text2</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">animation</span>: jump <span class="number">0.5s</span> <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">animation-delay</span>: <span class="number">0.1s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.jump-text3</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">animation</span>: jump <span class="number">0.5s</span> <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">animation-delay</span>: <span class="number">0.2s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.jump-text4</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">animation</span>: jump <span class="number">0.5s</span> <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">animation-delay</span>: <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.jump-text5</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">animation</span>: jump <span class="number">0.5s</span> <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">animation-delay</span>: <span class="number">0.4s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.jump-text6</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">animation</span>: jump <span class="number">0.5s</span> <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">animation-delay</span>: <span class="number">0.5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.jump-text7</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">animation</span>: jump <span class="number">0.5s</span> <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">animation-delay</span>: <span class="number">0.6s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.jump-text8</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">animation</span>: jump <span class="number">0.5s</span> <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">animation-delay</span>: <span class="number">0.7s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.jump-text9</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">animation</span>: jump <span class="number">0.5s</span> <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">animation-delay</span>: <span class="number">0.9s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> jump &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">20px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a id="remove-footer"></a></p><h3 id="ğŸ—‘ï¸-åˆ é™¤-ä½¿ç”¨-Hugo-æ„å»º-ä¸»é¢˜Stackç”±Jimmyè®¾è®¡-ç­‰å­—æ ·">ğŸ—‘ï¸ åˆ é™¤&quot;ä½¿ç”¨ Hugo æ„å»º ä¸»é¢˜Stackç”±Jimmyè®¾è®¡&quot;ç­‰å­—æ ·</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šç§»é™¤é¡µè„šé»˜è®¤çš„ç‰ˆæƒä¿¡æ¯ï¼Œæ›¿æ¢ä¸ºè‡ªå®šä¹‰å†…å®¹</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåˆ é™¤æ‰<code>./layout/partials/footer/footer.html</code> åŸå…ˆçš„ä»£ç ï¼Œæ³¨æ„æ˜¯ <section class="powerby"> é‡Œè¾¹çš„</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;- $ThemeVersion := &quot;3.29.0&quot; -&#125;&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">&quot;site-footer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;copyright&quot;</span>&gt;</span></span><br><span class="line">        <span class="symbol">&amp;copy;</span> </span><br><span class="line">        &#123;&#123; if and (.Site.Params.footer.since) (ne .Site.Params.footer.since (int (now.Format &quot;2006&quot;))) &#125;&#125;</span><br><span class="line">            &#123;&#123; .Site.Params.footer.since &#125;&#125; - </span><br><span class="line">        &#123;&#123; end &#125;&#125;</span><br><span class="line">        &#123;&#123; now.Format &quot;2006&quot; &#125;&#125; &#123;&#123; default .Site.Title .Site.Copyright &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!------------- ä»¥ä¸‹çš„åˆ é™¤æ‰ -------------&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;powerby&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123; with .Site.Params.footer.customText &#125;&#125;</span><br><span class="line">            &#123;&#123; . | safeHTML &#125;&#125; <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        &#123;&#123; end &#125;&#125;</span><br><span class="line"></span><br><span class="line">        &#123;&#123;- $Generator := `<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://gohugo.io/&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;noopener&quot;</span>&gt;</span>Hugo<span class="tag">&lt;/<span class="name">a</span>&gt;</span>` -&#125;&#125;</span><br><span class="line">        &#123;&#123;- $Theme := printf `<span class="tag">&lt;<span class="name">b</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://github.com/CaiJimmy/hugo-theme-stack&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;noopener&quot;</span> <span class="attr">data-version</span>=<span class="string">&quot;%s&quot;</span>&gt;</span>Stack<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span>` $ThemeVersion -&#125;&#125;</span><br><span class="line">        &#123;&#123;- $DesignedBy := `<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://jimmycai.com&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;noopener&quot;</span>&gt;</span>Jimmy<span class="tag">&lt;/<span class="name">a</span>&gt;</span>` -&#125;&#125;</span><br><span class="line"></span><br><span class="line">        &#123;&#123; T &quot;footer.builtWith&quot; (dict &quot;Generator&quot; $Generator) | safeHTML &#125;&#125; <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        &#123;&#123; T &quot;footer.designedBy&quot; (dict &quot;Theme&quot; $Theme &quot;DesignedBy&quot; $DesignedBy) | safeHTML &#125;&#125;</span><br><span class="line"></span><br><span class="line">        &#123;&#123; $articleCount := len .Site.RegularPages &#125;&#125;</span><br><span class="line">        &#123;&#123; $totalWordCount := 0 &#125;&#125;</span><br><span class="line">        &#123;&#123; range .Site.Pages &#125;&#125;</span><br><span class="line">        &#123;&#123; $totalWordCount = add $totalWordCount .WordCount &#125;&#125;</span><br><span class="line">        &#123;&#123; end &#125;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>å‘å¸ƒäº† &#123;&#123; $articleCount &#125;&#125; ç¯‡æ–‡ç«  | å…± &#123;&#123;$totalWordCount&#125;&#125; å­—<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!------------- ä»¥ä¸Šçš„åˆ é™¤æ‰ -------------&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br></pre></td></tr></table></figure><p><a id="back-to-top"></a></p><h3 id="â¬†ï¸-æ·»åŠ ã€è¿”å›é¡¶éƒ¨ã€‘æŒ‰é’®">â¬†ï¸ æ·»åŠ ã€è¿”å›é¡¶éƒ¨ã€‘æŒ‰é’®</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šæ·»åŠ å¹³æ»‘æ»šåŠ¨è¿”å›é¡¶éƒ¨çš„æŒ‰é’®ï¼Œæå‡ç”¨æˆ·ä½“éªŒ</li><li>ğŸ“Œ <strong>æ­¥éª¤</strong>ï¼š<ol><li>è¿”å›é¡¶éƒ¨å›¾ç‰‡ï¼Œå¤åˆ¶ä»¥ä¸‹ä»£ç ä¿å­˜ä¸º<code>.svg</code>æ–‡ä»¶,æ”¾åˆ°<code>./assets/icons</code>æ–‡ä»¶å¤¹ä¸‹(ä¸å­˜åœ¨åˆ™è‡ªè¡Œåˆ›å»º)</li></ol></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/2000/svg&quot;</span> <span class="attr">width</span>=<span class="string">&quot;30&quot;</span> <span class="attr">height</span>=<span class="string">&quot;30&quot;</span> <span class="attr">viewBox</span>=<span class="string">&quot;0 0 24 24&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;none&quot;</span> <span class="attr">stroke</span>=<span class="string">&quot;#707070&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">stroke-width</span>=<span class="string">&quot;2&quot;</span> <span class="attr">stroke-linecap</span>=<span class="string">&quot;round&quot;</span> <span class="attr">stroke-linejoin</span>=<span class="string">&quot;round&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">class</span>=<span class="string">&quot;icon icon-tabler icons-tabler-outline icon-tabler-square-rounded-arrow-up&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">path</span> <span class="attr">stroke</span>=<span class="string">&quot;none&quot;</span> <span class="attr">d</span>=<span class="string">&quot;M0 0h24v24H0z&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;none&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M16 12l-4 -4l-4 4&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M12 16v-8&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M12 3c7.2 0 9 1.8 9 9s-1.8 9 -9 9s-9 -1.8 -9 -9s1.8 -9 9 -9z&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>å°†ä»¥ä¸‹ä»£ç å¤åˆ¶åˆ°<code>layouts/partials/footer/custom.html</code>æ–‡ä»¶ä¸­(ä¸å­˜åœ¨åˆ™è‡ªè¡Œåˆ›å»º)</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- layouts/partials/footer/custom.html --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è¿”å›é¡¶éƒ¨æŒ‰é’® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-id">#backTopBtn</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">position</span>: fixed;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">bottom</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">z-index</span>: <span class="number">99</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#123;&#123; (resources.Get &quot;icons/backTop.svg&quot;</span>).RelPermalink &#125;&#125;);</span></span><br><span class="line"><span class="language-css">      <span class="comment">/* ä¸º transform å±æ€§æ·»åŠ è¿‡æ¸¡æ•ˆæœï¼ŒæŒç»­æ—¶é—´ 1 ç§’ï¼Œè¿‡æ¸¡æ–¹å¼ä¸ºç¼“å…¥ç¼“å‡º */</span></span></span><br><span class="line"><span class="language-css">      <span class="attribute">transition</span>: transform <span class="number">1s</span> ease-in-out;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">    </span></span><br><span class="line"><span class="language-css">  <span class="selector-id">#backTopBtn</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="comment">/* æ‚¬åœæ—¶360åº¦æ—‹è½¬ */</span></span></span><br><span class="line"><span class="language-css">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">/**</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">   * æ»šåŠ¨å›é¡¶éƒ¨åˆå§‹åŒ–</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">   */</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">initScrollTop</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> rightSideBar = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.right-sidebar&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span> (!rightSideBar) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// æ·»åŠ è¿”å›é¡¶éƒ¨æŒ‰é’®åˆ°å³ä¾§è¾¹æ </span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> btn = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">      btn.<span class="property">id</span> = <span class="string">&quot;backTopBtn&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">      btn.<span class="property">onclick</span> = backToTop</span></span><br><span class="line"><span class="language-javascript">      rightSideBar.<span class="title function_">appendChild</span>(btn)</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// æ»šåŠ¨ç›‘å¬</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">window</span>.<span class="property">onscroll</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// å½“ç½‘é¡µå‘ä¸‹æ»‘åŠ¨ 20px å‡ºç°&quot;è¿”å›é¡¶éƒ¨&quot; æŒ‰é’®</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span> &gt; <span class="number">20</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> &gt; <span class="number">20</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">              btn.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">          &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">              btn.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">/**</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">   * è¿”å›é¡¶éƒ¨</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">   */</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">backToTop</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">window</span>.<span class="title function_">scrollTo</span>(&#123; <span class="attr">top</span>: <span class="number">0</span>, <span class="attr">behavior</span>: <span class="string">&quot;smooth&quot;</span> &#125;)</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">initScrollTop</span>();</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>æˆ‘ä½¿ç”¨ä¸­çš„</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-id">#backTopBtn</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">position</span>: fixed;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">bottom</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="comment">/* æ–°å¢å³ä¾§å®šä½ */</span></span></span><br><span class="line"><span class="language-css">    <span class="comment">/* right: 480px; */</span></span></span><br><span class="line"><span class="language-css">    <span class="attribute">z-index</span>: <span class="number">99</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#123;&#123; (resources.Get &quot;icons/backTop.svg&quot;</span>).RelPermalink &#125;&#125;);</span></span><br><span class="line"><span class="language-css">    <span class="comment">/* æ·»åŠ will-changeä¼˜åŒ–æ¸²æŸ“æ€§èƒ½ */</span></span></span><br><span class="line"><span class="language-css">    <span class="attribute">will-change</span>: transform;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">transition</span>: transform <span class="number">1s</span> ease-in-out;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-id">#backTopBtn</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">/**</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * æ»šåŠ¨å›é¡¶éƒ¨åˆå§‹åŒ–</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     */</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">initScrollTop</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> rightSideBar = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.right-sidebar&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span> (!rightSideBar) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// æ·»åŠ è¿”å›é¡¶éƒ¨æŒ‰é’®åˆ°å³ä¾§è¾¹æ </span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">let</span> btn = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">      btn.<span class="property">id</span> = <span class="string">&quot;backTopBtn&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">      btn.<span class="property">onclick</span> = backToTop</span></span><br><span class="line"><span class="language-javascript">      rightSideBar.<span class="title function_">appendChild</span>(btn)</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// æ»šåŠ¨ç›‘å¬</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">window</span>.<span class="property">onscroll</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// ç»Ÿä¸€è·å–é¡µé¢æ»šåŠ¨é«˜åº¦</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> scrollTop = <span class="variable language_">window</span>.<span class="property">pageYOffset</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span> || <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// å½“ç½‘é¡µå‘ä¸‹æ»‘åŠ¨ 20px å‡ºç°&quot;è¿”å›é¡¶éƒ¨&quot; æŒ‰é’®</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (scrollTop &gt; <span class="number">20</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          btn.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          btn.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">/**</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * è¿”å›é¡¶éƒ¨</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     */</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">backToTop</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">window</span>.<span class="title function_">scrollTo</span>(&#123; <span class="attr">top</span>: <span class="number">0</span>, <span class="attr">behavior</span>: <span class="string">&quot;smooth&quot;</span> &#125;)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">initScrollTop</span>();</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="4"><li>è§£å†³ PJAX åˆ·æ–°é—®é¢˜</li></ol><ul><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šç¼–è¾‘<code>.\layouts\partials\footer\pjax.html</code>æ–‡ä»¶ ã€‚<code>pjax:complete</code> äº‹ä»¶ä¸‹ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é‡æ–°åˆå§‹åŒ–è¿”å›é¡¶éƒ¨æŒ‰é’®</span></span><br><span class="line">topbar.<span class="title function_">hide</span>();</span><br><span class="line">       <span class="title function_">initScrollTop</span>();</span><br></pre></td></tr></table></figure><p><a id="comments"></a></p><h2 id="ğŸ’¬-Hugo-æ¥å…¥è¯„è®º">ğŸ’¬ Hugo æ¥å…¥è¯„è®º</h2><h3 id="1ã€GitHub-æ‰“å¼€è¯„è®º">1ã€GitHub æ‰“å¼€è¯„è®º</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šå¯ç”¨GitHub Discussionsä½œä¸ºåšå®¢è¯„è®ºç³»ç»Ÿ</li><li>ğŸ“Œ <strong>æ­¥éª¤</strong>ï¼šé¦–å…ˆè¿›å…¥ã€<a href="https://github.com/">GitHub</a>ã€‘ï¼Œhugo åšå®¢é¡¹ç›®ä¸»é¡µâ€“&gt;&gt;é¡¹ç›®è®¾ç½®â€“&gt;&gt;æ‰¾åˆ°Discussions Loading</li></ul><p><img src="https://file.meimolihan.eu.org/screenshot/giscus-001.jpg" alt=""></p><h3 id="2ã€giscus-é…ç½®">2ã€giscus é…ç½®</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šå®‰è£…å¹¶é…ç½®giscusè¯„è®ºç³»ç»Ÿ</li><li>ğŸ“Œ <strong>æ­¥éª¤</strong>ï¼šåœ¨ github ä¸Šå®‰è£… ã€<a href="https://github.com/apps/giscus">giscus APP</a>ã€‘</li></ul><p><img src="https://file.meimolihan.eu.org/screenshot/giscus-002.jpg" alt=""></p><h3 id="3ã€GitHub-åšå®¢é¡¹ç›®æ¥å…¥-giscus">3ã€GitHub åšå®¢é¡¹ç›®æ¥å…¥ giscus</h3><ul><li><p>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šå°†giscusä¸GitHubåšå®¢é¡¹ç›®è¿æ¥</p></li><li><p>ğŸ“Œ <strong>æ­¥éª¤</strong>ï¼š<br><img src="https://file.meimolihan.eu.org/screenshot/giscus-003.jpg" alt=""></p></li><li><p>éšç€å®˜ç½‘çš„è¯´æ˜ä¸€æ­¥æ­¥é…ç½®ä¸‹å»ã€‚é…ç½®å®Œæˆåä¾¿å¯åœ¨ å¯ç”¨ giscus ä¸‹æ‰¾åˆ°éœ€è¦çš„ä»£ç ï¼š</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://giscus.app/client.js&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-repo</span>=<span class="string">&quot;meimolihan/meimolihan.github.io&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-repo-id</span>=<span class="string">&quot;R_kgDONpRkKg&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-category</span>=<span class="string">&quot;Announcements&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-category-id</span>=<span class="string">&quot;DIC_kwDONpRkKs4CmwSa&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-mapping</span>=<span class="string">&quot;pathname&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-strict</span>=<span class="string">&quot;0&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-reactions-enabled</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-emit-metadata</span>=<span class="string">&quot;0&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-input-position</span>=<span class="string">&quot;bottom&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-theme</span>=<span class="string">&quot;dark&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">data-lang</span>=<span class="string">&quot;zh-CN&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">async</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="4ã€ä¿®æ”¹-hugo-ä¸»é…ç½®æ–‡ä»¶">4ã€ä¿®æ”¹ hugo ä¸»é…ç½®æ–‡ä»¶</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šåœ¨Hugoé…ç½®ä¸­å¯ç”¨giscusè¯„è®ºç³»ç»Ÿ</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šæˆ‘ä½¿ç”¨çš„æ˜¯Hugoçš„stackä¸»é¢˜ï¼Œéœ€è¦åœ¨ config.yaml ä¸­è®¾ç½®</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">provider:</span> <span class="string">giscus</span></span><br></pre></td></tr></table></figure><h3 id="5ã€å¼•å…¥-giscus-jsæ–‡ä»¶">5ã€å¼•å…¥ giscus-jsæ–‡ä»¶</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šå°†giscus JavaScriptæ–‡ä»¶å¼•å…¥åˆ°ä¸»é¢˜ä¸­</li><li>ğŸ“Œ <strong>æ­¥éª¤</strong>ï¼šå°†stackä¸»é¢˜<code>./themes/hugo-theme-stack/layouts/partials/comments/provider/giscus.html</code>æ–‡ä»¶æ‹·è´è‡³<code>./layouts/partials/comments/provider/</code>ç›®å½•ä¸‹  (éœ€æ–°å»º)</li><li>ç„¶åå°†giscus-jsä»£ç æ”¾åˆ°ä¸‹é¢çš„ä½ç½®ï¼š</li></ul><p><img src="https://file.meimolihan.eu.org/screenshot/giscus-004.jpg" alt=""></p><h3 id="6ã€æ–‡ç« -index-md-æ‰“å¼€è¯„è®º">6ã€æ–‡ç«  <a href="http://index.md">index.md</a> æ‰“å¼€è¯„è®º</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šæ§åˆ¶æ¯ç¯‡æ–‡ç« æ˜¯å¦å¼€å¯è¯„è®ºåŠŸèƒ½</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼š<strong>false å…³é—­è¯„è®ºï¼Œtrue æ˜¾ç¤ºè¯„è®ºã€‚</strong></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">comments:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ul><li>é…ç½®å®Œæˆï¼Œ<code>hugo server -D</code>å¯åŠ¨hugoï¼Œåœ¨æœ¬åœ°å°±å¯ä»¥çœ‹åˆ°æ•ˆæœã€‚</li></ul><p><a id="preload-animation"></a></p><h2 id="ğŸŒ€-Hugo-Stack-é¢„åŠ è½½åŠ¨ç”»">ğŸŒ€ Hugo Stack é¢„åŠ è½½åŠ¨ç”»</h2><p><img src="https://file.meimolihan.eu.org/gif/%E5%BC%80%E5%B1%8F%E5%8A%A8%E7%94%BB.gif" alt=""></p><h3 id="1ã€æ–°å¢ç»„ä»¶">1ã€æ–°å¢ç»„ä»¶</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šæ·»åŠ é¡µé¢åŠ è½½æ—¶çš„é¢„åŠ è½½åŠ¨ç”»ï¼Œæå‡ç”¨æˆ·ä½“éªŒ</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šå°ç»„ä»¶æ”¾åœ¨<code>layouts/partials/widget/preload.html</code> æ–‡ä»¶é‡Œï¼Œæ³¨æ„ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯è‡ªå·±åˆ›å»ºçš„ï¼š</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; if .Site.Params.enablePreloadingAnim &#125;&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;loading-box&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é¡µé¢åŠ è½½å®Œæˆä¹‹åå¸·å¹•æ‹‰å¼€çš„æ•ˆæœ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;loading-left-bg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;loading-right-bg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ—‹è½¬ç›’å­åŠ¨æ•ˆ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;spinner-box&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;configure-border-1&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;configure-core&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;configure-border-2&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;configure-core&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;loading-word&quot;</span>&gt;</span>åŠ è½½ä¸­...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é¡µé¢åŠ è½½åŠ¨ç”» --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ç¡®ä¿ jQuery å·²åŠ è½½</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (<span class="keyword">typeof</span> $ !== <span class="string">&#x27;function&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;jQuery is not loaded. Please ensure jQuery is included in your project.&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ä½¿ç”¨ window.onload ç¡®ä¿æ‰€æœ‰èµ„æºåŠ è½½å®Œæˆåéšè—åŠ¨ç”»</span></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;load&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> loadingBox = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;loading-box&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (loadingBox) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// å»¶æ—¶ä¸€æ®µæ—¶é—´ä»¥ç¡®ä¿åŠ¨ç”»æœ‰è¶³å¤Ÿçš„æ—¶é—´å±•ç¤º</span></span></span><br><span class="line"><span class="language-javascript">            <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                loadingBox.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;loaded&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Preloader hidden after all resources are loaded.&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;, <span class="number">500</span>); <span class="comment">// å»¶æ—¶ 0.5 ç§’ï¼ˆå¯æ ¹æ®éœ€è¦è°ƒæ•´ï¼‰</span></span></span><br><span class="line"><span class="language-javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;Preloader element not found!&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// å¦‚æœéœ€è¦æ˜¾ç¤ºåŠ è½½è¿›åº¦ï¼Œå¯ä»¥æ·»åŠ ä»¥ä¸‹é€»è¾‘ï¼ˆå¯é€‰ï¼‰</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> loadedResources = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> totalResources = <span class="variable language_">document</span>.<span class="property">images</span>.<span class="property">length</span> + <span class="variable language_">document</span>.<span class="property">styleSheets</span>.<span class="property">length</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">checkResourceLoad</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        loadedResources++;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> progress = <span class="title class_">Math</span>.<span class="title function_">round</span>((loadedResources / totalResources) * <span class="number">100</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> loadingWord = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.loading-word&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (loadingWord) &#123;</span></span><br><span class="line"><span class="language-javascript">            loadingWord.<span class="property">textContent</span> = <span class="string">`åŠ è½½ä¸­... <span class="subst">$&#123;progress&#125;</span>%`</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (loadedResources &gt;= totalResources) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">window</span>.<span class="title function_">dispatchEvent</span>(<span class="keyword">new</span> <span class="title class_">Event</span>(<span class="string">&#x27;load&#x27;</span>)); <span class="comment">// æ‰‹åŠ¨è§¦å‘ load äº‹ä»¶</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ç›‘å¬å›¾ç‰‡åŠ è½½</span></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="property">images</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">img</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        img.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>, checkResourceLoad);</span></span><br><span class="line"><span class="language-javascript">        img.<span class="title function_">addEventListener</span>(<span class="string">&#x27;error&#x27;</span>, checkResourceLoad);</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ç›‘å¬æ ·å¼è¡¨åŠ è½½</span></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="property">styleSheets</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">sheet</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">checkResourceLoad</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;&#123; end &#125;&#125;</span><br></pre></td></tr></table></figure><h3 id="2ã€ç»„ä»¶æ ·å¼">2ã€ç»„ä»¶æ ·å¼</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šå®šä¹‰é¢„åŠ è½½åŠ¨ç”»çš„æ ·å¼å’ŒåŠ¨ç”»æ•ˆæœ</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šæ‰¾åˆ° <code>./assets/scss/custom.scss</code> åœ¨æ–‡ä»¶é‡Œé¢è¿½åŠ  ï¼š</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#loading-box</span> <span class="selector-class">.loading-left-bg</span>,</span><br><span class="line"><span class="selector-id">#loading-box</span> <span class="selector-class">.loading-right-bg</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1000</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="comment">// æˆ‘åœ¨è¿™é‡Œå°æ”¹äº†ä¸€ä¸‹é¢œè‰²ï¼Œ</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#b1c0c7</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#loading-box</span> <span class="selector-class">.loading-right-bg</span> &#123;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#loading-box</span>&gt;<span class="selector-class">.spinner-box</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1001</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#loading-box</span> <span class="selector-class">.spinner-box</span> <span class="selector-class">.configure-border-1</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">115px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">115px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ffab91</span>;</span><br><span class="line">    <span class="attribute">animation</span>: configure-clockwise <span class="number">3s</span> ease-in-out <span class="number">0s</span> infinite alternate;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#loading-box</span> <span class="selector-class">.spinner-box</span> <span class="selector-class">.configure-border-2</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">115px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">115px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">115px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">63</span>, <span class="number">249</span>, <span class="number">220</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>);</span><br><span class="line">    <span class="attribute">animation</span>: configure-xclockwise <span class="number">3s</span> ease-in-out <span class="number">0s</span> infinite alternate;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#loading-box</span> <span class="selector-class">.spinner-box</span> <span class="selector-class">.loading-word</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ffffff</span>;</span><br><span class="line">    <span class="comment">// æˆ‘åœ¨è¿™é‡Œå°æ”¹äº†ä¸€ä¸‹æ–‡å­—å¤§å°å’Œå­—ä½“ï¼Œæ³¨æ„ï¼</span></span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.8rem</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&#x27;Zhi Mang Xing&#x27;</span>, cursive;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#loading-box</span> <span class="selector-class">.spinner-box</span> <span class="selector-class">.configure-core</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#37474f</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.loaded</span> <span class="selector-tag">div</span><span class="selector-class">.loading-left-bg</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">100%</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.loaded</span> <span class="selector-tag">div</span><span class="selector-class">.loading-right-bg</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">100%</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.loaded</span> <span class="selector-tag">div</span><span class="selector-class">.spinner-box</span> &#123;</span><br><span class="line">    <span class="comment">// ä½ å¯ä»¥æŠŠè¿™ä¸ªæ³¨é‡Šæ‰ï¼Œè¿™æ ·å°±èƒ½ä¸€ç›´çœ‹é‚£ä¸ªåŠ¨ç”»çš„æ•ˆæœäº†ï¼</span></span><br><span class="line">    <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> configure-clockwise &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">25%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">90deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">50%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">180deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">75%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">270deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> configure-xclockwise &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">25%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">50%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">135deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">75%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">225deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">315deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3ã€é…ç½®æ–‡ä»¶">3ã€é…ç½®æ–‡ä»¶</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šé€šè¿‡é…ç½®æ–‡ä»¶æ§åˆ¶é¢„åŠ è½½åŠ¨ç”»çš„å¼€å¯ä¸å…³é—­</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šhugoé…ç½®æ–‡ä»¶<code>params</code> æ ç›®åº•ä¸‹ï¼ŒåŠ ä¸Š <code>enablePreloadingAnim: true</code></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">params:</span></span><br><span class="line">    <span class="attr">enablePreloadingAnim:</span> <span class="literal">true</span> <span class="comment"># å¼€å±åŠ¨ç”»ï¼Œfalseä¸ºå…³é—­ï¼Œtrueä¸ºå¼€å¯</span></span><br></pre></td></tr></table></figure><p><a id="image-lightbox"></a></p><h2 id="ğŸ–¼ï¸-Hugo-å›¾ç‰‡ç¯ç®±">ğŸ–¼ï¸ Hugo å›¾ç‰‡ç¯ç®±</h2><p><img src="https://file.meimolihan.eu.org/2d/2d-001.jpg" alt=""></p><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šä½¿ç”¨ Fancybox å®ç°å›¾ç‰‡ç¯ç®±/æ”¾å¤§åŠŸèƒ½</li><li>ğŸ“Œ <strong>è¯´æ˜</strong>ï¼šHugo è‡ªå¸¦çš„å›¾ç‰‡æ¸²æŸ“æ˜¯æ²¡æœ‰ç¯ç®±æ•ˆæœçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è‡ªå·±æ·»åŠ ã€‚ç¯ç®±æ•ˆæœå°±æ˜¯ç‚¹å‡»å›¾ç‰‡åï¼Œå›¾ç‰‡ä¼šæ”¾å¤§æ˜¾ç¤ºã€‚</li></ul><h3 id="ä¿®æ”¹-Hugo-é…ç½®æ–‡ä»¶">ä¿®æ”¹ Hugo é…ç½®æ–‡ä»¶</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šåœ¨é…ç½®ä¸­å¯ç”¨å›¾ç‰‡ç¯ç®±åŠŸèƒ½</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šä¿®æ”¹ç½‘ç«™æ ¹ç›®å½•ä¸‹çš„ config.toml æˆ–è€… config.yaml æ–‡ä»¶ï¼Œæˆ‘çš„é…ç½®æ–‡ä»¶ä¸º yaml æ ¼å¼ï¼Œtoml éœ€è¦è‡ªè¡Œè°ƒæ•´æ ¼å¼ï¼Œåœ¨ paramså‚æ•°ä¸‹æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">params:</span></span><br><span class="line">    <span class="attr">fancybox:</span> <span class="literal">true</span> <span class="comment"># å›¾ç‰‡ç¯ç®±ï¼Œfalseä¸ºå…³é—­ï¼Œtrueä¸ºå¼€å¯</span></span><br></pre></td></tr></table></figure><h3 id="åˆ›å»º-render-image-html-æ–‡ä»¶">åˆ›å»º render-image.html æ–‡ä»¶</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šåˆ›å»ºå›¾ç‰‡æ¸²æŸ“æ¨¡æ¿ï¼Œæ”¯æŒç¯ç®±æ•ˆæœ</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šåœ¨ä½ çš„ Hugo æ ¹ç›®å½•ä¸‹åˆ›å»ºä»¥ä¸‹è·¯å¾„å’Œæ–‡ä»¶ï¼š<code>./layouts/_default/_markup/render-image.html</code></li><li>ç¼–è¾‘ <code>render-image.html</code> æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;if .Page.Site.Params.fancybox &#125;&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-img-view&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">data-fancybox</span>=<span class="string">&quot;gallery&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&#123;&#123; .Destination | safeURL &#125;&#125;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123; .Destination | safeURL &#125;&#125;&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&#123;&#123; .Text &#125;&#125;&quot;</span> &#123;&#123; <span class="attr">with</span> <span class="attr">.Title</span>&#125;&#125; <span class="attr">title</span>=<span class="string">&quot;&#123;&#123; . &#125;&#125;&quot;</span>&#123;&#123; <span class="attr">end</span> &#125;&#125; /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;&#123; end &#125;&#125;</span><br></pre></td></tr></table></figure><h3 id="å¤åˆ¶-custom-html-æ–‡ä»¶">å¤åˆ¶ custom.html æ–‡ä»¶</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šå¼•å…¥Fancyboxæ‰€éœ€çš„CSSå’ŒJavaScriptæ–‡ä»¶</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼šä»ä½ ä¸»é¢˜ç›®å½• <code>./themes/stack/layouts/partials/footer/custom.html</code>å¤åˆ¶åˆ° Hugoåœ¨ä½ æ ¹ç›®å½• <code>layouts/partials/footer/custom.html</code> ,æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;if .Page.Site.Params.fancybox &#125;&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;&#123; end &#125;&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å°±å¯ä»¥ç›´æ¥ <code>hugo server -D</code> çœ‹çœ‹æ•ˆæœäº†ã€‚</p><hr><p><a id="particles-background"></a></p><h2 id="âœ¨-å¼•å…¥åŠ¨æ€èƒŒæ™¯ï¼ˆç‚¹çº¿æ¼‚æµ®-particles-js-ï¼‰">âœ¨ å¼•å…¥åŠ¨æ€èƒŒæ™¯ï¼ˆç‚¹çº¿æ¼‚æµ®(particles.js)ï¼‰</h2><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šä¸ºåšå®¢æ·»åŠ åŠ¨æ€ç²’å­èƒŒæ™¯æ•ˆæœï¼Œå¢å¼ºè§†è§‰å¸å¼•åŠ›</li><li>ğŸ“Œ <strong>æ¥æº</strong>ï¼š<a href="https://letere-gzj.github.io/hugo-stack/p/hugo/custom-background/#22-%E7%82%B9%E7%BA%BF%E6%BC%82%E6%B5%AEparticlesjs">è±ç‰¹é›·-letere</a></li><li>ğŸ“Œ <strong>æ–‡æ¡£</strong>ï¼šã€<a href="https://github.com/VincentGarreau/particles.js">particles.jsæ–‡æ¡£</a>ã€‘</li></ul><h3 id="1-å‰å¾€ã€é…ç½®é¡µé¢ã€‘é…ç½®å‚æ•°">1.  å‰å¾€ã€é…ç½®é¡µé¢ã€‘é…ç½®å‚æ•°</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šè‡ªå®šä¹‰ç²’å­æ•ˆæœå‚æ•°</li><li>ğŸ“Œ <strong>æ­¥éª¤</strong>ï¼šå‰å¾€ã€<a href="http://vincentgarreau.com/particles.js/">é…ç½®é¡µé¢</a>ã€‘é…ç½®å‚æ•°ï¼Œå‚æ•°æŒ‰è‡ªå·±å–œå¥½å³å¯ï¼Œå”¯ä¸€æ³¨æ„è¦ä¿®æ”¹çš„å‚æ•°æ˜¯ detect_onï¼Œè¦æ”¹æˆ window</li></ul><p><img src="https://file.meimolihan.eu.org/screenshot/particles-001.png" alt=""></p><h3 id="2-ä¸‹è½½é…ç½®æ–‡ä»¶ï¼Œä»¥åŠ-particles-js-æ‰€éœ€è¦çš„jsæ–‡ä»¶">2. ä¸‹è½½é…ç½®æ–‡ä»¶ï¼Œä»¥åŠ particles.js æ‰€éœ€è¦çš„jsæ–‡ä»¶</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šè·å–ç²’å­æ•ˆæœæ‰€éœ€çš„é…ç½®æ–‡ä»¶</li><li>ğŸ“Œ <strong>æ­¥éª¤</strong>ï¼šä¸‹è½½ã€<a href="https://letere-gzj.github.io/hugo-stack/p/hugo/custom-background/particlesjs-config.json">particlesjs-config.json</a>ã€‘(Ctrl + S ä¿å­˜)ï¼Œæœ¬åšå®¢çš„åŠ¨æ€èƒŒæ™¯jsoné…ç½®ï¼Œæœ‰éœ€æ±‚çš„å¯ç›´æ¥ä¸‹è½½</li></ul><p><img src="https://file.meimolihan.eu.org/screenshot/particles-002.png" alt=""></p><h3 id="3-æŠŠä¸‹è½½å¥½çš„æ–‡ä»¶ï¼Œè§£å‹å¹¶å°†ä»¥ä¸‹ä¸¤ä¸ªæ–‡ä»¶æ”¾åˆ°assets-backgroundæ–‡ä»¶å¤¹ä¸‹">3. æŠŠä¸‹è½½å¥½çš„æ–‡ä»¶ï¼Œè§£å‹å¹¶å°†ä»¥ä¸‹ä¸¤ä¸ªæ–‡ä»¶æ”¾åˆ°assets/backgroundæ–‡ä»¶å¤¹ä¸‹</h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šæ”¾ç½®ç²’å­æ•ˆæœæ‰€éœ€æ–‡ä»¶</li><li>ğŸ“Œ <strong>æ–‡ä»¶</strong>ï¼š<ul><li>particlesjs-config.json</li><li>particles.min.js</li></ul></li></ul><p><img src="https://file.meimolihan.eu.org/screenshot/particles-003.png" alt=""></p><h3 id="4-åœ¨layouts-partials-footer-custom-htmlä¸­ï¼Œå¼•å…¥ä»¥ä¸‹ä»£ç ">4. åœ¨layouts/partials/footer/custom.htmlä¸­ï¼Œå¼•å…¥ä»¥ä¸‹ä»£ç </h3><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šåœ¨é¡µé¢ä¸­å¼•å…¥å¹¶åˆå§‹åŒ–ç²’å­æ•ˆæœ</li><li>ğŸ“Œ <strong>ä½ç½®</strong>ï¼š</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;particles-js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&#123;&#123;</span> (<span class="attr">resources.Get</span> &quot;<span class="attr">background</span>/<span class="attr">particles.min.js</span>&quot;)<span class="attr">.Permalink</span> &#125;&#125;&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  particlesJS.<span class="title function_">load</span>(<span class="string">&#x27;particles-js&#x27;</span>, &#123;&#123; (resources.<span class="property">Get</span> <span class="string">&quot;background/particlesjs-config.json&quot;</span>).<span class="property">Permalink</span> &#125;&#125;, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;particles.js loaded - callback&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-id">#particles-js</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">position</span>: fixed;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">z-index</span>: -<span class="number">1</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><p><a id="view-count"></a></p><h2 id="ğŸ“Š-ã€Hugoã€‘åšå®¢æ–‡ç« æµè§ˆæ•°ç»Ÿè®¡">ğŸ“Š ã€Hugoã€‘åšå®¢æ–‡ç« æµè§ˆæ•°ç»Ÿè®¡</h2><ul><li>âœ¨ <strong>åŠŸèƒ½</strong>ï¼šå¼•å…¥ç¬¬ä¸‰æ–¹ç»„ä»¶ï¼Œæ¥ç»™åšå®¢æ–‡ç« ç»Ÿè®¡æµè§ˆæ•°</li><li>ğŸ“Œ <strong>å‰è¨€</strong>ï¼š</li></ul><blockquote><ul><li>åšå®¢æ–‡ç« ç»Ÿè®¡ç»„ä»¶ä¸ªäººæ‰¾åˆ°äº†ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯<a href="https://busuanzi.ibruce.info/"><strong>ä¸è’œå­</strong></a>ï¼Œä»¥åŠ<a href="https://cn.vercount.one/"><strong>vercount</strong></a></li><li><strong>ä¸è’œå­</strong>æ¯”è¾ƒè€ï¼Œä½†å¾ˆç¨³å®šï¼Œåˆ°ç°åœ¨ä»ç„¶å¯ä»¥ä½¿ç”¨ï¼Œæ²¡æœ‰åœæœ</li><li><strong>vercount</strong>åˆ™æ¯”è¾ƒæ–°ï¼Œå¹¶åšäº†ä¸€äº›ä»£ç ä¼˜åŒ–</li><li>ä¸¤ç§ä½¿ç”¨éƒ½åŸºæœ¬ä¸€æ ·ï¼Œå·®åˆ«ä¸å¤§ï¼Œçœ‹è‡ªå·±å–œå¥½ï¼Œä¸‹é¢çš„æ•™ç¨‹æ˜¯ä»¥<strong>vercount</strong>æ¥ä¸¾ä¾‹ï¼Œç”¨ä¸è’œå­çš„è¯ï¼Œå°±æŠŠå¯¹åº”çš„è„šæœ¬å’Œå…ƒç´ æ ‡ç­¾æ›¿æ¢ä¸€ä¸‹å°±å¥½</li></ul></blockquote><h3 id="1-åŸºæœ¬å¼•å…¥">1 åŸºæœ¬å¼•å…¥</h3><ul><li>ï¼ˆ1ï¼‰ä¿®æ”¹<code>layouts/partials/footer/custom.html</code>ï¼ˆä¸å­˜åœ¨åˆ™è‡ªè¡Œåˆ›å»ºï¼‰ï¼Œå¼•å…¥è„šæœ¬</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- vercountçš„è„šæœ¬ï¼›è‹¥ç”¨ä¸è’œå­ï¼Œåˆ™æ›´æ¢æˆä¸è’œå­çš„è„šæœ¬å°±å¥½ --&gt;</span> <span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">&quot;https://cn.vercount.one/js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br></pre></td></tr></table></figure><ul><li><p>ï¼ˆ2ï¼‰å‡†å¤‡ä¸€å¼ <a href="https://letere-gzj.github.io/hugo-stack/p/hugo/view-count/eye.svg"><strong>æµè§ˆé‡</strong></a>çš„icon(Ctrl+Sä¿å­˜)ï¼Œæ”¾åˆ°<code>assets/icons</code>æ–‡ä»¶å¤¹ä¸‹</p></li><li><p>ï¼ˆ3ï¼‰ä¿®æ”¹<code>layouts/article/components/details.html</code>ï¼Œåœ¨åˆé€‚çš„ä½ç½®ä¸‹åŠ å…¥ä»¥ä¸‹ä»£ç </p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;article-details&quot;</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">&quot;article-time&quot;</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">        <span class="comment">&lt;!-- æµè§ˆé‡ç»Ÿè®¡ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;viewCount&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123; partial &quot;helper/icon&quot; &quot;eye&quot; &#125;&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">time</span> <span class="attr">class</span>=<span class="string">&quot;article-time--reading&quot;</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- vercountç»Ÿè®¡å½“å‰é¡µé¢æµè§ˆæ•°çš„æ ‡ç­¾ï¼›è‹¥ç”¨ä¸è’œå­ï¼Œæ›´æ¢æˆä¸è’œå­å¯¹åº”çš„æ ‡ç­¾å°±å¥½ --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;vercount_value_page_pv&quot;</span>&gt;</span>loading... <span class="tag">&lt;/<span class="name">span</span>&gt;</span>æ¬¡</span><br><span class="line">            <span class="tag">&lt;/<span class="name">time</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>ï¼ˆ4ï¼‰è¿™æ ·æ–‡ç« è¯¦æƒ…çš„å¼€å¤´å°±æ˜¾ç¤ºæµè§ˆæ•°äº†</li></ul><p><a href="https://letere-gzj.github.io/hugo-stack/p/hugo/view-count/%E7%BB%9F%E8%AE%A1%E5%B1%95%E7%A4%BA.png"><img src="https://letere-gzj.github.io/hugo-stack/p/hugo/view-count/%E7%BB%9F%E8%AE%A1%E5%B1%95%E7%A4%BA.png" alt="img"></a></p><h3 id="2-é—®é¢˜ä¿®å¤">2 é—®é¢˜ä¿®å¤</h3><ul><li>é—®é¢˜æè¿°ï¼š<ul><li>åšå®¢é¦–é¡µçš„æ–‡ç« åˆ—è¡¨æ˜¾ç¤ºäº†æµè§ˆæ•°ï¼Œä¸”åªæœ‰ç¬¬ä¸€ç¯‡æ–‡ç« æ‰æœ‰æµè§ˆæ•°ï¼Œå¹¶ä¸”æµè§ˆæ•°çš„æ•°å­—ä¸æ­£ç¡®</li></ul></li></ul><p><a href="https://letere-gzj.github.io/hugo-stack/p/hugo/view-count/%E7%BB%9F%E8%AE%A1%E4%BF%AE%E5%A4%8D1.png"><img src="https://letere-gzj.github.io/hugo-stack/p/hugo/view-count/%E7%BB%9F%E8%AE%A1%E4%BF%AE%E5%A4%8D1.png" alt="img"></a></p><ul><li><p>äº§ç”ŸåŸå› ï¼š</p><ul><li><code>layouts/partials/article/components/details.html</code>æ­¤htmlæ–‡ä»¶ä¹Ÿè¢«ç”¨åœ¨äº†åšå®¢é¦–é¡µçš„æ–‡ç« åˆ—è¡¨ï¼Œæ‰€ä»¥ä¹Ÿè§¦å‘äº†vercountè¯»å–å½“å‰é¡µé¢çš„æµè§ˆæ•°</li><li>å› ä¸ºè¯»å–çš„æ•°æ®æ˜¯å½“å‰é¡µé¢çš„æµè§ˆæ•°ï¼Œä¹Ÿå°±æ˜¯é¦–é¡µçš„æµè§ˆæ•°ï¼Œå¹¶éæ–‡ç« çš„æµè§ˆæ•°ï¼Œæ‰€ä»¥æ•°æ®åªåŠ è½½ä¸€æ¬¡ï¼Œä¸”ä¸å‡†ç¡®</li></ul></li><li><p>è§£å†³æ€è·¯ï¼š</p><ul><li>ç”±äºvercountå¹¶æœªæä¾›<code>åªæŸ¥è¯¢æ–‡ç« æµè§ˆæ•°</code>çš„æ¥å£ï¼Œåªæœ‰ä¸€ä¸ª<code>æ–‡ç« æµè§ˆæ•°+1ï¼Œå¹¶ä¸”è¿”å›æµè§ˆæ•°</code>çš„æ¥å£ï¼Œæ‰€ä»¥æ— æ³•å®ç°é¦–é¡µå¯¹æ¯ç¯‡æ–‡ç« çš„æµè§ˆæ•°çš„å•ç‹¬æŸ¥è¯¢</li><li>æ—¢ç„¶æ— æ³•å®ç°é¦–é¡µå±•ç¤ºæ¯ç¯‡æ–‡ç« çš„å•ç‹¬æµè§ˆæ•°ï¼Œé‚£å°±ç›´æ¥éšè—å°±å¥½äº†ï¼Œç­‰ç‚¹å…¥æ–‡ç« æ‰çœ‹åˆ°å…·ä½“çš„æµè§ˆæ•°</li></ul></li><li><p>å…·ä½“æ“ä½œï¼š</p><ul><li>ï¼ˆ1ï¼‰ä¿®æ”¹<code>layouts/partials/footer/custom.html</code>ï¼Œå¼•å…¥ä»¥ä¸‹ä»£ç </li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">showHideView</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// åˆ¤æ–­æ˜¯å¦å­˜åœ¨vercountæ ‡ç­¾</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> viewCounts = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;#viewCount&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (viewCounts) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// åˆ¤æ–­æ˜¯å¦ä¸ºæ–‡ç« é¡µ</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> article =  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.article-page&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (!article) &#123;</span></span><br><span class="line"><span class="language-javascript">                viewCounts.<span class="title function_">forEach</span>(<span class="function"><span class="params">ele</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    ele.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">showHideView</span>();</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>å¦‚æœå«Œéº»çƒ¦ï¼Œæµè§ˆæ•°ç»Ÿè®¡å¯ä»¥å’Œæ›´æ–°æ—¶é—´ä¸€æ ·ï¼Œæ”¾åˆ°æ–‡ç« æœ«å°¾å°±å¥½ï¼Œå°±ä¸ä¼šæ˜¾ç¤ºåˆ°é¦–é¡µä¸Šäº†</li><li>å…·ä½“ä¿®æ”¹<code>layouts/partials/article/footer.html</code>å°±å¥½ï¼Œçœ‹ä¸ªäººå–œå¥½å§</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Hugo + Stack ä¸»é¢˜ç¾åŒ–æŒ‡å— ğŸ¨&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://file.meimolihan.eu.org/img/hugo-stack-01.webp&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡è¯¦ç»†ä»‹ç»äº† Hugo</summary>
      
    
    
    
    <category term="é»˜è®¤åˆ†ç±»" scheme="https://www.meimolihan.eu.org/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/"/>
    
    
    <category term="hugo" scheme="https://www.meimolihan.eu.org/tags/hugo/"/>
    
  </entry>
  
  <entry>
    <title>Halo to Hugo æ–‡ç« è¿ç§»å·¥å…· ğŸ“¦</title>
    <link href="https://www.meimolihan.eu.org/posts/541ef58e.html"/>
    <id>https://www.meimolihan.eu.org/posts/541ef58e.html</id>
    <published>2025-09-17T08:12:49.000Z</published>
    <updated>2025-09-17T08:12:49.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Halo to Hugo æ–‡ç« è¿ç§»å·¥å…· ğŸ“¦</h1><p><img src="https://file.meimolihan.eu.org/img/halo-to-hugo-01.webp" alt=""></p><blockquote><p>ä¸€æ¬¾ä¸“ä¸ºåšå®¢è¿ç§»è®¾è®¡çš„å·¥å…·ï¼Œå¯å°† Halo æ–‡ç« çš„ Front Matter æ ¼å¼è½¬æ¢ä¸º Hugo å…¼å®¹æ ¼å¼ï¼Œè®©æ‚¨çš„åšå®¢è¿ç§»è¿‡ç¨‹æ›´åŠ é¡ºç•…é«˜æ•ˆï¼ğŸš€</p><p>åŸä½œè€…åœ°å€:<a href="https://github.com/ayuayue/hexo2hugo">https://github.com/ayuayue/hexo2hugo</a></p></blockquote><hr><h2 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h2><ul><li>ğŸ”„ <strong>æ ¼å¼è½¬æ¢</strong>ï¼šè‡ªåŠ¨å°† Halo çš„ Front Matter è½¬æ¢ä¸º Hugo å…¼å®¹æ ¼å¼</li><li>ğŸ“… <strong>æ—¥æœŸå¤„ç†</strong>ï¼šæ™ºèƒ½è½¬æ¢æ—¥æœŸæ ¼å¼å¹¶æ·»åŠ æ—¶åŒºä¿¡æ¯</li><li>ğŸ·ï¸ <strong>æ ‡ç­¾åˆ†ç±»</strong>ï¼šå®Œç¾å¤„ç† <code>tags</code> å’Œ <code>categories</code> å­—æ®µ</li><li>ğŸ›¡ï¸ <strong>å®‰å…¨ç¬¬ä¸€</strong>ï¼šåˆ›å»ºç‹¬ç«‹è¾“å‡ºç›®å½•ï¼Œä¸ä¿®æ”¹åŸå§‹æ–‡ä»¶</li><li>ğŸ“ <strong>å†…å®¹ä¿ç•™</strong>ï¼šä¿æŒæ–‡ç« æ­£æ–‡å†…å®¹å®Œå…¨ä¸å˜</li><li>âš™ï¸ <strong>çµæ´»æ‰©å±•</strong>ï¼šæ”¯æŒè‡ªå®šä¹‰æ·»åŠ å…¶ä»– Front Matter å­—æ®µ</li></ul><hr><h2 id="ğŸ“‹-ä½¿ç”¨æŒ‡å—">ğŸ“‹ ä½¿ç”¨æŒ‡å—</h2><h3 id="å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…‹éš†é¡¹ç›®</span></span><br><span class="line">git <span class="built_in">clone</span> git@github.com:meimolihan/halo_to_hugo.git</span><br><span class="line"><span class="built_in">cd</span> halo_to_hugo</span><br></pre></td></tr></table></figure><h3 id="è¯¦ç»†æ­¥éª¤">è¯¦ç»†æ­¥éª¤</h3><ol><li><p><strong>å‡†å¤‡æµ‹è¯•ç¯å¢ƒ</strong> ğŸ“‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºæµ‹è¯•ç›®å½•å¹¶å¤åˆ¶ä¸€äº›æ–‡ç« </span></span><br><span class="line"><span class="built_in">mkdir</span> <span class="built_in">test</span></span><br><span class="line"><span class="built_in">cp</span> ~/your-halo-blog/content/posts/*.md <span class="built_in">test</span>/</span><br></pre></td></tr></table></figure></li><li><p><strong>æ‰§è¡Œè½¬æ¢</strong> âš¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿è¡Œè½¬æ¢å·¥å…·</span></span><br><span class="line">go run main.go <span class="built_in">test</span></span><br></pre></td></tr></table></figure></li><li><p><strong>éªŒè¯ç»“æœ</strong> âœ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹è½¬æ¢åçš„æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">ls</span> -la newPost$(<span class="built_in">date</span> +%s)/</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥å•ä¸ªæ–‡ä»¶å†…å®¹</span></span><br><span class="line"><span class="built_in">head</span> -n 20 newPost1701319905/your-post.md</span><br></pre></td></tr></table></figure></li><li><p><strong>åº”ç”¨åˆ°æ­£å¼ç¯å¢ƒ</strong> ğŸš€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†è½¬æ¢åçš„æ–‡ç« ç§»åŠ¨åˆ°Hugoç›®å½•</span></span><br><span class="line"><span class="built_in">mv</span> newPost1701319905/* ~/your-hugo-site/content/posts/</span><br><span class="line"></span><br><span class="line"><span class="comment"># é’ˆå¯¹æ­£å¼ç›®å½•æ‰§è¡Œ</span></span><br><span class="line">go run main.go ~/your-hugo-site/content/posts/</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡ŒHugoæµ‹è¯•ç”Ÿæˆ</span></span><br><span class="line"><span class="built_in">cd</span> ~/your-hugo-site</span><br><span class="line">hugo server -D</span><br></pre></td></tr></table></figure></li></ol><hr><h2 id="ğŸ”§-æŠ€æœ¯ç»†èŠ‚">ğŸ”§ æŠ€æœ¯ç»†èŠ‚</h2><h3 id="æ”¯æŒçš„-Front-Matter-è½¬æ¢">æ”¯æŒçš„ Front Matter è½¬æ¢</h3><table><thead><tr><th>Halo å­—æ®µ</th><th>Hugo å­—æ®µ</th><th>è½¬æ¢è¯´æ˜</th></tr></thead><tbody><tr><td><code>title</code></td><td><code>title</code></td><td>æ·»åŠ å¼•å·åŒ…è£¹</td></tr><tr><td><code>date</code></td><td><code>date</code></td><td>è½¬æ¢ä¸º ISO8601 æ ¼å¼å¹¶æ·»åŠ æ—¶åŒº</td></tr><tr><td><code>excerpt</code></td><td><code>description</code></td><td>ç›´æ¥æ˜ å°„</td></tr><tr><td><code>cover</code></td><td><code>image</code></td><td>ç›´æ¥æ˜ å°„</td></tr><tr><td><code>tags</code></td><td><code>tags</code></td><td>æ”¯æŒå­—ç¬¦ä¸²å’Œåˆ—è¡¨ä¸¤ç§æ ¼å¼</td></tr><tr><td><code>categories</code></td><td><code>categories</code></td><td>æ”¯æŒå­—ç¬¦ä¸²å’Œåˆ—è¡¨ä¸¤ç§æ ¼å¼</td></tr><tr><td><code>permalink</code></td><td><code>slug</code></td><td>æå–æœ€åéƒ¨åˆ†ä½œä¸ºslug</td></tr></tbody></table><h3 id="è½¬æ¢ç¤ºä¾‹">è½¬æ¢ç¤ºä¾‹</h3><p><strong>è½¬æ¢å‰ (Haloæ ¼å¼)</strong>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Halo</span> <span class="string">to</span> <span class="string">Hugo</span> <span class="string">è¿ç§»å·¥å…·</span></span><br><span class="line"><span class="attr">id:</span> <span class="string">770a1b63-4737-4e87-a0d8-b8b38a3f7b6a</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2025-08-26 16:39:39</span></span><br><span class="line"><span class="attr">auther:</span> <span class="string">admin</span></span><br><span class="line"><span class="attr">cover:</span> <span class="string">https://example.com/image.webp</span></span><br><span class="line"><span class="attr">excerpt:</span> <span class="string">Halo</span> <span class="string">to</span> <span class="string">Hugo</span> <span class="string">è¿ç§»å·¥å…·ï¼šæ— ç¼è½¬æ¢æ–‡ç« </span> <span class="string">Front</span> <span class="string">Matter</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">/archives/5uaPaEJk</span></span><br><span class="line"><span class="attr">categories:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">Halo</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">Hugo</span></span><br><span class="line"><span class="attr">tags:</span> </span><br><span class="line"> <span class="bullet">-</span> <span class="string">blog</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p><strong>è½¬æ¢å (Hugoæ ¼å¼)</strong>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">&quot;Halo to Hugo è¿ç§»å·¥å…·&quot;</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2025-08-26T16:39:39+08:00</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&quot;Halo to Hugo è¿ç§»å·¥å…·ï¼šæ— ç¼è½¬æ¢æ–‡ç«  Front Matter&quot;</span></span><br><span class="line"><span class="attr">draft:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">weight:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">image:</span> <span class="string">&quot;https://example.com/image.webp&quot;</span></span><br><span class="line"><span class="attr">categories:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">Halo</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Hugo</span></span><br><span class="line"><span class="attr">tags:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">blog</span></span><br><span class="line"><span class="attr">slug:</span> <span class="string">&quot;5uaPaEJk&quot;</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><hr><h2 id="âš ï¸-æ³¨æ„äº‹é¡¹">âš ï¸ æ³¨æ„äº‹é¡¹</h2><ol><li><strong>å¤‡ä»½é‡è¦æ•°æ®</strong> ğŸ’¾ï¼šå§‹ç»ˆåœ¨æ“ä½œå‰å¤‡ä»½åŸå§‹æ–‡ä»¶</li><li><strong>æµ‹è¯•éªŒè¯</strong> ğŸ”ï¼šå…ˆåœ¨æµ‹è¯•ç›®å½•éªŒè¯è½¬æ¢ç»“æœï¼Œå†åº”ç”¨åˆ°æ­£å¼ç¯å¢ƒ</li><li><strong>è‡ªå®šä¹‰å­—æ®µ</strong> ğŸ› ï¸ï¼šå¦‚éœ€è½¬æ¢å…¶ä»– Front Matter å­—æ®µï¼Œå¯è‡ªè¡Œä¿®æ”¹æºç æ·»åŠ </li><li><strong>æ ¼å¼å…¼å®¹</strong> ğŸ“‹ï¼šç¡®ä¿æ‚¨çš„ Halo æ–‡ç« ä½¿ç”¨æ ‡å‡† YAML Front Matter æ ¼å¼</li></ol><h2 id="ğŸ›-å¸¸è§é—®é¢˜">ğŸ› å¸¸è§é—®é¢˜</h2><p><strong>Q: è½¬æ¢åæ–‡ç« å†…å®¹å‡ºç°ä¹±ç æ€ä¹ˆåŠï¼Ÿ</strong><br>A: è¯·æ£€æŸ¥åŸå§‹æ–‡ä»¶çš„ç¼–ç æ ¼å¼ï¼Œç¡®ä¿ä¸º UTF-8</p><p><strong>Q: æŸäº›ç‰¹æ®Šå­—æ®µæ²¡æœ‰è½¬æ¢æ€ä¹ˆåŠï¼Ÿ</strong><br>A: æ‚¨å¯ä»¥è‡ªè¡Œä¿®æ”¹æºç ï¼Œåœ¨è½¬æ¢å‡½æ•°ä¸­æ·»åŠ éœ€è¦çš„å­—æ®µå¤„ç†é€»è¾‘</p><p><strong>Q: è½¬æ¢åçš„æ—¥æœŸæ—¶åŒºä¸æ­£ç¡®æ€ä¹ˆåŠï¼Ÿ</strong><br>A: ä¿®æ”¹æºç ä¸­çš„ <code>location, _ := time.LoadLocation(&quot;Asia/Shanghai&quot;)</code> ä¸ºæ‚¨æ‰€åœ¨çš„æ—¶åŒº</p><h2 id="ğŸ“-å¼€å‘æŒ‡å—">ğŸ“ å¼€å‘æŒ‡å—</h2><p>å¦‚æœæ‚¨æƒ³è‡ªå®šä¹‰æˆ–æ‰©å±•æ­¤å·¥å…·ï¼š</p><ol><li>ä¸»è¦è½¬æ¢é€»è¾‘ä½äº <code>convertFrontMatter</code> å‡½æ•°ä¸­</li><li>æ—¥æœŸå¤„ç†é€»è¾‘åœ¨ <code>convertDate</code> å‡½æ•°ä¸­</li><li>æ ‡ç­¾å’Œåˆ†ç±»å¤„ç†åœ¨ <code>convertToStringSlice</code> å‡½æ•°ä¸­</li></ol><p>æ¬¢è¿æäº¤ Pull Request å’Œ Issueï¼ğŸ¤</p><hr><p>å¸Œæœ›è¿™ä¸ªå·¥å…·èƒ½è®©æ‚¨çš„åšå®¢è¿ç§»è¿‡ç¨‹æ›´åŠ é¡ºåˆ©ï¼å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨é¡¹ç›®ä¸­æå‡º Issueã€‚ğŸ‰</p>]]></content>
    
    
    <summary type="html">ä¸€æ¬¾ä¸“ä¸ºåšå®¢è¿ç§»è®¾è®¡çš„å·¥å…·ï¼Œå¯å°† Halo æ–‡ç« çš„ Front Matter æ ¼å¼è½¬æ¢ä¸º Hugo å…¼å®¹æ ¼å¼ï¼Œè®©æ‚¨çš„åšå®¢è¿ç§»è¿‡ç¨‹æ›´åŠ é¡ºç•…é«˜æ•ˆï¼ğŸš€</summary>
    
    
    
    <category term="Linux" scheme="https://www.meimolihan.eu.org/categories/Linux/"/>
    
    
    <category term="hugo" scheme="https://www.meimolihan.eu.org/tags/hugo/"/>
    
    <category term="halo" scheme="https://www.meimolihan.eu.org/tags/halo/"/>
    
  </entry>
  
  <entry>
    <title>Linux æ–‡ä»¶å‹ç¼©ä¸è§£å‹è„šæœ¬ &amp; äº¤äº’å¼ ğŸ“¦</title>
    <link href="https://www.meimolihan.eu.org/posts/512fc1f8.html"/>
    <id>https://www.meimolihan.eu.org/posts/512fc1f8.html</id>
    <published>2025-09-15T05:16:56.000Z</published>
    <updated>2025-09-15T05:16:56.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Linux æ–‡ä»¶å‹ç¼©ä¸è§£å‹è„šæœ¬ &amp; äº¤äº’å¼ ğŸ“¦</h1><p><img src="https://file.meimolihan.eu.org/img/zip-gz-01.webp" alt=""></p><blockquote><p>æœ¬æ–‡æ¡£æä¾›ä¸€ç³»åˆ—ç”¨äºæ–‡ä»¶å‹ç¼©ä¸è§£å‹çš„ Bash è„šæœ¬ï¼Œæ”¯æŒ ZIP å’Œ TAR.GZ æ ¼å¼ï¼Œå¯è‡ªåŠ¨åŒ–å¤„ç†å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ä¸å­ç›®å½•ã€‚æ‰€æœ‰è„šæœ¬å‡é€šè¿‡è¿œç¨‹é“¾æ¥ä¸€é”®æ‰§è¡Œï¼Œæ–¹ä¾¿å¿«æ·ï¼</p></blockquote><hr><h2 id="ğŸ“š-å¯¼èˆªç›®å½•">ğŸ“š å¯¼èˆªç›®å½•</h2><ul><li><a href="#zip-format">ğŸ“¦ ZIP æ ¼å¼å¤„ç†</a><ul><li><a href="#backup-zip">å‹ç¼©ä¸ºZIPæ–‡ä»¶</a></li><li><a href="#unzip">è§£å‹ZIPæ–‡ä»¶</a></li></ul></li><li><a href="#tar-gz-format">ğŸ“¦ TAR.GZ æ ¼å¼å¤„ç†</a><ul><li><a href="#backup-gz">å‹ç¼©ä¸ºTAR.GZæ–‡ä»¶</a></li><li><a href="#untar-gz">è§£å‹TAR.GZæ–‡ä»¶</a></li></ul></li><li><a href="#notes">ğŸ’¡ ä½¿ç”¨æ³¨æ„äº‹é¡¹</a></li><li><a href="#customization">ğŸ”§ è‡ªå®šä¹‰ä¸æ‰©å±•</a></li></ul><hr><p><a id="zip-format"></a></p><h2 id="ğŸ“¦-ZIP-æ ¼å¼å¤„ç†">ğŸ“¦ ZIP æ ¼å¼å¤„ç†</h2><p>æœ¬èŠ‚ä»‹ç»ä¸ ZIP æ ¼å¼ç›¸å…³çš„å‹ç¼©ä¸è§£å‹æ“ä½œã€‚</p><p><a id="backup-zip"></a></p><h3 id="ğŸ“¦-å‹ç¼©ä¸ºZIPæ–‡ä»¶">ğŸ“¦ å‹ç¼©ä¸ºZIPæ–‡ä»¶</h3><p>æ­¤åŠŸèƒ½ç”¨äºéå†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•ï¼Œå¹¶å°†æ¯ä¸ªå­ç›®å½•å•ç‹¬å‹ç¼©ä¸ºä¸€ä¸ªåŒåçš„ <code>.zip</code> æ–‡ä»¶ã€‚é€‚åˆç”¨äºæ‰¹é‡å¤‡ä»½æˆ–æ•´ç†é¡¹ç›®ç›®å½•ã€‚</p><p><strong>âœ¨ ç‰¹ç‚¹ï¼š</strong></p><ul><li>ğŸ”„ è‡ªåŠ¨åŒ–éå†ï¼šæ— éœ€æ‰‹åŠ¨æŒ‡å®šè·¯å¾„ï¼Œè‡ªåŠ¨å¤„ç†æ‰€æœ‰å­ç›®å½•ã€‚</li><li>ğŸ—‚ï¸ ä¿ç•™ç»“æ„ï¼šå‹ç¼©åçš„ ZIP æ–‡ä»¶å®Œæ•´ä¿ç•™åŸå§‹ç›®å½•ç»“æ„ã€‚</li><li>ğŸŒ è¿œç¨‹è„šæœ¬ï¼šç›´æ¥é€šè¿‡ curl ä¸‹è½½å¹¶æ‰§è¡Œï¼Œæ— éœ€æœ¬åœ°ä¿å­˜è„šæœ¬ã€‚</li></ul><p><strong>ğŸ“ ä½¿ç”¨å‘½ä»¤ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL script.meimolihan.eu.org/sh/zip/backup_zip.sh)</span><br></pre></td></tr></table></figure><ul><li>æˆ–ä½¿ç”¨å›½å†…é•œåƒï¼ˆè‹¥è®¿é—® GitHub å—é™ï¼‰ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL gitee.com/meimolihan/script/raw/master/sh/zip/backup_zip.sh)</span><br></pre></td></tr></table></figure><p><img src="https://file.meimolihan.eu.org/screenshot/backup-zip-001.webp" alt="backup-zipå‹ç¼©ç¤ºä¾‹"></p><p><a id="unzip"></a></p><h3 id="ğŸ”“-è§£å‹ZIPæ–‡ä»¶">ğŸ”“ è§£å‹ZIPæ–‡ä»¶</h3><p>æ­¤åŠŸèƒ½ç”¨äºéå†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ <code>.zip</code> æ–‡ä»¶ï¼Œå¹¶å°†æ¯ä¸ª ZIP æ–‡ä»¶è§£å‹åˆ°å½“å‰ç›®å½•ä¸‹ã€‚é€‚ç”¨äºæ‰¹é‡æ¢å¤å¤‡ä»½æˆ–æå–å¤šä¸ªå‹ç¼©åŒ…ã€‚</p><p><strong>âœ¨ ç‰¹ç‚¹ï¼š</strong></p><ul><li>ğŸ”„ æ‰¹é‡å¤„ç†ï¼šè‡ªåŠ¨è¯†åˆ«æ‰€æœ‰ ZIP æ–‡ä»¶ï¼Œæ— éœ€é€ä¸ªè§£å‹ã€‚</li><li>ğŸ“‚ è§£å‹åˆ°å½“å‰ç›®å½•ï¼šæ‰€æœ‰æ–‡ä»¶æå–åˆ°å½“å‰æ–‡ä»¶å¤¹ï¼Œä¿æŒè·¯å¾„æ¸…æ™°ã€‚</li><li>âš¡ ä¸€é”®æ‰§è¡Œï¼šç®€åŒ–é‡å¤æ€§æ“ä½œï¼Œæé«˜æ•ˆç‡ã€‚</li></ul><p><strong>ğŸ“ ä½¿ç”¨å‘½ä»¤ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL script.meimolihan.eu.org/sh/zip/unzip.sh)</span><br></pre></td></tr></table></figure><ul><li>æˆ–ä½¿ç”¨å›½å†…é•œåƒï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL gitee.com/meimolihan/script/raw/master/sh/zip/unzip.sh)</span><br></pre></td></tr></table></figure><hr><p><a id="tar-gz-format"></a></p><h2 id="ğŸ“¦-TAR-GZ-æ ¼å¼å¤„ç†">ğŸ“¦ TAR.GZ æ ¼å¼å¤„ç†</h2><p>æœ¬èŠ‚ä»‹ç»ä¸ TAR.GZ æ ¼å¼ç›¸å…³çš„å‹ç¼©ä¸è§£å‹æ“ä½œã€‚</p><p><a id="backup-gz"></a></p><h3 id="ğŸ“¦-å‹ç¼©ä¸ºTAR-GZæ–‡ä»¶">ğŸ“¦ å‹ç¼©ä¸ºTAR.GZæ–‡ä»¶</h3><p>æ­¤åŠŸèƒ½ç”¨äºéå†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•ï¼Œå¹¶å°†æ¯ä¸ªå­ç›®å½•å‹ç¼©ä¸ºä¸€ä¸ªåŒåçš„ <code>.tar.gz</code> æ–‡ä»¶ã€‚TAR.GZ æ ¼å¼åœ¨ Linux ç¯å¢ƒä¸­å¹¿æ³›ä½¿ç”¨ï¼Œå…·æœ‰è¾ƒå¥½çš„å‹ç¼©æ•ˆç‡å’Œå…¼å®¹æ€§ã€‚</p><p><strong>âœ¨ ç‰¹ç‚¹ï¼š</strong></p><ul><li>ğŸ§ Linux å‹å¥½ï¼šTAR.GZ æ˜¯ Linux ç³»ç»Ÿå¸¸è§çš„å‹ç¼©æ ¼å¼ã€‚</li><li>ğŸ“¦ é«˜å‹ç¼©æ¯”ï¼šç›¸æ¯” ZIPï¼ŒTAR.GZ é€šå¸¸èƒ½æä¾›æ›´é«˜çš„å‹ç¼©ç‡ã€‚</li><li>ğŸ”— è¿œç¨‹æ‰§è¡Œï¼šç›´æ¥é€šè¿‡ç½‘ç»œè„šæœ¬æ‰§è¡Œï¼Œæ— éœ€æœ¬åœ°å®‰è£…ã€‚</li></ul><p><strong>ğŸ“ ä½¿ç”¨å‘½ä»¤ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL script.meimolihan.eu.org/sh/gz/backup_gz.sh)</span><br></pre></td></tr></table></figure><ul><li>æˆ–ä½¿ç”¨å›½å†…é•œåƒï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL gitee.com/meimolihan/script/raw/master/sh/gz/backup_gz.sh)</span><br></pre></td></tr></table></figure><p><img src="https://file.meimolihan.eu.org/screenshot/backup-gz-001.webp" alt="backup-gzå‹ç¼©ç¤ºä¾‹"></p><p><a id="untar-gz"></a></p><h3 id="ğŸ”“-è§£å‹TAR-GZæ–‡ä»¶">ğŸ”“ è§£å‹TAR.GZæ–‡ä»¶</h3><p>æ­¤åŠŸèƒ½ç”¨äºéå†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ <code>.tar.gz</code> æ–‡ä»¶ï¼Œå¹¶å°†æ¯ä¸ªæ–‡ä»¶è§£å‹åˆ°å½“å‰ç›®å½•ä¸‹ã€‚é€‚ç”¨äºä» TAR.GZ å¤‡ä»½ä¸­æ¢å¤æ•°æ®æˆ–æå–å‹ç¼©å†…å®¹ã€‚</p><p><strong>âœ¨ ç‰¹ç‚¹ï¼š</strong></p><ul><li>ğŸ” è‡ªåŠ¨è¯†åˆ«ï¼šè‡ªåŠ¨æŸ¥æ‰¾æ‰€æœ‰ TAR.GZ æ–‡ä»¶å¹¶è¿›è¡Œå¤„ç†ã€‚</li><li>ğŸ—ƒï¸ ä¿ç•™æƒé™ï¼šè§£å‹æ—¶ä¿ç•™åŸå§‹æ–‡ä»¶æƒé™å’Œå±æ€§ï¼ˆé€‚ç”¨äº Linux ç³»ç»Ÿï¼‰ã€‚</li><li>ğŸš€ å¿«é€Ÿæ‰§è¡Œï¼šä¸€æ¡å‘½ä»¤å³å¯å®Œæˆæ‰€æœ‰è§£å‹æ“ä½œã€‚</li></ul><p><strong>ğŸ“ ä½¿ç”¨å‘½ä»¤ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL script.meimolihan.eu.org/sh/gz/untar.sh)</span><br></pre></td></tr></table></figure><ul><li>æˆ–ä½¿ç”¨å›½å†…é•œåƒï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL gitee.com/meimolihan/script/raw/master/sh/gz/untar.sh)</span><br></pre></td></tr></table></figure><hr><p><a id="notes"></a></p><h2 id="ğŸ’¡-ä½¿ç”¨æ³¨æ„äº‹é¡¹">ğŸ’¡ ä½¿ç”¨æ³¨æ„äº‹é¡¹</h2><ol><li><strong>ğŸŒ ç½‘ç»œä¾èµ–</strong>ï¼šè¿™äº›è„šæœ¬éœ€è¦é€šè¿‡ curl ä¸‹è½½ï¼Œè¯·ç¡®ä¿æ‚¨çš„ç³»ç»Ÿå·²è¿æ¥äº’è”ç½‘ï¼Œå¹¶ä¸”èƒ½å¤Ÿè®¿é—® <code>script.meimolihan.eu.org</code> æˆ– <code>gitee.com</code>ã€‚</li><li><strong>ğŸ” å®‰å…¨æé†’</strong>ï¼šæ‰§è¡Œè¿œç¨‹è„šæœ¬å‰ï¼Œè¯·ç¡®ä¿æ‚¨ä¿¡ä»»è„šæœ¬æ¥æºã€‚å»ºè®®å…ˆæ£€æŸ¥è„šæœ¬å†…å®¹ï¼ˆå¯é€šè¿‡ curl ä¸‹è½½åæŸ¥çœ‹ï¼‰ï¼Œå†æ‰§è¡Œã€‚</li><li><strong>ğŸ“ ç›®å½•ç»“æ„</strong>ï¼šå‹ç¼©è„šæœ¬ä¼šéå†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•ï¼Œæ¯ä¸ªå­ç›®å½•ç”Ÿæˆä¸€ä¸ªå‹ç¼©æ–‡ä»¶ã€‚è¯·ç¡®ä¿å½“å‰ç›®å½•ä¸‹æ²¡æœ‰æ— å…³å­ç›®å½•ï¼Œä»¥å…äº§ç”Ÿå¤šä½™æ–‡ä»¶ã€‚</li><li><strong>âš™ï¸ ç³»ç»Ÿå…¼å®¹</strong>ï¼šè¿™äº›è„šæœ¬ä¸»è¦åœ¨ Linux æˆ– macOS ç¯å¢ƒä¸­æµ‹è¯•é€šè¿‡ï¼ŒWindows ç”¨æˆ·å¯èƒ½éœ€è¦ä½¿ç”¨ WSL æˆ–ç±»ä¼¼ç¯å¢ƒã€‚</li><li><strong>âš ï¸ è¦†ç›–é£é™©</strong>ï¼šè§£å‹æ—¶ï¼Œå¦‚æœå½“å‰ç›®å½•å·²å­˜åœ¨åŒåæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œå¯èƒ½ä¼šè¢«è¦†ç›–ï¼Œè¯·æå‰åšå¥½å¤‡ä»½ã€‚</li></ol><hr><p><a id="customization"></a></p><h2 id="ğŸ”§-è‡ªå®šä¹‰ä¸æ‰©å±•">ğŸ”§ è‡ªå®šä¹‰ä¸æ‰©å±•</h2><p>å¦‚æœæ‚¨éœ€è¦ä¿®æ”¹è„šæœ¬ä»¥æ»¡è¶³ç‰¹å®šéœ€æ±‚ï¼ˆå¦‚æ’é™¤æŸäº›ç›®å½•ã€æ·»åŠ å‹ç¼©å¯†ç ç­‰ï¼‰ï¼Œå¯ä»¥å…ˆå°†è„šæœ¬ä¸‹è½½åˆ°æœ¬åœ°ï¼Œç„¶åè¿›è¡Œç¼–è¾‘ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½è„šæœ¬åˆ°æœ¬åœ°</span></span><br><span class="line">curl -sL script.meimolihan.eu.org/sh/zip/backup-zip.sh &gt; my-backup-script.sh</span><br><span class="line"><span class="comment"># ç¼–è¾‘è„šæœ¬</span></span><br><span class="line">nano my-backup-script.sh</span><br><span class="line"><span class="comment"># æˆäºˆæ‰§è¡Œæƒé™</span></span><br><span class="line"><span class="built_in">chmod</span> +x my-backup-script.sh</span><br><span class="line"><span class="comment"># è¿è¡Œæœ¬åœ°è„šæœ¬</span></span><br><span class="line">./my-backup-script.sh</span><br></pre></td></tr></table></figure><p><strong>ğŸ¯ å¸¸è§è‡ªå®šä¹‰åœºæ™¯ï¼š</strong></p><ul><li>æ·»åŠ å‹ç¼©å¯†ç ï¼ˆZIP æ ¼å¼æ”¯æŒï¼‰ã€‚</li><li>æ’é™¤ç‰¹å®šç›®å½•æˆ–æ–‡ä»¶ï¼ˆå¦‚ node_modulesã€.git ç­‰ï¼‰ã€‚</li><li>ä¿®æ”¹å‹ç¼©çº§åˆ«ï¼ˆZIP å’Œ TAR.GZ å‡æ”¯æŒï¼‰ã€‚</li><li>å°†å‹ç¼©æ–‡ä»¶ä¸Šä¼ åˆ°è¿œç¨‹æœåŠ¡å™¨æˆ–äº‘å­˜å‚¨ã€‚</li></ul><hr><p>å¸Œæœ›è¿™äº›è„šæœ¬èƒ½å¸®åŠ©æ‚¨æ›´é«˜æ•ˆåœ°ç®¡ç†æ–‡ä»¶ï¼å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åé¦ˆã€‚ğŸš€</p>]]></content>
    
    
    <summary type="html">æœ¬æ–‡æ¡£æä¾›ä¸€ç³»åˆ—ç”¨äºæ–‡ä»¶å‹ç¼©ä¸è§£å‹çš„ Bash è„šæœ¬ï¼Œæ”¯æŒ ZIP å’Œ TAR.GZ æ ¼å¼ï¼Œå¯è‡ªåŠ¨åŒ–å¤„ç†å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ä¸å­ç›®å½•ã€‚æ‰€æœ‰è„šæœ¬å‡é€šè¿‡è¿œç¨‹é“¾æ¥ä¸€é”®æ‰§è¡Œï¼Œæ–¹ä¾¿å¿«æ·ï¼</summary>
    
    
    
    <category term="Linux" scheme="https://www.meimolihan.eu.org/categories/Linux/"/>
    
    
    <category term="æˆ‘çš„" scheme="https://www.meimolihan.eu.org/tags/%E6%88%91%E7%9A%84/"/>
    
    <category term="åŒæ­¥&amp;å¤‡ä»½" scheme="https://www.meimolihan.eu.org/tags/%E5%90%8C%E6%AD%A5-%E5%A4%87%E4%BB%BD/"/>
    
    <category term="è„šæœ¬" scheme="https://www.meimolihan.eu.org/tags/%E8%84%9A%E6%9C%AC/"/>
    
  </entry>
  
  <entry>
    <title>Linux å®Œæ•´ç›®å½•å¤‡ä»½ä¸è§£å‹è‡ªåŠ¨åŒ–è„šæœ¬ğŸ“‚</title>
    <link href="https://www.meimolihan.eu.org/posts/53235b92.html"/>
    <id>https://www.meimolihan.eu.org/posts/53235b92.html</id>
    <published>2025-09-14T20:09:55.000Z</published>
    <updated>2025-09-14T20:09:55.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Linux å®Œæ•´ç›®å½•å¤‡ä»½ä¸è§£å‹è‡ªåŠ¨åŒ–è„šæœ¬ ğŸ“‚</h1><p><img src="https://file.meimolihan.eu.org/img/linux-rar-01.webp" alt=""></p><blockquote><p>æœ¬æ–‡è¯¦ç»†ä»‹ç»é€šç”¨è‡ªåŠ¨å¤‡ä»½è„šæœ¬çš„åŠŸèƒ½ã€ä½¿ç”¨æ–¹æ³•åŠæ¢å¤æŒ‡å—ï¼Œå¸®åŠ©æ‚¨è½»æ¾ç®¡ç†é‡è¦æ•°æ®çš„å®‰å…¨ã€‚</p></blockquote><hr><h2 id="ğŸ“‹-å¯¼èˆªç›®å½•">ğŸ“‹ å¯¼èˆªç›®å½•</h2><ul><li><a href="#script-overview">ğŸ“¦ è„šæœ¬æ¦‚è¿°</a></li><li><a href="#features">âœ¨ ä¸€ã€å¤‡ä»½è„šæœ¬åŠŸèƒ½ä¸ç‰¹ç‚¹</a></li><li><a href="#extract-features">ğŸ“¦ äºŒã€è§£å‹å‘½ä»¤åŠŸèƒ½ä¸ç‰¹ç‚¹</a></li><li><a href="#usage">ğŸ”§ ä¸‰ã€ä½¿ç”¨æ–¹æ³•</a><ul><li><a href="#remote-usage">ğŸŒ 1. è¿œç¨‹æ‰§è¡Œæ–¹å¼ï¼ˆå‹ç¼©ä¸è§£å‹ï¼‰</a><ul><li><a href="#remote-backup">ğŸ“¦ è¿œç¨‹å‹ç¼©æ“ä½œ</a></li><li><a href="#remote-extract">ğŸ“¤ æœ¬åœ°è§£å‹æ“ä½œ</a></li></ul></li><li><a href="#local-usage">ğŸ’» 2. æœ¬åœ°æ‰§è¡Œæ–¹å¼ï¼ˆå‹ç¼©ä¸è§£å‹ï¼‰</a><ul><li><a href="#local-backup">ğŸ“¦ æœ¬åœ°å‹ç¼©æ“ä½œ</a></li><li><a href="#local-extract">ğŸ“¤ æœ¬åœ°è§£å‹æ“ä½œ</a></li></ul></li></ul></li><li><a href="#test-backup-extract">ğŸ” å››ã€æµ‹è¯•å‹ç¼©ä¸è§£å‹</a></li><li><a href="#backup-compression">ğŸ“ äº”ã€å¤‡ä»½åŸç†ä¸å‹ç¼©æœºåˆ¶</a></li><li><a href="#cron-setup">â° å…­ã€å®šæ—¶ä»»åŠ¡è®¾ç½®</a></li><li><a href="#notes">ğŸ’¡ ä¸ƒã€æ³¨æ„äº‹é¡¹</a></li></ul><hr><p><a id="script-overview"></a></p><h2 id="ğŸ“¦-è„šæœ¬æ¦‚è¿°">ğŸ“¦ è„šæœ¬æ¦‚è¿°</h2><p>é€šç”¨è‡ªåŠ¨å¤‡ä»½è„šæœ¬æ˜¯ä¸€ä¸ªé«˜æ•ˆçš„æ•°æ®ä¿æŠ¤å·¥å…·ï¼Œèƒ½å¤Ÿè‡ªåŠ¨åŒ–å®Œæˆç›®å½•çš„å‹ç¼©å¤‡ä»½ã€ç‰ˆæœ¬ç®¡ç†å’Œæ—§å¤‡ä»½æ¸…ç†å·¥ä½œã€‚é€šè¿‡ç®€å•çš„å‘½ä»¤å³å¯å®ç°ä¸€é”®å¤‡ä»½ï¼Œç¡®ä¿æ‚¨çš„æ•°æ®å®‰å…¨æ— å¿§ã€‚</p><hr><p><a id="features"></a></p><h2 id="ä¸€ã€-âœ¨-å¤‡ä»½è„šæœ¬åŠŸèƒ½ä¸ç‰¹ç‚¹">ä¸€ã€ âœ¨ å¤‡ä»½è„šæœ¬åŠŸèƒ½ä¸ç‰¹ç‚¹</h2><ul><li>âœ… <strong>å®Œå…¨å…äº¤äº’</strong>ï¼šé€‚åˆè‡ªåŠ¨åŒ–ä»»åŠ¡å’Œå®šæ—¶æ‰§è¡Œ</li><li>âœ… <strong>æ™ºèƒ½ä¿ç•™ç­–ç•¥</strong>ï¼šè‡ªåŠ¨ä¿ç•™æŒ‡å®šæ•°é‡çš„æœ€æ–°å¤‡ä»½æ–‡ä»¶</li><li>âœ… <strong>æ—¶é—´æˆ³æ ‡è¯†</strong>ï¼šæ¯ä¸ªå¤‡ä»½æ–‡ä»¶åŒ…å«ç²¾ç¡®åˆ°ç§’çš„åˆ›å»ºæ—¶é—´</li><li>âœ… <strong>å®Œæ•´æ€§æ£€æŸ¥</strong>ï¼šè‡ªåŠ¨éªŒè¯æºç›®å½•å’Œå¤‡ä»½ç›®å½•çš„å¯ç”¨æ€§</li><li>âœ… <strong>è¯¦ç»†æ—¥å¿—è¾“å‡º</strong>ï¼šå®æ—¶æ˜¾ç¤ºå¤‡ä»½è¿›åº¦å’Œç»“æœ</li><li>âœ… <strong>ç©ºé—´ç®¡ç†</strong>ï¼šè‡ªåŠ¨æ¸…ç†æ—§å¤‡ä»½ï¼Œé¿å…ç£ç›˜ç©ºé—´ä¸è¶³</li></ul><hr><p><a id="extract-features"></a></p><h2 id="äºŒã€ğŸ“¦-è§£å‹å‘½ä»¤åŠŸèƒ½ä¸ç‰¹ç‚¹">äºŒã€ğŸ“¦ è§£å‹å‘½ä»¤åŠŸèƒ½ä¸ç‰¹ç‚¹</h2><ul><li>âœ… <strong>çµæ´»è§£å‹</strong>ï¼šæ”¯æŒè§£å‹åˆ°å½“å‰ç›®å½•ã€æŒ‡å®šç›®å½•ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚</li><li>âœ… <strong>å†…å®¹é¢„è§ˆ</strong>ï¼šå¯åœ¨è§£å‹å‰æŸ¥çœ‹å½’æ¡£æ–‡ä»¶å†…å®¹ï¼Œé¿å…è¦†ç›–é‡è¦æ–‡ä»¶</li><li>âœ… <strong>é€‰æ‹©æ€§è§£å‹</strong>ï¼šæ”¯æŒä»å¤§å‹å¤‡ä»½ä¸­æå–å•ä¸ªæˆ–ç‰¹å®šç›®å½•çš„æ–‡ä»¶</li><li>âœ… <strong>æƒé™ä¿æŒ</strong>ï¼šå®Œæ•´ä¿ç•™æ–‡ä»¶åŸå§‹æƒé™ã€æ‰€æœ‰æƒåŠæ—¶é—´æˆ³å±æ€§</li><li>âœ… <strong>è¿›åº¦å¯è§†åŒ–</strong>ï¼šä½¿ç”¨<code>-v</code>å‚æ•°å¯æ˜¾ç¤ºè§£å‹è¿‡ç¨‹çš„è¯¦ç»†æ–‡ä»¶åˆ—è¡¨</li><li>âœ… <strong>é€šç”¨æ€§å¼º</strong>ï¼šæ ‡å‡†tar/gzipæ ¼å¼ï¼Œå…¼å®¹æ‰€æœ‰Linux/Unixç³»ç»ŸåŠå¸¸è§è§£å‹è½¯ä»¶</li></ul><hr><p><a id="usage"></a></p><h2 id="ä¸‰ã€ğŸ”§-ä½¿ç”¨æ–¹æ³•">ä¸‰ã€ğŸ”§ ä½¿ç”¨æ–¹æ³•</h2><p><a id="remote-usage"></a></p><h3 id="1-è¿œç¨‹æ‰§è¡Œæ–¹å¼ï¼ˆå‹ç¼©ä¸è§£å‹ï¼‰">1. è¿œç¨‹æ‰§è¡Œæ–¹å¼ï¼ˆå‹ç¼©ä¸è§£å‹ï¼‰</h3><ul><li><strong>åŸºæœ¬å‘½ä»¤æ ¼å¼ <code>bash ~/universal_backup.sh &lt;æºç›®å½•&gt; &lt;å¤‡ä»½ç›®å½•&gt; [ä¿ç•™æ•°é‡]</code></strong></li><li><strong>å¤‡ä»½ç›®å½•ä¸‹ä»…ä¿ç•™  <code>æºç›®å½•å_æ—¶é—´æˆ³.tar.gz</code> æ ¼å¼å‹ç¼©åŒ…ï¼Œæ¯åŒ…å³æºç›®å½•çš„å®Œæ•´å¤‡ä»½ã€‚</strong></li></ul><p><a id="remote-backup"></a></p><h4 id="ğŸ“¦-è¿œç¨‹å‹ç¼©æ“ä½œ">ğŸ“¦ è¿œç¨‹å‹ç¼©æ“ä½œ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ä¸»åŸŸåæ‰§è¡Œ</span></span><br><span class="line">bash &lt;(curl -sL script.meimolihan.eu.org/sh/backup/universal_backup.sh) /æºç›®å½• /å¤‡ä»½ç›®å½• ä¿ç•™æ•°é‡</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–ä½¿ç”¨Giteeé•œåƒæ‰§è¡Œï¼ˆå›½å†…ç”¨æˆ·æ¨èï¼‰</span></span><br><span class="line">bash &lt;(curl -sL gitee.com/meimolihan/script/raw/master/sh/backup/universal_backup.sh) /æºç›®å½• /å¤‡ä»½ç›®å½• ä¿ç•™æ•°é‡</span><br></pre></td></tr></table></figure><p><img src="https://file.meimolihan.eu.org/screenshot/universal_backup-001.webp" alt=""></p><p><a id="remote-extract"></a></p><h4 id="ğŸ“¤-æœ¬åœ°è§£å‹æ“ä½œ">ğŸ“¤ æœ¬åœ°è§£å‹æ“ä½œ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è§£å‹åˆ°å½“å‰ç›®å½•</span></span><br><span class="line">tar -xzvf /å¤‡ä»½ç›®å½•/å¤‡ä»½æ–‡ä»¶.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å‹åˆ°æŒ‡å®šç›®å½•</span></span><br><span class="line">tar -xzvf /å¤‡ä»½ç›®å½•/å¤‡ä»½æ–‡ä»¶.tar.gz -C /ç›®æ ‡ç›®å½•/</span><br></pre></td></tr></table></figure><ul><li><strong>å®é™…è§£å‹ç¤ºä¾‹</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è§£å‹åˆ°å½“å‰ç›®å½•ï¼ˆä¼šåœ¨å½“å‰ç›®å½•åˆ›å»ºåŸç›®å½•ç»“æ„ï¼‰</span></span><br><span class="line">tar -xzvf /backups/html_20231201_143022.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å‹åˆ°æŒ‡å®šç›®å½•</span></span><br><span class="line">tar -xzvf /backups/html_20231201_143022.tar.gz -C /var/www/new_html/</span><br><span class="line"></span><br><span class="line"><span class="comment"># åªæŸ¥çœ‹å½’æ¡£å†…å®¹è€Œä¸è§£å‹</span></span><br><span class="line">tar -tzvf /backups/html_20231201_143022.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å‹ç‰¹å®šæ–‡ä»¶</span></span><br><span class="line">tar -xzvf /backups/html_20231201_143022.tar.gz path/to/specific/file</span><br></pre></td></tr></table></figure><ul><li><strong>è§£å‹å‚æ•°è¯¦è§£</strong><ul><li><code>-x</code>ï¼šä»å½’æ¡£ä¸­è§£å‹æ–‡ä»¶</li><li><code>-z</code>ï¼šä½¿ç”¨gzipè§£å‹ç¼©</li><li><code>-v</code>ï¼šæ˜¾ç¤ºè¯¦ç»†å¤„ç†è¿‡ç¨‹</li><li><code>-f</code>ï¼šæŒ‡å®šå½’æ¡£æ–‡ä»¶å</li><li><code>-C</code>ï¼šæŒ‡å®šè§£å‹ç›®æ ‡ç›®å½•</li></ul></li></ul><hr><p><a id="local-usage"></a></p><h3 id="ğŸ’»-2-æœ¬åœ°æ‰§è¡Œæ–¹å¼ï¼ˆå‹ç¼©ä¸è§£å‹ï¼‰">ğŸ’» 2. æœ¬åœ°æ‰§è¡Œæ–¹å¼ï¼ˆå‹ç¼©ä¸è§£å‹ï¼‰</h3><p><a id="local-backup"></a></p><h4 id="ğŸ“¦-æœ¬åœ°å‹ç¼©æ“ä½œ">ğŸ“¦ æœ¬åœ°å‹ç¼©æ“ä½œ</h4><ul><li><strong>åŸºæœ¬å‘½ä»¤æ ¼å¼ <code>bash ~/universal_backup.sh &lt;æºç›®å½•&gt; &lt;å¤‡ä»½ç›®å½•&gt; [ä¿ç•™æ•°é‡]</code></strong></li><li><strong>å¤‡ä»½ç›®å½•ä¸‹ä»…ä¿ç•™  <code>æºç›®å½•å_æ—¶é—´æˆ³.tar.gz</code> æ ¼å¼å‹ç¼©åŒ…ï¼Œæ¯åŒ…å³æºç›®å½•çš„å®Œæ•´å¤‡ä»½ã€‚</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½å¤‡ä»½è„šæœ¬</span></span><br><span class="line"><span class="built_in">cd</span> /mnt &amp;&amp; \</span><br><span class="line">wget -c https://gitee.com/meimolihan/script/raw/master/sh/backup/universal_backup.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># èµ‹äºˆæ‰§è¡Œæƒé™</span></span><br><span class="line"><span class="built_in">chmod</span> +x universal_backup.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å†³å¯èƒ½å­˜åœ¨çš„æ¢è¡Œç¬¦é—®é¢˜ï¼ˆå¦‚æœéœ€è¦ï¼‰</span></span><br><span class="line"><span class="built_in">sudo</span> apt install dos2unix</span><br><span class="line">dos2unix universal_backup.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŸºæœ¬ç”¨æ³•ï¼ˆä¿ç•™3ä¸ªå¤‡ä»½ï¼‰</span></span><br><span class="line">/mnt/universal_backup.sh  /æºç›®å½• /å¤‡ä»½ç›®å½•</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šä¿ç•™å¤‡ä»½æ•°é‡</span></span><br><span class="line">/mnt/universal_backup.sh /æºç›®å½• /å¤‡ä»½ç›®å½• ä¿ç•™æ•°é‡</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®é™…ç¤ºä¾‹</span></span><br><span class="line">/mnt/universal_backup.sh /mnt/test1 /mnt/test2</span><br><span class="line">/mnt/universal_backup.sh /mnt/test1 /mnt/test2 7</span><br></pre></td></tr></table></figure><p><a id="local-extract"></a></p><h4 id="ğŸ“¤-æœ¬åœ°è§£å‹æ“ä½œ-2">ğŸ“¤ æœ¬åœ°è§£å‹æ“ä½œ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è§£å‹åˆ°å½“å‰ç›®å½•</span></span><br><span class="line">tar -xzvf /å¤‡ä»½ç›®å½•/å¤‡ä»½æ–‡ä»¶.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å‹åˆ°æŒ‡å®šç›®å½•</span></span><br><span class="line">tar -xzvf /å¤‡ä»½ç›®å½•/å¤‡ä»½æ–‡ä»¶.tar.gz -C /ç›®æ ‡ç›®å½•/</span><br></pre></td></tr></table></figure><ul><li><strong>å®é™…è§£å‹ç¤ºä¾‹</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è§£å‹åˆ°å½“å‰ç›®å½•ï¼ˆä¼šåœ¨å½“å‰ç›®å½•åˆ›å»ºåŸç›®å½•ç»“æ„ï¼‰</span></span><br><span class="line">tar -xzvf /backups/html_20231201_143022.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å‹åˆ°æŒ‡å®šç›®å½•</span></span><br><span class="line">tar -xzvf /backups/html_20231201_143022.tar.gz -C /var/www/new_html/</span><br><span class="line"></span><br><span class="line"><span class="comment"># åªæŸ¥çœ‹å½’æ¡£å†…å®¹è€Œä¸è§£å‹</span></span><br><span class="line">tar -tzvf /backups/html_20231201_143022.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å‹ç‰¹å®šæ–‡ä»¶</span></span><br><span class="line">tar -xzvf /backups/html_20231201_143022.tar.gz path/to/specific/file</span><br></pre></td></tr></table></figure><ul><li><strong>è§£å‹å‚æ•°è¯¦è§£</strong><ul><li><code>-x</code>ï¼šä»å½’æ¡£ä¸­è§£å‹æ–‡ä»¶</li><li><code>-z</code>ï¼šä½¿ç”¨gzipè§£å‹ç¼©</li><li><code>-v</code>ï¼šæ˜¾ç¤ºè¯¦ç»†å¤„ç†è¿‡ç¨‹</li><li><code>-f</code>ï¼šæŒ‡å®šå½’æ¡£æ–‡ä»¶å</li><li><code>-C</code>ï¼šæŒ‡å®šè§£å‹ç›®æ ‡ç›®å½•</li></ul></li></ul><hr><p><a id="test-backup-extract"></a></p><h2 id="å››ã€ğŸ”-æµ‹è¯•å‹ç¼©ä¸è§£å‹">å››ã€ğŸ” æµ‹è¯•å‹ç¼©ä¸è§£å‹</h2><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„æµ‹è¯•æµç¨‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨è¿™ä¸¤ä¸ªè„šæœ¬è¿›è¡Œå‹ç¼©å’Œè§£å‹æ“ä½œï¼š</p><h3 id="ğŸ§ª-1-åˆ›å»ºæµ‹è¯•æ–‡ä»¶">ğŸ§ª 1. åˆ›å»ºæµ‹è¯•æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /mnt/&#123;test1,test2,test3&#125; &amp;&amp; \</span><br><span class="line"><span class="built_in">mkdir</span> -p /mnt/test1/&#123;aaa,bbb,ccc&#125; &amp;&amp; \</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;æµ‹è¯•æ–‡ä»¶å†…å®¹&quot;</span> &gt; /mnt/test1/aaa/test1.txt &amp;&amp; \</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;å¦ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶&quot;</span> &gt; /mnt/test1/bbb/test2.txt &amp;&amp; \</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ç¬¬ä¸‰ä¸ªæµ‹è¯•æ–‡ä»¶&quot;</span> &gt; /mnt/test1/ccc/test3.txt &amp;&amp; \</span><br><span class="line">tree /mnt/test1 /mnt/test2 /mnt/test3</span><br></pre></td></tr></table></figure><ul><li><strong>åˆå§‹æµ‹è¯•ç›®å½•ç»“æ„</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">root@debian13 / <span class="comment"># tree /mnt/test1 /mnt/test2 /mnt/test3</span></span><br><span class="line">/mnt/test1</span><br><span class="line">â”œâ”€â”€ aaa</span><br><span class="line">â”‚   â””â”€â”€ test1.txt</span><br><span class="line">â”œâ”€â”€ bbb</span><br><span class="line">â”‚   â””â”€â”€ test2.txt</span><br><span class="line">â””â”€â”€ ccc</span><br><span class="line">    â””â”€â”€ test3.txt</span><br><span class="line">/mnt/test2</span><br><span class="line">/mnt/test3</span><br></pre></td></tr></table></figure><h3 id="ğŸ§ª-2-æµ‹è¯•-å‹ç¼©">ğŸ§ª 2. æµ‹è¯• <code>å‹ç¼©</code></h3><ul><li>è¿™é‡ŒæŒ‡å®šäº† <code>ä¿ç•™æ•°é‡ 5</code>ï¼Œé»˜è®¤æ˜¯<code>ä¿ç•™æ•°é‡ 3</code>ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL gitee.com/meimolihan/script/raw/master/sh/backup/universal_backup.sh) /mnt/test1 /mnt/test2 5 &amp;&amp; tree /mnt/test1 /mnt/test2 /mnt/test3</span><br></pre></td></tr></table></figure><ul><li><strong>å®Œæˆ <code>å‹ç¼©</code> åçš„ç›®å½•ç»“æ„</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">root@debian13 / <span class="comment"># tree /mnt/test1 /mnt/test2 /mnt/test3</span></span><br><span class="line">/mnt/test1</span><br><span class="line">â”œâ”€â”€ aaa</span><br><span class="line">â”‚   â””â”€â”€ test1.txt</span><br><span class="line">â”œâ”€â”€ bbb</span><br><span class="line">â”‚   â””â”€â”€ test2.txt</span><br><span class="line">â””â”€â”€ ccc</span><br><span class="line">    â””â”€â”€ test3.txt</span><br><span class="line">/mnt/test2</span><br><span class="line">â””â”€â”€ test1_20250916_193521.tar.gz</span><br><span class="line">/mnt/test3</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ğŸ§ª-3-æµ‹è¯•-è§£å‹">ğŸ§ª 3. æµ‹è¯• <code>è§£å‹</code></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xzvf /mnt/test2/test1_*.tar.gz -C /mnt/test3/ &amp;&amp; tree /mnt/test1 /mnt/test2 /mnt/test3</span><br></pre></td></tr></table></figure><ul><li><strong>å®Œæˆ <code>è§£å‹</code> åçš„ç›®å½•ç»“æ„</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">root@debian13 ~ <span class="comment"># tree /mnt/test1 /mnt/test2 /mnt/test3</span></span><br><span class="line">/mnt/test1</span><br><span class="line">â”œâ”€â”€ aaa</span><br><span class="line">â”‚   â””â”€â”€ test1.txt</span><br><span class="line">â”œâ”€â”€ bbb</span><br><span class="line">â”‚   â””â”€â”€ test2.txt</span><br><span class="line">â””â”€â”€ ccc</span><br><span class="line">    â””â”€â”€ test3.txt</span><br><span class="line">/mnt/test2</span><br><span class="line">â””â”€â”€ test1_20250916_193521.tar.gz</span><br><span class="line">/mnt/test3</span><br><span class="line">â””â”€â”€ test1</span><br><span class="line">    â”œâ”€â”€ aaa</span><br><span class="line">    â”‚   â””â”€â”€ test1.txt</span><br><span class="line">    â”œâ”€â”€ bbb</span><br><span class="line">    â”‚   â””â”€â”€ test2.txt</span><br><span class="line">    â””â”€â”€ ccc</span><br><span class="line">        â””â”€â”€ test3.txt</span><br></pre></td></tr></table></figure><h4 id="ğŸ§ª-4-åˆ é™¤æµ‹è¯•æ–‡ä»¶">ğŸ§ª 4. åˆ é™¤æµ‹è¯•æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf /mnt/test1 /mnt/test2 /mnt/test3 &amp;&amp; \</span><br><span class="line"><span class="built_in">ls</span> /mnt</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæµ‹è¯•æµç¨‹å±•ç¤ºäº†ï¼š</p><ol><li>åˆ›å»ºæµ‹è¯•ç›®å½•ç»“æ„å’Œæ–‡ä»¶</li><li>ä½¿ç”¨å¤‡ä»½è„šæœ¬å°†ç›®å½•å‹ç¼©ä¸ºä¸€ä¸ªtar.gzæ–‡ä»¶</li><li>ä½¿ç”¨è§£å‹è„šæœ¬å°†è¿™äº›å‹ç¼©åŒ…è§£å‹åˆ°ç›®æ ‡ç›®å½•</li><li>éªŒè¯è§£å‹ç»“æœæ˜¯å¦æ­£ç¡®</li></ol><p>é€šè¿‡è¿™ä¸ªå®Œæ•´çš„æµ‹è¯•æµç¨‹ï¼Œæ‚¨å¯ä»¥ç¡®ä¿è„šæœ¬æ­£å¸¸å·¥ä½œï¼Œå¹¶ä¸”ç†è§£æ•´ä¸ªå‹ç¼©å’Œè§£å‹çš„è¿‡ç¨‹ã€‚ğŸ§ª</p><hr><p><a id="backup-compression"></a></p><h2 id="äº”ã€ğŸ“-å¤‡ä»½åŸç†ä¸å‹ç¼©æœºåˆ¶">äº”ã€ğŸ“ å¤‡ä»½åŸç†ä¸å‹ç¼©æœºåˆ¶</h2><h3 id="å‹ç¼©æŠ€æœ¯">å‹ç¼©æŠ€æœ¯</h3><p>è„šæœ¬ä½¿ç”¨æ ‡å‡†çš„ <code>tar</code> å’Œ <code>gzip</code> å·¥å…·è¿›è¡Œå‹ç¼©ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li><strong>é«˜å‹ç¼©æ¯”</strong>ï¼šgzipå‹ç¼©ç®—æ³•åœ¨ä¿è¯é€Ÿåº¦çš„åŒæ—¶æä¾›è‰¯å¥½çš„å‹ç¼©ç‡</li><li><strong>å¹¿æ³›å…¼å®¹</strong>ï¼štar.gzæ ¼å¼åœ¨æ‰€æœ‰Linux/Unixç³»ç»Ÿä¸Šå‡å¯ç›´æ¥å¤„ç†</li><li><strong>ä¿ç•™æƒé™</strong>ï¼šå®Œæ•´ä¿ç•™æ–‡ä»¶æƒé™ã€æ‰€æœ‰æƒå’Œæ—¶é—´æˆ³ä¿¡æ¯</li></ul><h3 id="å¤‡ä»½æµç¨‹">å¤‡ä»½æµç¨‹</h3><ol><li><strong>å‚æ•°éªŒè¯</strong>ï¼šæ£€æŸ¥æºç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œå¤‡ä»½ç›®å½•æ˜¯å¦å¯å†™</li><li><strong>å‹ç¼©åˆ›å»º</strong>ï¼šä½¿ç”¨ <code>tar -czf</code> å‘½ä»¤åˆ›å»ºgzipå‹ç¼©çš„å½’æ¡£æ–‡ä»¶</li><li><strong>æ–‡ä»¶å‘½å</strong>ï¼šé‡‡ç”¨&quot;ç›®å½•å_å¹´æœˆæ—¥_æ—¶åˆ†ç§’.tar.gz&quot;æ ¼å¼</li><li><strong>æ¸…ç†ç­–ç•¥</strong>ï¼šæŒ‰æ—¶é—´æ’åºå¤‡ä»½æ–‡ä»¶ï¼Œä¿ç•™æœ€æ–°çš„Nä¸ªæ–‡ä»¶</li><li><strong>ç»“æœæŠ¥å‘Š</strong>ï¼šæ˜¾ç¤ºå¤‡ä»½å¤§å°å’Œå½“å‰ä¿ç•™çš„å¤‡ä»½åˆ—è¡¨</li></ol><hr><p><a id="cron-setup"></a></p><h2 id="å…­ã€â°-å®šæ—¶ä»»åŠ¡è®¾ç½®">å…­ã€â° å®šæ—¶ä»»åŠ¡è®¾ç½®</h2><h3 id="è®¾ç½®å®šæ—¶è‡ªåŠ¨å¤‡ä»½">è®¾ç½®å®šæ—¶è‡ªåŠ¨å¤‡ä»½</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¼–è¾‘å½“å‰ç”¨æˆ·çš„crontab</span></span><br><span class="line">crontab -e</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ ä»¥ä¸‹ä»»åŠ¡ç¤ºä¾‹ï¼š</span></span><br><span class="line"><span class="comment"># æ¯å¤©å‡Œæ™¨2ç‚¹æ‰§è¡Œå¤‡ä»½ï¼Œä¿ç•™7ä¸ªå¤‡ä»½</span></span><br><span class="line">0 2 * * * /path/to/universal_backup.sh /var/www/html /backups 7</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¯å‘¨æ—¥å‡Œæ™¨1ç‚¹æ‰§è¡Œå¤‡ä»½ï¼Œä¿ç•™4ä¸ªå¤‡ä»½</span></span><br><span class="line">0 1 * * 0 /path/to/universal_backup.sh /home/user/documents /mnt/backup 4</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¯6å°æ—¶æ‰§è¡Œä¸€æ¬¡å¤‡ä»½</span></span><br><span class="line">0 */6 * * * /path/to/universal_backup.sh /important/data /backups 10</span><br></pre></td></tr></table></figure><h3 id="æ—¥å¿—è®°å½•é…ç½®">æ—¥å¿—è®°å½•é…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†è¾“å‡ºåŒæ—¶è®°å½•åˆ°æ—¥å¿—æ–‡ä»¶</span></span><br><span class="line">0 2 * * * /path/to/universal_backup.sh /var/www/html /backups 7 &gt;&gt; /var/log/backup.log 2&gt;&amp;1</span><br><span class="line"></span><br><span class="line"><span class="comment"># åªè®°å½•é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">0 2 * * * /path/to/universal_backup.sh /var/www/html /backups 7 &gt; /dev/null 2&gt;&gt; /var/log/backup-error.log</span><br></pre></td></tr></table></figure><hr><p><a id="notes"></a></p><h2 id="ä¸ƒã€ğŸ’¡-æ³¨æ„äº‹é¡¹">ä¸ƒã€ğŸ’¡ æ³¨æ„äº‹é¡¹</h2><ol><li><strong>æƒé™è¦æ±‚</strong>ï¼šè¿è¡Œè„šæœ¬çš„ç”¨æˆ·éœ€è¦å¯¹æºç›®å½•æœ‰è¯»å–æƒé™ï¼Œå¯¹å¤‡ä»½ç›®å½•æœ‰å†™å…¥æƒé™</li><li><strong>ç£ç›˜ç©ºé—´</strong>ï¼šç¡®ä¿å¤‡ä»½ç›®å½•æœ‰è¶³å¤Ÿçš„ç©ºé—´å­˜å‚¨å¤‡ä»½æ–‡ä»¶</li><li><strong>è·¯å¾„è§„èŒƒ</strong>ï¼šå»ºè®®ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œé¿å…ç›¸å¯¹è·¯å¾„å¯èƒ½å¸¦æ¥çš„é—®é¢˜</li><li><strong>ç‰¹æ®Šå­—ç¬¦</strong>ï¼šç›®å½•åä¸­é¿å…ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼Œä»¥å…å½±å“è„šæœ¬æ‰§è¡Œ</li><li><strong>æ–‡ä»¶ç³»ç»Ÿ</strong>ï¼šå¯¹äºå¤§é‡å°æ–‡ä»¶ï¼Œå‹ç¼©è¿‡ç¨‹å¯èƒ½è¾ƒæ…¢ï¼Œå»ºè®®åœ¨ç³»ç»Ÿè´Ÿè½½ä½æ—¶æ‰§è¡Œ</li><li><strong>ç½‘ç»œå¤‡ä»½</strong>ï¼šå¦‚éœ€å¤‡ä»½åˆ°è¿œç¨‹ä½ç½®ï¼Œå¯å…ˆæœ¬åœ°å¤‡ä»½å†ä½¿ç”¨rsyncåŒæ­¥</li></ol><h3 id="æ€§èƒ½ä¼˜åŒ–å»ºè®®">æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3><ul><li>å¯¹äºå¤§å‹ç›®å½•ï¼Œè€ƒè™‘ä½¿ç”¨æ›´é«˜æ•ˆçš„å‹ç¼©ç®—æ³•ï¼ˆå¦‚pigzï¼‰</li><li>ä½¿ç”¨<code>ionice</code>å’Œ<code>nice</code>è°ƒæ•´å¤‡ä»½ä»»åŠ¡çš„IOå’ŒCPUä¼˜å…ˆçº§</li><li>å¯¹äºæ•°æ®åº“åº”ç”¨ï¼Œå»ºè®®å…ˆåœæ­¢æœåŠ¡æˆ–ä½¿ç”¨ä¸“ç”¨å¤‡ä»½å·¥å…·</li></ul><h3 id="æ¢å¤æµ‹è¯•å»ºè®®">æ¢å¤æµ‹è¯•å»ºè®®</h3><p>å®šæœŸæµ‹è¯•å¤‡ä»½æ–‡ä»¶çš„æ¢å¤è¿‡ç¨‹ï¼Œç¡®ä¿ï¼š</p><ul><li>å¤‡ä»½æ–‡ä»¶å®Œæ•´æ— æŸ</li><li>æ¢å¤åçš„æ–‡ä»¶æƒé™æ­£ç¡®</li><li>é‡è¦æ•°æ®æ²¡æœ‰é—æ¼</li></ul><hr><blockquote><p>ğŸš€ å®šæœŸå¤‡ä»½æ˜¯æ•°æ®å®‰å…¨çš„é‡è¦ä¿éšœï¼Œå»ºè®®æ‚¨è®¾ç½®å®šæ—¶ä»»åŠ¡è‡ªåŠ¨æ‰§è¡Œæ­¤è„šæœ¬ï¼Œä¸ºæ‚¨çš„é‡è¦æ•°æ®æä¾›æŒç»­çš„ä¿æŠ¤ã€‚å®šæœŸæµ‹è¯•æ¢å¤æµç¨‹ï¼Œç¡®ä¿åœ¨éœ€è¦æ—¶èƒ½å¤Ÿå¿«é€Ÿæœ‰æ•ˆåœ°æ¢å¤æ•°æ®ã€‚</p></blockquote>]]></content>
    
    
    <summary type="html">æœ¬æ–‡è¯¦ç»†ä»‹ç»é€šç”¨è‡ªåŠ¨å¤‡ä»½è„šæœ¬çš„åŠŸèƒ½ã€ä½¿ç”¨æ–¹æ³•åŠæ¢å¤æŒ‡å—ï¼Œå¸®åŠ©æ‚¨è½»æ¾ç®¡ç†é‡è¦æ•°æ®çš„å®‰å…¨ã€‚</summary>
    
    
    
    <category term="Linux" scheme="https://www.meimolihan.eu.org/categories/Linux/"/>
    
    
    <category term="åŒæ­¥&amp;å¤‡ä»½" scheme="https://www.meimolihan.eu.org/tags/%E5%90%8C%E6%AD%A5-%E5%A4%87%E4%BB%BD/"/>
    
    <category term="è„šæœ¬" scheme="https://www.meimolihan.eu.org/tags/%E8%84%9A%E6%9C%AC/"/>
    
  </entry>
  
  <entry>
    <title>Linux å­ç›®å½•åˆ†ç¦»å¤‡ä»½ä¸è§£å‹è‡ªåŠ¨åŒ–è„šæœ¬ ğŸ“‚</title>
    <link href="https://www.meimolihan.eu.org/posts/155e792c.html"/>
    <id>https://www.meimolihan.eu.org/posts/155e792c.html</id>
    <published>2025-09-14T20:08:51.000Z</published>
    <updated>2025-09-14T20:08:51.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Linux å­ç›®å½•åˆ†ç¦»å¤‡ä»½ä¸è§£å‹è‡ªåŠ¨åŒ–è„šæœ¬ ğŸ“‚</h1><p><img src="https://file.meimolihan.eu.org/img/linux-rar-01.webp" alt=""></p><blockquote><p>æœ¬æ–‡ä»‹ç»ä¸¤ä¸ªå®ç”¨çš„è‡ªåŠ¨åŒ–è„šæœ¬ï¼š<code>directory_backup.sh</code> å’Œ <code>directory_extract.sh</code>ï¼Œå®ƒä»¬åˆ†åˆ«ç”¨äºç›®å½•å¤‡ä»½å’Œè§£å‹æ“ä½œã€‚è¿™äº›è„šæœ¬é‡‡ç”¨å…äº¤äº’è®¾è®¡ï¼Œéå¸¸é€‚åˆé›†æˆåˆ°è‡ªåŠ¨åŒ–è¿ç»´æµç¨‹æˆ–å®šæ—¶ä»»åŠ¡ä¸­ï¼Œèƒ½å¤Ÿæ˜¾è‘—æé«˜æ–‡ä»¶ç®¡ç†æ•ˆç‡ã€‚âœ¨</p></blockquote><hr><p><a id="navigation"></a></p><h2 id="ğŸ“‹-å¯¼èˆªç›®å½•">ğŸ“‹ å¯¼èˆªç›®å½•</h2><ul><li><a href="#script-intro">ğŸ“š è„šæœ¬ç®€ä»‹</a></li><li><a href="#backup-features">âš™ï¸ ä¸€ã€å¤‡ä»½è„šæœ¬åŠŸèƒ½ä¸ç‰¹ç‚¹</a></li><li><a href="#extract-features">ğŸ“¦ äºŒã€è§£å‹è„šæœ¬åŠŸèƒ½ä¸ç‰¹ç‚¹</a></li><li><a href="#usage">ğŸš€ ä¸‰ã€ä½¿ç”¨æ–¹æ³•</a><ul><li><a href="#remote-usage">ğŸŒ 1. è¿œç¨‹æ‰§è¡Œæ–¹å¼ï¼ˆå‹ç¼©ä¸è§£å‹ï¼‰</a><ul><li><a href="#remote-backup">ğŸ“¦ è¿œç¨‹å‹ç¼©æ“ä½œ</a></li><li><a href="#remote-extract">ğŸ“¤ è¿œç¨‹è§£å‹æ“ä½œ</a></li></ul></li><li><a href="#local-usage">ğŸ’» 2. æœ¬åœ°æ‰§è¡Œæ–¹å¼ï¼ˆå‹ç¼©ä¸è§£å‹ï¼‰</a><ul><li><a href="#local-backup">ğŸ“¦ æœ¬åœ°å‹ç¼©æ“ä½œ</a></li><li><a href="#local-extract">ğŸ“¤ æœ¬åœ°è§£å‹æ“ä½œ</a></li></ul></li></ul></li><li><a href="#test-backup-extract">ğŸ” å››ã€æµ‹è¯•å‹ç¼©ä¸è§£å‹</a></li><li><a href="#script-summary">ğŸ”§ äº”ã€è„šæœ¬åŠŸèƒ½æ¦‚æ‹¬</a></li><li><a href="#cron-setup">â° å…­ã€å®šæ—¶ä»»åŠ¡è®¾ç½®</a></li><li><a href="#scenarios-tips">ğŸ’¡ ä¸ƒã€ä½¿ç”¨åœºæ™¯ä¸å»ºè®®</a></li></ul><hr><p><a id="script-intro"></a></p><h2 id="ğŸ“š-è„šæœ¬ç®€ä»‹">ğŸ“š è„šæœ¬ç®€ä»‹</h2><p>æœ¬æ–‡ä»‹ç»ä¸¤ä¸ªå®ç”¨çš„è‡ªåŠ¨åŒ–è„šæœ¬ï¼š<code>directory_backup.sh</code> å’Œ <code>directory_extract.sh</code>ï¼Œå®ƒä»¬åˆ†åˆ«ç”¨äºç›®å½•å¤‡ä»½å’Œè§£å‹æ“ä½œã€‚è¿™äº›è„šæœ¬é‡‡ç”¨å…äº¤äº’è®¾è®¡ï¼Œéå¸¸é€‚åˆé›†æˆåˆ°è‡ªåŠ¨åŒ–è¿ç»´æµç¨‹æˆ–å®šæ—¶ä»»åŠ¡ä¸­ï¼Œèƒ½å¤Ÿæ˜¾è‘—æé«˜æ–‡ä»¶ç®¡ç†æ•ˆç‡ã€‚âœ¨</p><p>æ— è®ºæ˜¯ç³»ç»Ÿç®¡ç†å‘˜éœ€è¦å®šæœŸå¤‡ä»½é‡è¦æ•°æ®ï¼Œè¿˜æ˜¯å¼€å‘äººå‘˜éœ€è¦å¿«é€Ÿéƒ¨ç½²ç¯å¢ƒï¼Œè¿™ä¸¤ä¸ªè„šæœ¬éƒ½èƒ½æä¾›ç®€å•è€Œå¼ºå¤§çš„è§£å†³æ–¹æ¡ˆã€‚å®ƒä»¬æ”¯æŒå¤šç§å‹ç¼©æ ¼å¼ï¼Œå…·æœ‰è¯¦ç»†çš„æ‰§è¡Œæ—¥å¿—å’Œé”™è¯¯æŠ¥å‘Šï¼Œè®©ç”¨æˆ·éšæ—¶äº†è§£æ“ä½œçŠ¶æ€ã€‚</p><hr><p><a id="backup-features"></a></p><h2 id="ä¸€ã€âš™ï¸-å¤‡ä»½è„šæœ¬åŠŸèƒ½ä¸ç‰¹ç‚¹">ä¸€ã€âš™ï¸ å¤‡ä»½è„šæœ¬åŠŸèƒ½ä¸ç‰¹ç‚¹</h2><p><strong><code>directory_backup.sh</code> æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç›®å½•å¤‡ä»½å·¥å…·ï¼Œå…·æœ‰ä»¥ä¸‹çªå‡ºç‰¹ç‚¹ï¼š</strong></p><ul><li><strong>ğŸ¯ è‡ªåŠ¨åŒ–å¤‡ä»½</strong>ï¼šä¸€é”®æŒ‡å®šå¤‡ä»½ç›®å½•ä¸‹çš„æ‰€æœ‰ééšè—å­ç›®å½•ï¼Œæ— éœ€äººå·¥å¹²é¢„</li><li><strong>ğŸ“ æ™ºèƒ½å‹ç¼©</strong>ï¼šæ¯ä¸ªå­ç›®å½•å•ç‹¬å‹ç¼©ä¸º <code>.tar.gz</code> æ–‡ä»¶ï¼Œä¿æŒç»“æ„æ¸…æ™°</li><li><strong>ğŸ”„ è‡ªåŠ¨è¦†ç›–</strong>ï¼šå…äº¤äº’è®¾è®¡è‡ªåŠ¨è¦†ç›–å·²å­˜åœ¨çš„å¤‡ä»½æ–‡ä»¶ï¼Œé€‚åˆè‡ªåŠ¨åŒ–ä»»åŠ¡</li><li><strong>â° æ—¥æœŸæ ‡è®°</strong>ï¼šå¤‡ä»½æ–‡ä»¶åæ ¼å¼ä¸º <code>ç›®å½•å-YYYY-MM-DD-HH-MM-SS.tar.gz</code>ï¼Œä¾¿äºç‰ˆæœ¬ç®¡ç†</li><li><strong>ğŸ‘ï¸ é€æ˜æ“ä½œ</strong>ï¼šæä¾›è¯¦ç»†çš„æ‰§è¡Œæ—¥å¿—ï¼Œå®æ—¶æ˜¾ç¤ºå¤‡ä»½è¿›åº¦å’Œç»“æœ</li><li><strong>ğŸš« æ™ºèƒ½è¿‡æ»¤</strong>ï¼šè‡ªåŠ¨è·³è¿‡éšè—ç›®å½•ï¼ˆä»¥<code>.</code>å¼€å¤´çš„ç›®å½•ï¼‰ï¼Œé¿å…ä¸å¿…è¦çš„å¤‡ä»½</li></ul><p>è¯¥è„šæœ¬ç‰¹åˆ«é€‚åˆéœ€è¦å®šæœŸå¤‡ä»½æ•°æ®çš„åœºæ™¯ï¼Œå¦‚ç½‘ç«™æ•°æ®å¤‡ä»½ã€é…ç½®æ–‡ä»¶å¤‡ä»½æˆ–é¡¹ç›®ç‰ˆæœ¬å­˜æ¡£ç­‰ã€‚ğŸ”’</p><hr><p><a id="extract-features"></a></p><h2 id="äºŒã€ğŸ“¦-è§£å‹è„šæœ¬åŠŸèƒ½ä¸ç‰¹ç‚¹">äºŒã€ğŸ“¦ è§£å‹è„šæœ¬åŠŸèƒ½ä¸ç‰¹ç‚¹</h2><p><strong><code>directory_extract.sh</code> æ˜¯ä¸€ä¸ªå¤šåŠŸèƒ½è§£å‹å·¥å…·ï¼Œå…·æœ‰ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š</strong></p><ul><li><strong>ğŸ”“ å¤šæ ¼å¼æ”¯æŒ</strong>ï¼šå…¨é¢æ”¯æŒ <code>.tar.gz</code>, <code>.tgz</code>, <code>.tar</code>, <code>.zip</code>, <code>.gz</code> ç­‰å¤šç§å‹ç¼©æ ¼å¼</li><li><strong>ğŸ“‚ æ‰¹é‡å¤„ç†</strong>ï¼šè‡ªåŠ¨éå†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰å‹ç¼©åŒ…ï¼Œä¸€æ¬¡æ€§å®Œæˆè§£å‹æ“ä½œ</li><li><strong>ğŸ—ï¸ è‡ªåŠ¨åˆ›å»º</strong>ï¼šå¦‚æœç›®æ ‡ç›®å½•ä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºæ‰€éœ€ç›®å½•ç»“æ„</li><li><strong>ğŸ“Š è¯¦ç»†æŠ¥å‘Š</strong>ï¼šæ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶çš„è§£å‹çŠ¶æ€å’Œæœ€ç»ˆç»Ÿè®¡ç»“æœï¼Œä¸€ç›®äº†ç„¶</li><li><strong>ğŸ›¡ï¸ é”™è¯¯å¤„ç†</strong>ï¼šå…·å¤‡å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œå•ä¸ªæ–‡ä»¶å¤±è´¥ä¸å½±å“å…¶ä»–æ“ä½œ</li><li><strong>ğŸ” æ™ºèƒ½è¯†åˆ«</strong>ï¼šæ­£ç¡®å¤„ç†å¤åˆæ‰©å±•åï¼ˆå¦‚ <code>.tar.gz</code>ï¼‰ï¼Œé¿å…é‡å¤è§£å‹é—®é¢˜</li></ul><p>æ— è®ºæ˜¯ä»å¤‡ä»½æ¢å¤æ•°æ®ï¼Œè¿˜æ˜¯å¤„ç†ä¸‹è½½çš„å‹ç¼©åŒ…é›†åˆï¼Œè¿™ä¸ªè„šæœ¬éƒ½èƒ½å¤§å¤§ç®€åŒ–å·¥ä½œæµç¨‹ã€‚ğŸ“¤</p><hr><p><a id="usage"></a></p><h2 id="ä¸‰ã€ğŸš€-ä½¿ç”¨æ–¹æ³•">ä¸‰ã€ğŸš€ ä½¿ç”¨æ–¹æ³•</h2><p><a id="remote-usage"></a></p><h3 id="1-ğŸŒ-è¿œç¨‹æ‰§è¡Œæ–¹å¼ï¼ˆå‹ç¼©ä¸è§£å‹ï¼‰">1. ğŸŒ è¿œç¨‹æ‰§è¡Œæ–¹å¼ï¼ˆå‹ç¼©ä¸è§£å‹ï¼‰</h3><p>æœ€ç®€å•çš„æ–¹æ³•æ˜¯ç›´æ¥é€šè¿‡è¿œç¨‹URLæ‰§è¡Œè„šæœ¬ï¼Œæ— éœ€ä¸‹è½½ï¼š</p><p><a id="remote-backup"></a></p><h4 id="ğŸ“¦-è¿œç¨‹å‹ç¼©æ“ä½œ">ğŸ“¦ è¿œç¨‹å‹ç¼©æ“ä½œ</h4><ul><li><strong>åŸºæœ¬å‘½ä»¤æ ¼å¼ <code>bash ~/directory_backup.sh &lt;æºç›®å½•&gt; &lt;å¤‡ä»½ç›®å½•&gt; [ä¿ç•™æ•°é‡]</code></strong></li><li><strong>å¤‡ä»½ç›®å½•ä¸‹ä»…ä¿ç•™æŒ‰ <code>å­ç›®å½•å_æ—¶é—´æˆ³.tar.gz</code> å‘½åçš„å‹ç¼©åŒ…ï¼Œæ¯ä¸ªå¯¹åº”<code>æºç›®å½•</code>ä¸‹çš„ä¸€è½® <code>å­ç›®å½•</code> å¤‡ä»½ã€‚</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL script.meimolihan.eu.org/sh/backup/directory_backup.sh) /mnt/test1 /mnt/test2/ 5</span><br></pre></td></tr></table></figure><ul><li><strong>æˆ–ä½¿ç”¨Giteeé•œåƒï¼š</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL gitee.com/meimolihan/script/raw/master/sh/backup/directory_backup.sh) /mnt/test1 /mnt/test2/ 5</span><br></pre></td></tr></table></figure><p><img src="https://file.meimolihan.eu.org/screenshot/directory_backup-001.webp" alt=""></p><p><a id="remote-extract"></a></p><h4 id="ğŸ“¤-è¿œç¨‹è§£å‹æ“ä½œ">ğŸ“¤ è¿œç¨‹è§£å‹æ“ä½œ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ‡æ¢åˆ°éœ€è¦è§£å‹æ–‡ä»¶ç›®å½•å¹¶æ‰§è¡Œè§£å‹åˆ°æŒ‡å®šç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> /mnt/test2 &amp;&amp; \</span><br><span class="line">bash &lt;(curl -sL script.meimolihan.eu.org/sh/backup/directory_extract.sh) /mnt/test3/ &amp;&amp; \</span><br><span class="line">tree /mnt/test3</span><br></pre></td></tr></table></figure><ul><li><strong>æˆ–ä½¿ç”¨Giteeé•œåƒï¼š</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ‡æ¢åˆ°éœ€è¦è§£å‹æ–‡ä»¶ç›®å½•å¹¶æ‰§è¡Œè§£å‹åˆ°æŒ‡å®šç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> /mnt/test2 &amp;&amp; \</span><br><span class="line">bash &lt;(curl -sL gitee.com/meimolihan/script/raw/master/sh/backup/directory_extract.sh) /mnt/test3/ &amp;&amp; \</span><br><span class="line">tree /mnt/test3</span><br></pre></td></tr></table></figure><hr><p><a id="local-usage"></a></p><h3 id="2-ğŸ’»-æœ¬åœ°æ‰§è¡Œæ–¹å¼ï¼ˆå‹ç¼©ä¸è§£å‹ï¼‰">2. ğŸ’» æœ¬åœ°æ‰§è¡Œæ–¹å¼ï¼ˆå‹ç¼©ä¸è§£å‹ï¼‰</h3><p>å¦‚æœéœ€è¦é¢‘ç¹ä½¿ç”¨ï¼Œå¯ä»¥ä¸‹è½½è„šæœ¬åˆ°æœ¬åœ°ï¼š</p><p><a id="local-backup"></a></p><h4 id="ğŸ“¦-æœ¬åœ°å‹ç¼©æ“ä½œ">ğŸ“¦ æœ¬åœ°å‹ç¼©æ“ä½œ</h4><ul><li><strong>åŸºæœ¬å‘½ä»¤æ ¼å¼ <code>bash ~/directory_backup.sh &lt;æºç›®å½•&gt; &lt;å¤‡ä»½ç›®å½•&gt; [ä¿ç•™æ•°é‡]</code></strong></li><li><strong>å¤‡ä»½ç›®å½•ä¸‹ä»…ä¿ç•™æŒ‰ <code>å­ç›®å½•å_æ—¶é—´æˆ³.tar.gz</code> å‘½åçš„å‹ç¼©åŒ…ï¼Œæ¯ä¸ªå¯¹åº”<code>æºç›®å½•</code>ä¸‹çš„ä¸€è½® <code>å­ç›®å½•</code> å¤‡ä»½ã€‚</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½å¤‡ä»½è„šæœ¬</span></span><br><span class="line">wget -c https://gitee.com/meimolihan/script/raw/master/sh/backup/directory_backup.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># èµ‹äºˆæ‰§è¡Œæƒé™</span></span><br><span class="line"><span class="built_in">chmod</span> +x directory_backup.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å†³å¯èƒ½å­˜åœ¨çš„æ¢è¡Œç¬¦é—®é¢˜ï¼ˆå¦‚æœéœ€è¦ï¼‰</span></span><br><span class="line"><span class="built_in">sudo</span> apt install dos2unix</span><br><span class="line">dos2unix directory_backup.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡æ¢åˆ°éœ€è¦å¤‡ä»½çš„ç›®å½•å¹¶æ‰§è¡Œå¤‡ä»½åˆ°æŒ‡å®šç›®å½•</span></span><br><span class="line">bash directory_backup.sh /mnt/test1 /mnt/test2 5 &amp;&amp; \</span><br><span class="line"><span class="built_in">ls</span> /mnt/test2</span><br></pre></td></tr></table></figure><p><a id="local-extract"></a></p><h4 id="ğŸ“¤-æœ¬åœ°è§£å‹æ“ä½œ">ğŸ“¤ æœ¬åœ°è§£å‹æ“ä½œ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½è§£å‹è„šæœ¬</span></span><br><span class="line">wget -c https://gitee.com/meimolihan/script/raw/master/sh/backup/directory_extract.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># èµ‹äºˆæ‰§è¡Œæƒé™</span></span><br><span class="line"><span class="built_in">chmod</span> +x directory_extract.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å†³å¯èƒ½å­˜åœ¨çš„æ¢è¡Œç¬¦é—®é¢˜ï¼ˆå¦‚æœéœ€è¦ï¼‰</span></span><br><span class="line"><span class="built_in">sudo</span> apt install dos2unix</span><br><span class="line">dos2unix directory_extract.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œè„šæœ¬</span></span><br><span class="line"><span class="comment"># åˆ‡æ¢åˆ°éœ€è¦è§£å‹æ–‡ä»¶ç›®å½•å¹¶æ‰§è¡Œè§£å‹åˆ°æŒ‡å®šç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> /mnt/test2 &amp;&amp; \</span><br><span class="line">/mnt/directory_extract.sh /mnt/test3 &amp;&amp; \</span><br><span class="line">tree /mnt/test3</span><br></pre></td></tr></table></figure><p>è§£å‹è„šæœ¬çš„ä½¿ç”¨æ–¹æ³•ç±»ä¼¼ï¼Œåªéœ€æ›¿æ¢ç›¸åº”çš„è„šæœ¬åç§°å’ŒURLå³å¯ã€‚</p><hr><p><a id="test-backup-extract"></a></p><h2 id="å››ã€ğŸ”-æµ‹è¯•å‹ç¼©ä¸è§£å‹">å››ã€ğŸ” æµ‹è¯•å‹ç¼©ä¸è§£å‹</h2><ul><li>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„æµ‹è¯•æµç¨‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨è¿™ä¸¤ä¸ªè„šæœ¬è¿›è¡Œå‹ç¼©å’Œè§£å‹æ“ä½œï¼š</li></ul><h3 id="ğŸ§ª-1-åˆ›å»ºæµ‹è¯•æ–‡ä»¶">ğŸ§ª 1. åˆ›å»ºæµ‹è¯•æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /mnt/&#123;test1,test2,test3&#125; &amp;&amp; \</span><br><span class="line"><span class="built_in">mkdir</span> -p /mnt/test1/&#123;aaa,bbb,ccc&#125; &amp;&amp; \</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;æµ‹è¯•æ–‡ä»¶å†…å®¹&quot;</span> &gt; /mnt/test1/aaa/test1.txt &amp;&amp; \</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;å¦ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶&quot;</span> &gt; /mnt/test1/bbb/test2.txt &amp;&amp; \</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ç¬¬ä¸‰ä¸ªæµ‹è¯•æ–‡ä»¶&quot;</span> &gt; /mnt/test1/ccc/test3.txt &amp;&amp; \</span><br><span class="line">tree /mnt/test1 /mnt/test2 /mnt/test3</span><br></pre></td></tr></table></figure><ul><li><strong>åˆå§‹æµ‹è¯•ç›®å½•ç»“æ„</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">root@debian13 / <span class="comment"># tree /mnt/test1 /mnt/test2 /mnt/test3</span></span><br><span class="line">/mnt/test1</span><br><span class="line">â”œâ”€â”€ aaa</span><br><span class="line">â”‚   â””â”€â”€ test1.txt</span><br><span class="line">â”œâ”€â”€ bbb</span><br><span class="line">â”‚   â””â”€â”€ test2.txt</span><br><span class="line">â””â”€â”€ ccc</span><br><span class="line">    â””â”€â”€ test3.txt</span><br><span class="line">/mnt/test2</span><br><span class="line">/mnt/test3</span><br></pre></td></tr></table></figure><h3 id="ğŸ§ª-2-æµ‹è¯•-å‹ç¼©">ğŸ§ª 2. æµ‹è¯• <code>å‹ç¼©</code></h3><ul><li>è¿™é‡ŒæŒ‡å®šäº† <code>ä¿ç•™æ•°é‡ 5</code>ï¼Œé»˜è®¤æ˜¯<code>ä¿ç•™æ•°é‡ 3</code>ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL gitee.com/meimolihan/script/raw/master/sh/backup/directory_backup.sh) /mnt/test1 /mnt/test2 5 &amp;&amp; tree /mnt/test1 /mnt/test2 /mnt/test3</span><br></pre></td></tr></table></figure><ul><li><strong>å®Œæˆ <code>å‹ç¼©</code> åçš„ç›®å½•ç»“æ„</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">root@debian13 / <span class="comment"># tree /mnt/test1 /mnt/test2 /mnt/test3</span></span><br><span class="line">/mnt/test1</span><br><span class="line">â”œâ”€â”€ aaa</span><br><span class="line">â”‚   â””â”€â”€ test1.txt</span><br><span class="line">â”œâ”€â”€ bbb</span><br><span class="line">â”‚   â””â”€â”€ test2.txt</span><br><span class="line">â””â”€â”€ ccc</span><br><span class="line">    â””â”€â”€ test3.txt</span><br><span class="line">/mnt/test2</span><br><span class="line">â”œâ”€â”€ aaa_20250916_192217.tar.gz</span><br><span class="line">â”œâ”€â”€ bbb_20250916_192217.tar.gz</span><br><span class="line">â””â”€â”€ ccc_20250916_192217.tar.gz</span><br><span class="line">/mnt/test3</span><br></pre></td></tr></table></figure><h3 id="ğŸ§ª-3-æµ‹è¯•è§£å‹">ğŸ§ª 3. æµ‹è¯•<code>è§£å‹</code></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /mnt/test2 &amp;&amp; \</span><br><span class="line">bash &lt;(curl -sL gitee.com/meimolihan/script/raw/master/sh/backup/directory_extract.sh) /mnt/test3/ &amp;&amp; \</span><br><span class="line">tree /mnt/test1 /mnt/test2 /mnt/test3</span><br></pre></td></tr></table></figure><ul><li><strong>å®Œæˆ <code>è§£å‹</code> åçš„ç›®å½•ç»“æ„</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">root@debian13 ~ <span class="comment"># tree /mnt/test1 /mnt/test2 /mnt/test3</span></span><br><span class="line">/mnt/test1</span><br><span class="line">â”œâ”€â”€ aaa</span><br><span class="line">â”‚   â””â”€â”€ test1.txt</span><br><span class="line">â”œâ”€â”€ bbb</span><br><span class="line">â”‚   â””â”€â”€ test2.txt</span><br><span class="line">â””â”€â”€ ccc</span><br><span class="line">    â””â”€â”€ test3.txt</span><br><span class="line">/mnt/test2</span><br><span class="line">â”œâ”€â”€ aaa_20250916_191032.tar.gz</span><br><span class="line">â”œâ”€â”€ bbb_20250916_191032.tar.gz</span><br><span class="line">â””â”€â”€ ccc_20250916_191032.tar.gz</span><br><span class="line">/mnt/test3</span><br><span class="line">â”œâ”€â”€ aaa</span><br><span class="line">â”‚   â””â”€â”€ test1.txt</span><br><span class="line">â”œâ”€â”€ bbb</span><br><span class="line">â”‚   â””â”€â”€ test2.txt</span><br><span class="line">â””â”€â”€ ccc</span><br><span class="line">    â””â”€â”€ test3.txt</span><br></pre></td></tr></table></figure><h3 id="ğŸ§ª-4-åˆ é™¤æµ‹è¯•æ–‡ä»¶">ğŸ§ª 4. åˆ é™¤æµ‹è¯•æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> .. &amp;&amp; \</span><br><span class="line"><span class="built_in">rm</span> -rf /mnt/test1 /mnt/test2 /mnt/test3 &amp;&amp; \</span><br><span class="line"><span class="built_in">ls</span> /mnt</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæµ‹è¯•æµç¨‹å±•ç¤ºäº†ï¼š</p><ol><li>åˆ›å»ºæµ‹è¯•ç›®å½•ç»“æ„å’Œæ–‡ä»¶</li><li>ä½¿ç”¨å¤‡ä»½è„šæœ¬å°†ç›®å½•å‹ç¼©ä¸ºå¤šä¸ªtar.gzæ–‡ä»¶</li><li>ä½¿ç”¨è§£å‹è„šæœ¬å°†è¿™äº›å‹ç¼©åŒ…è§£å‹åˆ°ç›®æ ‡ç›®å½•</li><li>éªŒè¯è§£å‹ç»“æœæ˜¯å¦æ­£ç¡®</li></ol><p>é€šè¿‡è¿™ä¸ªå®Œæ•´çš„æµ‹è¯•æµç¨‹ï¼Œæ‚¨å¯ä»¥ç¡®ä¿è„šæœ¬æ­£å¸¸å·¥ä½œï¼Œå¹¶ä¸”ç†è§£æ•´ä¸ªå‹ç¼©å’Œè§£å‹çš„è¿‡ç¨‹ã€‚ğŸ§ª</p><hr><p><a id="script-summary"></a></p><h2 id="äº”ã€ğŸ”§-è„šæœ¬åŠŸèƒ½æ¦‚æ‹¬">äº”ã€ğŸ”§ è„šæœ¬åŠŸèƒ½æ¦‚æ‹¬</h2><h3 id="directory-backup-sh">directory_backup.sh</h3><ul><li><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼šè‡ªåŠ¨åŒ–å¤‡ä»½å½“å‰å·¥ä½œç›®å½•ä¸‹çš„æ‰€æœ‰ééšè—å­ç›®å½•</li><li><strong>å¤‡ä»½æ ¼å¼</strong>ï¼šæ¯ä¸ªå­ç›®å½•å‹ç¼©ä¸ºå•ç‹¬çš„ <code>ç›®å½•å-YYYY-MM-DD.tar.gz</code> æ–‡ä»¶</li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå®šæœŸè‡ªåŠ¨åŒ–å¤‡ä»½ã€ç³»ç»Ÿå®šæ—¶ä»»åŠ¡ã€è„šæœ¬é›†æˆå’Œæ‰¹å¤„ç†æ“ä½œ</li></ul><h3 id="directory-extract-sh">directory_extract.sh</h3><ul><li><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼šè‡ªåŠ¨è§£å‹å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰å‹ç¼©åŒ…åˆ°æŒ‡å®šç›®å½•</li><li><strong>æ”¯æŒæ ¼å¼</strong>ï¼š<code>.tar.gz</code>, <code>.tgz</code>, <code>.tar</code>, <code>.zip</code>, <code>.gz</code></li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šä»å¤‡ä»½æ¢å¤æ•°æ®ã€æ‰¹é‡å¤„ç†ä¸‹è½½çš„å‹ç¼©åŒ…ã€ç¯å¢ƒéƒ¨ç½²</li></ul><hr><p><a id="cron-setup"></a></p><h2 id="å…­ã€â°-å®šæ—¶ä»»åŠ¡è®¾ç½®">å…­ã€â° å®šæ—¶ä»»åŠ¡è®¾ç½®</h2><h3 id="è®¾ç½®å®šæ—¶è‡ªåŠ¨å¤‡ä»½">è®¾ç½®å®šæ—¶è‡ªåŠ¨å¤‡ä»½</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¼–è¾‘å½“å‰ç”¨æˆ·çš„crontab</span></span><br><span class="line">crontab -e</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ ä»¥ä¸‹ä»»åŠ¡ç¤ºä¾‹ï¼š</span></span><br><span class="line"><span class="comment"># æ¯å¤©å‡Œæ™¨2ç‚¹æ‰§è¡Œå¤‡ä»½ï¼Œä¿ç•™7ä¸ªå¤‡ä»½</span></span><br><span class="line">0 2 * * * bash &lt;(curl -sL gitee.com/meimolihan/script/raw/master/sh/backup/directory_backup.sh) /mnt/test2/ /mnt/test2/ 7</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¯å‘¨æ—¥å‡Œæ™¨1ç‚¹æ‰§è¡Œå¤‡ä»½ï¼Œä¿ç•™4ä¸ªå¤‡ä»½</span></span><br><span class="line">0 1 * * 0 /path/to/universal_backup.sh /home/user/documents /mnt/backup 4</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¯6å°æ—¶æ‰§è¡Œä¸€æ¬¡å¤‡ä»½</span></span><br><span class="line">0 */6 * * * /path/to/universal_backup.sh /important/data /backups 10</span><br></pre></td></tr></table></figure><h3 id="æ—¥å¿—è®°å½•é…ç½®">æ—¥å¿—è®°å½•é…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†è¾“å‡ºåŒæ—¶è®°å½•åˆ°æ—¥å¿—æ–‡ä»¶</span></span><br><span class="line">0 2 * * * /path/to/universal_backup.sh /var/www/html /backups 7 &gt;&gt; /var/log/backup.log 2&gt;&amp;1</span><br><span class="line"></span><br><span class="line"><span class="comment"># åªè®°å½•é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">0 2 * * * /path/to/universal_backup.sh /var/www/html /backups 7 &gt; /dev/null 2&gt;&gt; /var/log/backup-error.log</span><br></pre></td></tr></table></figure><hr><p><a id="scenarios-tips"></a></p><h2 id="ä¸ƒã€ğŸ’¡-ä½¿ç”¨åœºæ™¯ä¸å»ºè®®">ä¸ƒã€ğŸ’¡ ä½¿ç”¨åœºæ™¯ä¸å»ºè®®</h2><h3 id="å¸¸è§ä½¿ç”¨åœºæ™¯">å¸¸è§ä½¿ç”¨åœºæ™¯</h3><ol><li><strong>ğŸ”„ å®šæœŸæ•°æ®å¤‡ä»½</strong>ï¼šç»“åˆcronå®šæ—¶ä»»åŠ¡ï¼Œå®šæœŸå¤‡ä»½é‡è¦æ•°æ®</li><li><strong>ğŸšš é¡¹ç›®éƒ¨ç½²</strong>ï¼šå¿«é€Ÿè§£å‹å¤šä¸ªç»„ä»¶åŒ…åˆ°æŒ‡å®šç›®å½•</li><li><strong>ğŸ“¦ æ•°æ®è¿ç§»</strong>ï¼šå°†æ•°æ®æ‰“åŒ…åè¿ç§»åˆ°æ–°æœåŠ¡å™¨æˆ–æ–°ä½ç½®</li><li><strong>ğŸ›¡ï¸ ç‰ˆæœ¬å½’æ¡£</strong>ï¼šå®šæœŸåˆ›å»ºé¡¹ç›®æˆ–æ•°æ®çš„ç‰ˆæœ¬å¿«ç…§</li></ol><h3 id="å®ç”¨å»ºè®®">å®ç”¨å»ºè®®</h3><ol><li><strong>ğŸ” æƒé™ç®¡ç†</strong>ï¼šç¡®ä¿è¿è¡Œè„šæœ¬çš„ç”¨æˆ·æœ‰è¶³å¤Ÿçš„è¯»å†™æƒé™</li><li><strong>ğŸ’¾ ç©ºé—´æ£€æŸ¥</strong>ï¼šåœ¨æ‰§è¡Œå¤‡ä»½å‰æ£€æŸ¥ç›®æ ‡ç£ç›˜ç©ºé—´æ˜¯å¦å……è¶³</li><li><strong>ğŸ“ æ—¥å¿—ç›‘æ§</strong>ï¼šå…³æ³¨è„šæœ¬è¾“å‡ºï¼ŒåŠæ—¶å‘ç°å’Œå¤„ç†é”™è¯¯</li><li><strong>ğŸ”„ æµ‹è¯•éªŒè¯</strong>ï¼šé¦–æ¬¡ä½¿ç”¨å‰åœ¨å°èŒƒå›´æµ‹è¯•ï¼ŒéªŒè¯è„šæœ¬è¡Œä¸ºç¬¦åˆé¢„æœŸ</li><li><strong>â° å®šæ—¶ä»»åŠ¡</strong>ï¼šä½¿ç”¨cronç­‰å·¥å…·è®¾ç½®å®šæœŸè‡ªåŠ¨æ‰§è¡Œå¤‡ä»½ä»»åŠ¡</li></ol><h3 id="é«˜çº§æŠ€å·§">é«˜çº§æŠ€å·§</h3><ul><li>ç»“åˆå…¶ä»–å·¥å…·ï¼ˆå¦‚rsyncï¼‰å®ç°å¢é‡å¤‡ä»½</li><li>ä½¿ç”¨è„šæœ¬è¿”å›å€¼ï¼ˆexit codeï¼‰åœ¨è‡ªåŠ¨åŒ–æµç¨‹ä¸­åˆ¤æ–­æ‰§è¡Œç»“æœ</li><li>é€šè¿‡é‡å®šå‘è¾“å‡ºä¿å­˜æ‰§è¡Œæ—¥å¿—ï¼š<code>./script.sh /backup/dir &gt; backup.log 2&gt;&amp;1</code></li></ul><p>è¿™ä¸¤ä¸ªè„šæœ¬è™½ç„¶ç®€å•ï¼Œä½†åŠŸèƒ½å¼ºå¤§ï¼Œèƒ½å¤Ÿæ»¡è¶³å¤§å¤šæ•°æ—¥å¸¸å¤‡ä»½å’Œè§£å‹éœ€æ±‚ã€‚é€šè¿‡åˆç†ä½¿ç”¨ï¼Œå¯ä»¥æ˜¾è‘—æé«˜å·¥ä½œæ•ˆç‡å¹¶å‡å°‘äººä¸ºé”™è¯¯ã€‚ğŸ¯</p><hr><p><em>å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åé¦ˆï¼å¸Œæœ›è¿™äº›è„šæœ¬èƒ½ä¸ºæ‚¨çš„å·¥ä½œå¸¦æ¥ä¾¿åˆ©ã€‚</em> ğŸ˜Š</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Linux å­ç›®å½•åˆ†ç¦»å¤‡ä»½ä¸è§£å‹è‡ªåŠ¨åŒ–è„šæœ¬ ğŸ“‚&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://file.meimolihan.eu.org/img/linux-rar-01.webp&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡ä»‹ç»ä¸¤ä¸ªå®ç”¨çš„è‡ªåŠ¨</summary>
      
    
    
    
    <category term="Linux" scheme="https://www.meimolihan.eu.org/categories/Linux/"/>
    
    
    <category term="åŒæ­¥&amp;å¤‡ä»½" scheme="https://www.meimolihan.eu.org/tags/%E5%90%8C%E6%AD%A5-%E5%A4%87%E4%BB%BD/"/>
    
    <category term="è„šæœ¬" scheme="https://www.meimolihan.eu.org/tags/%E8%84%9A%E6%9C%AC/"/>
    
  </entry>
  
  <entry>
    <title>Docker éƒ¨ç½² Halo åšå®¢ç³»ç»Ÿ-PostgreSQL âœ¨</title>
    <link href="https://www.meimolihan.eu.org/posts/92c231df.html"/>
    <id>https://www.meimolihan.eu.org/posts/92c231df.html</id>
    <published>2025-09-14T14:47:15.000Z</published>
    <updated>2025-09-14T14:47:15.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Docker éƒ¨ç½² Halo åšå®¢ç³»ç»Ÿ-PostgreSQL âœ¨</h1><p><img src="https://file.meimolihan.eu.org/img/halo-01.webp" alt="Halo Banner"></p><p><video src="http://file.meimolihan.eu.org/mp4/halo-2.0.mp4" controls="controls" width="650" height="400"></video></p><hr><h2 id="ğŸ“‹-ç›®å½•å¯¼èˆª">ğŸ“‹ ç›®å½•å¯¼èˆª</h2><ul><li><a href="#project-intro">ğŸ¯ é¡¹ç›®ç®€ä»‹</a></li><li><a href="#features">ğŸ› ï¸ æ ¸å¿ƒç‰¹æ€§</a></li><li><a href="#deploy">ğŸ³ ä¸€ã€Docker éƒ¨ç½² Halo åšå®¢</a><ul><li><a href="#deploy-setup">1. åˆ›å»ºç›®å½•å¹¶ç¼–å†™ <code>docker-compose.yml</code> æ–‡ä»¶ ğŸ“</a></li><li><a href="#deploy-start">2. æ‹‰å–é•œåƒå¹¶å¯åŠ¨å®¹å™¨ ğŸš€</a></li><li><a href="#postgresql-version">3. PostgreSQL ç‰ˆæœ¬ç®¡ç†ä¸éªŒè¯ ğŸ”</a></li></ul></li><li><a href="#usage">ğŸš€ äºŒã€ä½¿ç”¨ Halo åšå®¢</a><ul><li><a href="#usage-setup">1. é¦–æ¬¡è®¿é—®è®¾ç½® ğŸ¯</a></li><li><a href="#usage-features">2. åŠŸèƒ½ç‰¹æ€§ âœ¨</a></li></ul></li><li><a href="#nginx">ğŸŒ ä¸‰ã€Nginx åå‘ä»£ç†é…ç½®</a><ul><li><a href="#nginx-config">1. åˆ›å»º Nginx é…ç½®æ–‡ä»¶ ğŸ”§</a></li><li><a href="#nginx-reload">2. æµ‹è¯•å¹¶é‡è½½ Nginx ğŸ”„</a></li></ul></li><li><a href="#maintenance">ğŸ”§ å››ã€å®¹å™¨ç»´æŠ¤å‘½ä»¤</a><ul><li><a href="#docker-compose">1. Docker Compose å‘½ä»¤ ğŸ³</a></li><li><a href="#docker">2. Docker å®¹å™¨å‘½ä»¤ ğŸ“¦</a></li><li><a href="#docker-images">3. Docker é•œåƒç®¡ç† ğŸ“€</a></li></ul></li><li><a href="#conclusion">ğŸŒŸ å¯èˆªåˆ›ä½œï¼Œè¿æ¥ä¸–ç•Œ</a></li></ul><hr><p><a id="project-intro"></a></p><h2 id="ğŸ¯-é¡¹ç›®ç®€ä»‹">ğŸ¯ é¡¹ç›®ç®€ä»‹</h2><ul><li><strong>ğŸŒ <code>Halo</code> å®˜ç½‘åœ°å€ï¼š<a href="https://www.halo.run/">https://www.halo.run/</a></strong></li><li><strong>ğŸ± <code>GitHub</code> é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/halo-dev">https://github.com/halo-dev</a></strong></li><li><strong>ğŸ‹ <code>Docker</code> é•œåƒåœ°å€ï¼š<a href="https://hub.docker.com/r/halohub/halo">https://hub.docker.com/r/halohub/halo</a></strong></li></ul><p><strong><a href="https://www.halo.run/">Halo</a></strong> æ˜¯ä¸€æ¬¾ç°ä»£åŒ–çš„å¼€æºåšå®¢/CMS ç³»ç»Ÿï¼ŒåŸºäº Java å’Œ Spring Boot æ„å»ºã€‚å®ƒæä¾›äº†ä¸°å¯Œçš„ä¸»é¢˜å’Œæ’ä»¶ç”Ÿæ€ç³»ç»Ÿï¼Œè®©ç”¨æˆ·å¯ä»¥è½»æ¾åˆ›å»ºå’Œç®¡ç†è‡ªå·±çš„ç½‘ç«™ã€‚</p><hr><p><a id="features"></a></p><h2 id="ğŸ› ï¸-æ ¸å¿ƒç‰¹æ€§">ğŸ› ï¸ æ ¸å¿ƒç‰¹æ€§</h2><table><thead><tr><th>ç‰¹æ€§ç±»åˆ«</th><th>åŠŸèƒ½æè¿°</th><th>ä¼˜åŠ¿</th></tr></thead><tbody><tr><td><strong>ğŸ¨ ä¸»é¢˜ç³»ç»Ÿ</strong></td><td>ä¸°å¯Œçš„ä¸»é¢˜é€‰æ‹©</td><td>æ”¯æŒè‡ªå®šä¹‰è®¾è®¡ï¼Œæ»¡è¶³ä¸ªæ€§åŒ–éœ€æ±‚</td></tr><tr><td><strong>ğŸ”Œ æ’ä»¶ç”Ÿæ€</strong></td><td>åŠŸèƒ½æ‰©å±•çµæ´»</td><td>ç¤¾åŒºæ’ä»¶ä¸°å¯Œï¼Œæ»¡è¶³å„ç§éœ€æ±‚</td></tr><tr><td><strong>ğŸ“ ç¼–è¾‘å™¨</strong></td><td>å¯Œæ–‡æœ¬å’ŒMarkdownæ”¯æŒ</td><td>å¼ºå¤§çš„å†…å®¹ç¼–è¾‘ä½“éªŒ</td></tr><tr><td><strong>ğŸ‘¥ ç”¨æˆ·ç®¡ç†</strong></td><td>å¤šç”¨æˆ·æƒé™æ§åˆ¶</td><td>æ”¯æŒå›¢é˜Ÿåä½œå’Œæƒé™ç®¡ç†</td></tr><tr><td><strong>ğŸ“Š æ•°æ®ç»Ÿè®¡</strong></td><td>è®¿é—®ç»Ÿè®¡å’Œåˆ†æ</td><td>æä¾›è¯¦ç»†çš„æ•°æ®åˆ†ææŠ¥å‘Š</td></tr><tr><td><strong>ğŸ” SEO ä¼˜åŒ–</strong></td><td>å†…ç½®SEOåŠŸèƒ½</td><td>æå‡æœç´¢å¼•æ“æ’åå’Œå¯è§åº¦</td></tr><tr><td><strong>ğŸŒ å“åº”å¼è®¾è®¡</strong></td><td>å¤šç«¯é€‚é…</td><td>åœ¨æ‰‹æœºã€å¹³æ¿å’Œç”µè„‘ä¸Šå‡æœ‰è‰¯å¥½ä½“éªŒ</td></tr><tr><td><strong>ğŸ³ Docker éƒ¨ç½²</strong></td><td>å®¹å™¨åŒ–éƒ¨ç½²</td><td>ç®€å•ä¾¿æ·ï¼Œæ˜“äºç»´æŠ¤å’Œå‡çº§</td></tr></tbody></table><hr><p><a id="deploy"></a></p><h2 id="ğŸ³-ä¸€ã€Docker-éƒ¨ç½²-Halo-åšå®¢">ğŸ³ ä¸€ã€Docker éƒ¨ç½² Halo åšå®¢</h2><p><a id="deploy-setup"></a></p><h3 id="1-åˆ›å»ºç›®å½•å¹¶ç¼–å†™-docker-compose-yml-æ–‡ä»¶-ğŸ“">1. åˆ›å»ºç›®å½•å¹¶ç¼–å†™ <code>docker-compose.yml</code> æ–‡ä»¶ ğŸ“</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /mnt/mydisk/home/halo &amp;&amp; <span class="built_in">cd</span> <span class="variable">$_</span> &amp;&amp; \</span><br><span class="line"><span class="built_in">cat</span> &gt; docker-compose.yml &lt;&lt;<span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">services:</span><br><span class="line">  halo:</span><br><span class="line">    image: registry.fit2cloud.com/halo/halo:2</span><br><span class="line">    container_name: halo</span><br><span class="line">    restart: on-failure:3</span><br><span class="line">    depends_on:</span><br><span class="line">      halodb:</span><br><span class="line">        condition: service_healthy</span><br><span class="line">    networks:</span><br><span class="line">      halo_network:</span><br><span class="line">    volumes:</span><br><span class="line">      - ./halo2:/root/.halo2</span><br><span class="line">    ports:</span><br><span class="line">      - <span class="string">&quot;8090:8090&quot;</span></span><br><span class="line">    healthcheck:</span><br><span class="line">      <span class="built_in">test</span>: [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;curl&quot;</span>, <span class="string">&quot;-f&quot;</span>, <span class="string">&quot;http://localhost:8090/actuator/health/readiness&quot;</span>]</span><br><span class="line">      interval: 30s</span><br><span class="line">      <span class="built_in">timeout</span>: 5s</span><br><span class="line">      retries: 5</span><br><span class="line">      start_period: 30s</span><br><span class="line">    environment:</span><br><span class="line">      <span class="comment"># JVM å‚æ•°ï¼Œé»˜è®¤ä¸º -Xmx256m -Xms256mï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µåšè°ƒæ•´ï¼Œç½®ç©ºè¡¨ç¤ºä¸æ·»åŠ  JVM å‚æ•°</span></span><br><span class="line">      - JVM_OPTS=-Xmx256m -Xms256m</span><br><span class="line">    <span class="built_in">command</span>:</span><br><span class="line">      - --spring.r2dbc.url=r2dbc:pool:postgresql://halodb/halo</span><br><span class="line">      - --spring.r2dbc.username=halo</span><br><span class="line">      <span class="comment"># PostgreSQL çš„å¯†ç ï¼Œè¯·ä¿è¯ä¸ä¸‹æ–¹ POSTGRES_PASSWORD çš„å˜é‡å€¼ä¸€è‡´ã€‚</span></span><br><span class="line">      - --spring.r2dbc.password=openpostgresql</span><br><span class="line">      - --spring.sql.init.platform=postgresql</span><br><span class="line">      <span class="comment"># å¤–éƒ¨è®¿é—®åœ°å€ï¼Œè¯·æ ¹æ®å®é™…éœ€è¦ä¿®æ”¹</span></span><br><span class="line">      - --halo.external-url=http://localhost:8090/</span><br><span class="line">  halodb:</span><br><span class="line">    image: postgres:17.6</span><br><span class="line">    container_name: halodb</span><br><span class="line">    restart: on-failure:3</span><br><span class="line">    networks:</span><br><span class="line">      halo_network:</span><br><span class="line">    volumes:</span><br><span class="line">      - ./db:/var/lib/postgresql/data</span><br><span class="line">    healthcheck:</span><br><span class="line">      <span class="built_in">test</span>: [ <span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;pg_isready&quot;</span> ]</span><br><span class="line">      interval: 10s</span><br><span class="line">      <span class="built_in">timeout</span>: 5s</span><br><span class="line">      retries: 5</span><br><span class="line">    environment:</span><br><span class="line">      - POSTGRES_PASSWORD=openpostgresql</span><br><span class="line">      - POSTGRES_USER=halo</span><br><span class="line">      - POSTGRES_DB=halo</span><br><span class="line">      - PGUSER=halo</span><br><span class="line"></span><br><span class="line">networks:</span><br><span class="line">  halo_network:</span><br><span class="line">    name: halo_network</span><br><span class="line">    driver: bridge</span><br><span class="line"></span><br><span class="line"><span class="comment"># Haloåšå®¢_åå°åœ°å€ï¼šhttp://10.10.10.245:8090/console</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p><a id="deploy-start"></a></p><h3 id="2-æ‹‰å–é•œåƒå¹¶å¯åŠ¨å®¹å™¨-ğŸš€">2. æ‹‰å–é•œåƒå¹¶å¯åŠ¨å®¹å™¨ ğŸš€</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><p><a id="postgresql-version"></a></p><h3 id="3-PostgreSQL-ç‰ˆæœ¬ç®¡ç†ä¸éªŒè¯-ğŸ”">3. PostgreSQL ç‰ˆæœ¬ç®¡ç†ä¸éªŒè¯ ğŸ”</h3><ul><li>å¦‚éœ€ä½¿ç”¨å…¶ä»–ç‰ˆæœ¬çš„ <code>PostgreSQL</code> é•œåƒï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥è¯¢å¯ç”¨ç‰ˆæœ¬æ ‡ç­¾ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -sS <span class="string">&quot;https://registry.hub.docker.com/v2/repositories/library/postgres/tags/?page_size=100&quot;</span> \</span><br><span class="line">| jq -r <span class="string">&#x27;.results[].name&#x27;</span> | grep -E <span class="string">&#x27;^[0-9]+(\.[0-9]+)?$&#x27;</span> | <span class="built_in">sort</span> -V</span><br></pre></td></tr></table></figure><ul><li>éƒ¨ç½²å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤éªŒè¯ <code>PostgreSQL</code> ç‰ˆæœ¬ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it halodb pg_config --version</span><br></pre></td></tr></table></figure><hr><p><a id="usage"></a></p><h2 id="ğŸš€-äºŒã€ä½¿ç”¨-Halo-åšå®¢">ğŸš€ äºŒã€ä½¿ç”¨ Halo åšå®¢</h2><p><a id="usage-setup"></a></p><h3 id="1-é¦–æ¬¡è®¿é—®è®¾ç½®-ğŸ¯">1. é¦–æ¬¡è®¿é—®è®¾ç½® ğŸ¯</h3><ol><li>æ‰“å¼€æµè§ˆå™¨è®¿é—®: <a href="http://xn--IP-0p3cl7jf7fo83a16x:8090/console">http://ä½ çš„æœåŠ¡å™¨IP:8090/console</a></li><li>æŒ‰ç…§é¡µé¢æç¤ºå®Œæˆåˆå§‹è®¾ç½®ï¼š<ul><li>åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·</li><li>è®¾ç½®åšå®¢åŸºæœ¬ä¿¡æ¯</li><li>é€‰æ‹©åˆå§‹ä¸»é¢˜</li></ul></li></ol><p><a id="usage-features"></a></p><h3 id="2-åŠŸèƒ½ç‰¹æ€§-âœ¨">2. åŠŸèƒ½ç‰¹æ€§ âœ¨</h3><ul><li>ğŸ¨ <strong>ä¸»é¢˜ç³»ç»Ÿ</strong>: ä¸°å¯Œçš„ä¸»é¢˜é€‰æ‹©ï¼Œæ”¯æŒè‡ªå®šä¹‰</li><li>ğŸ”Œ <strong>æ’ä»¶ç”Ÿæ€</strong>: æ‰©å±•åŠŸèƒ½ï¼Œæ»¡è¶³å„ç§éœ€æ±‚</li><li>ğŸ“ <strong>ç¼–è¾‘å™¨</strong>: å¼ºå¤§çš„å¯Œæ–‡æœ¬å’ŒMarkdownç¼–è¾‘å™¨</li><li>ğŸ‘¥ <strong>ç”¨æˆ·ç®¡ç†</strong>: å¤šç”¨æˆ·æ”¯æŒï¼Œæƒé™æ§åˆ¶</li><li>ğŸ“Š <strong>æ•°æ®ç»Ÿè®¡</strong>: è®¿é—®ç»Ÿè®¡å’Œå†…å®¹åˆ†æ</li><li>ğŸ” <strong>SEO ä¼˜åŒ–</strong>: å†…ç½®SEOåŠŸèƒ½ï¼Œæå‡æœç´¢å¼•æ“æ’å</li></ul><hr><p><a id="nginx"></a></p><h2 id="ğŸŒ-ä¸‰ã€Nginx-åå‘ä»£ç†é…ç½®">ğŸŒ ä¸‰ã€Nginx åå‘ä»£ç†é…ç½®</h2><blockquote><p><strong>è®¿é—®åœ°å€ç¤ºä¾‹ï¼š<a href="https://halo.example.com:666">https://halo.example.com:666</a></strong></p></blockquote><p><a id="nginx-config"></a></p><h3 id="1-åˆ›å»º-Nginx-é…ç½®æ–‡ä»¶-ğŸ”§">1. åˆ›å»º Nginx é…ç½®æ–‡ä»¶ ğŸ”§</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /etc/nginx/conf.d &amp;&amp; \</span><br><span class="line"><span class="built_in">cat</span> &gt; /etc/nginx/conf.d/halo.conf &lt;&lt;<span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">server &#123;</span><br><span class="line">    listen 666 ssl;</span><br><span class="line">    listen [::]:666 ssl;</span><br><span class="line">    server_name halo.example.com;   <span class="comment"># æ›¿æ¢ä¸ºä½ çš„åŸŸå</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># SSL è¯ä¹¦</span></span><br><span class="line">    ssl_certificate /etc/nginx/keyfile/cert.pem;</span><br><span class="line">    ssl_certificate_key /etc/nginx/keyfile/key.pem;</span><br><span class="line">    ssl_protocols TLSv1.2 TLSv1.3;</span><br><span class="line">    ssl_prefer_server_ciphers off;</span><br><span class="line">    ssl_ciphers ECDHE+AESGCM:ECDHE+CHACHA20:!aNULL:!MD5;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®‰å…¨å¤´éƒ¨</span></span><br><span class="line">    add_header X-Frame-Options DENY;</span><br><span class="line">    add_header X-Content-Type-Options nosniff;</span><br><span class="line">    add_header X-XSS-Protection <span class="string">&quot;1; mode=block&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ–‡ä»¶å¤§å°é™åˆ¶</span></span><br><span class="line">    client_max_body_size 100M;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass http://127.0.0.1:8090;</span><br><span class="line">        proxy_set_header Host <span class="variable">$host</span>;</span><br><span class="line">        proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        proxy_set_header X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">        proxy_http_version 1.1;</span><br><span class="line">        proxy_buffering off;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># WebSocket æ”¯æŒ</span></span><br><span class="line">        proxy_set_header Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">        proxy_set_header Connection <span class="string">&quot;upgrade&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é”™è¯¯é¡µ</span></span><br><span class="line">    error_page 404 500 502 503 504 /50x.html;</span><br><span class="line">    location = /50x.html &#123;</span><br><span class="line">        root /usr/share/nginx/html;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p><a id="nginx-reload"></a></p><h3 id="2-æµ‹è¯•å¹¶é‡è½½-Nginx-ğŸ”„">2. æµ‹è¯•å¹¶é‡è½½ Nginx ğŸ”„</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> nginx -t &amp;&amp; <span class="built_in">sudo</span> systemctl reload nginx</span><br></pre></td></tr></table></figure><hr><p><a id="maintenance"></a></p><h2 id="ğŸ”§-å››ã€å®¹å™¨ç»´æŠ¤å‘½ä»¤">ğŸ”§ å››ã€å®¹å™¨ç»´æŠ¤å‘½ä»¤</h2><p><a id="docker-compose"></a></p><h3 id="1-Docker-Compose-å‘½ä»¤-ğŸ³">1. Docker Compose å‘½ä»¤ ğŸ³</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥é¡¹ç›®ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> /mnt/mydisk/home/halo</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœæ­¢å¹¶åˆ é™¤å®¹å™¨</span></span><br><span class="line">docker-compose down</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‹‰å–æœ€æ–°é•œåƒ</span></span><br><span class="line">docker-compose pull</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨å®¹å™¨</span></span><br><span class="line">docker-compose up -d</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span></span><br><span class="line">docker-compose ps</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æœåŠ¡æ—¥å¿—</span></span><br><span class="line">docker-compose logs</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·Ÿè¸ªæœåŠ¡æ—¥å¿—</span></span><br><span class="line">docker-compose logs -f</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®Œæ•´å‡çº§æµç¨‹</span></span><br><span class="line">docker-compose down &amp;&amp; \</span><br><span class="line">docker-compose pull &amp;&amp; \</span><br><span class="line">docker-compose up -d &amp;&amp; \</span><br><span class="line">docker image prune -f</span><br></pre></td></tr></table></figure><p><a id="docker"></a></p><h3 id="2-Docker-å®¹å™¨å‘½ä»¤-ğŸ“¦">2. Docker å®¹å™¨å‘½ä»¤ ğŸ“¦</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹è¿è¡Œä¸­å®¹å™¨</span></span><br><span class="line">docker ps</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœæ­¢/å¯åŠ¨/é‡å¯å®¹å™¨</span></span><br><span class="line">docker stop halo halodb</span><br><span class="line">docker start halo halodb  </span><br><span class="line">docker restart halo halodb</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">rm</span> halo halodb</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥å®¹å™¨Shell</span></span><br><span class="line">docker <span class="built_in">exec</span> -it halo sh</span><br><span class="line">docker <span class="built_in">exec</span> -it halo bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å®¹å™¨æ—¥å¿—</span></span><br><span class="line">docker logs halo</span><br><span class="line">docker logs halodb</span><br><span class="line">docker logs -f halo</span><br><span class="line">docker logs --<span class="built_in">tail</span> 50 halodb</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›‘æ§èµ„æºä½¿ç”¨</span></span><br><span class="line">docker stats halo halodb</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å®¹å™¨è¯¦æƒ…</span></span><br><span class="line">docker inspect halo</span><br></pre></td></tr></table></figure><p><a id="docker-images"></a></p><h3 id="3-Docker-é•œåƒç®¡ç†-ğŸ“€">3. Docker é•œåƒç®¡ç† ğŸ“€</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br><span class="line">docker rmi halohub/halo:2.20.12 mysql:8.3.0</span><br><span class="line">docker image prune -f</span><br><span class="line">docker image prune -a -f</span><br></pre></td></tr></table></figure><hr><p><a id="conclusion"></a></p><h2 id="ğŸŒŸ-å¯èˆªåˆ›ä½œï¼Œè¿æ¥ä¸–ç•Œ">ğŸŒŸ å¯èˆªåˆ›ä½œï¼Œè¿æ¥ä¸–ç•Œ</h2><p>é€šè¿‡æœ¬æ–‡æ¡£ï¼Œä½ å·²ç»æˆåŠŸä½¿ç”¨ Docker éƒ¨ç½²äº† Halo åšå®¢ç³»ç»Ÿï¼Œå¹¶å€ŸåŠ© Nginx åå‘ä»£ç†å®ç°äº†å®‰å…¨ä¾¿æ·çš„è¿œç¨‹è®¿é—®ã€‚ç°åœ¨ï¼Œä½ å¯ä»¥ï¼š</p><p>âœï¸ <strong>è‡ªç”±è¡¨è¾¾</strong> ä¹¦å†™æ‰€æƒ³ã€è®°å½•ç”Ÿæ´»ã€åˆ†äº«çŸ¥è¯†ï¼Œæ‰“é€ å±äºä½ è‡ªå·±çš„å†…å®¹å¤©åœ°<br>ğŸ¨ <strong>ä¸ªæ€§å®šåˆ¶</strong> å€ŸåŠ©ä¸°å¯Œçš„ä¸»é¢˜ä¸æ’ä»¶ï¼Œæ„å»ºç‹¬ä¸€æ— äºŒçš„åšå®¢é£æ ¼ä¸åŠŸèƒ½<br>ğŸŒ <strong>å¹¿æ³›ä¼ æ’­</strong> é€šè¿‡å¤šç«¯é€‚é…ä¸SEOä¼˜åŒ–ï¼Œè®©ä½ çš„å†…å®¹è¢«æ›´å¤šäººå‘ç°ä¸è®¤å¯<br>ğŸ¤ <strong>äº’åŠ¨äº¤æµ</strong> å¼€æ”¾è¯„è®ºä¸è®¢é˜…åŠŸèƒ½ï¼Œä¸è¯»è€…å»ºç«‹æ›´æ·±åº¦çš„è¿æ¥ä¸å¯¹è¯</p><p>åšå®¢ä¸ä»…æ˜¯è®°å½•çš„å·¥å…·ï¼Œæ›´æ˜¯æ€æƒ³çš„è½½ä½“å’Œè¿æ¥çš„æ¡¥æ¢ã€‚æ„¿ Halo æˆä¸ºä½ ç•…æ‰€æ¬²è¨€ã€å±•ç¤ºè‡ªæˆ‘çš„æœ€ä½³ä¼™ä¼´ï¼Œé™ªä¼´ä½ åœ¨æ¯ä¸€ä¸ªåˆ›ä½œçš„æ—¶åˆ»å’Œåˆ†äº«çš„ç¬é—´ã€‚</p><p>ä»ç°åœ¨å¼€å§‹ï¼Œå‘å¸ƒä½ çš„ç¬¬ä¸€ç¯‡åšå®¢ï¼Œå‘ä¸–ç•Œå‘å‡ºä½ çš„å£°éŸ³å§ï¼ğŸš€</p><hr><p>ğŸ“Œ <strong>æŒç»­å…³æ³¨</strong>ï¼šå»ºè®®è®¢é˜… <a href="https://www.halo.run/">Halo å®˜æ–¹æ›´æ–°</a>ï¼ŒåŠæ—¶è·å–æ–°åŠŸèƒ½ä¸ä¸»é¢˜æ’ä»¶ã€‚<br>ğŸ› <strong>åé¦ˆä¸æ”¯æŒ</strong>ï¼šä½¿ç”¨ä¸­å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œå¯å‰å¾€ <a href="https://github.com/halo-dev/halo/issues">GitHub Issues</a> æå‡ºã€‚</p><p>ç¥ä½ å†™ä½œæ„‰å¿«ï¼Œåšå®¢æœ‰æˆï¼ğŸ‰</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Docker éƒ¨ç½² Halo åšå®¢ç³»ç»Ÿ-PostgreSQL âœ¨&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://file.meimolihan.eu.org/img/halo-01.webp&quot; alt=&quot;Halo Banner&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;video src</summary>
      
    
    
    
    <category term="Docker" scheme="https://www.meimolihan.eu.org/categories/Docker/"/>
    
    
    <category term="compose" scheme="https://www.meimolihan.eu.org/tags/compose/"/>
    
    <category term="halo" scheme="https://www.meimolihan.eu.org/tags/halo/"/>
    
  </entry>
  
  <entry>
    <title>Halo åšå®¢å‡çº§ MySQL æ•°æ®åº“æŒ‡å— ğŸš€</title>
    <link href="https://www.meimolihan.eu.org/posts/8743bdf0.html"/>
    <id>https://www.meimolihan.eu.org/posts/8743bdf0.html</id>
    <published>2025-09-14T10:09:45.000Z</published>
    <updated>2025-09-14T10:09:45.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Halo åšå®¢å‡çº§ MySQL æ•°æ®åº“æŒ‡å— ğŸš€</h1><p><img src="https://file.meimolihan.eu.org/img/mysql-01.webp" alt=""></p><p>ğŸ“Œ <strong>å¯¼è¯»</strong>ï¼šæœ¬æ–‡è¯¦ç»†è®°å½•å°† Halo åšå®¢çš„ MySQL æ•°æ®åº“ä» 8.3.0 ç‰ˆæœ¬å®‰å…¨å‡çº§è‡³ 9.4.0 çš„å®Œæ•´æ“ä½œæµç¨‹ã€‚åŒ…å«ç‰ˆæœ¬è·¯çº¿è§„åˆ’ã€æ•°æ®å¤‡ä»½ã€å‡çº§å‚æ•°é…ç½®ã€å¥åº·æ£€æŸ¥åŠæ”¶å°¾æ“ä½œï¼Œé€‚ç”¨äºç”Ÿäº§ç¯å¢ƒä¸‹çš„å¹³æ»‘å‡çº§ã€‚</p><hr><h2 id="ğŸ“‹-å¯¼èˆªç›®å½•">ğŸ“‹ å¯¼èˆªç›®å½•</h2><ul><li><a href="#upgrade-background">âœ¨ å‡çº§èƒŒæ™¯ä¸æ³¨æ„äº‹é¡¹</a></li><li><a href="#version-path">ğŸ” ç‰ˆæœ¬å‡çº§è·¯çº¿</a></li><li><a href="#check-tags">ğŸ“¦ å‡†å¤‡å·¥ä½œï¼šæŸ¥è¯¢å¯ç”¨ç‰ˆæœ¬æ ‡ç­¾</a></li><li><a href="#full-backup">ğŸ’¾ å…³é”®ç¬¬ä¸€æ­¥ï¼šæ•´åº“é€»è¾‘å¤‡ä»½ï¼ˆå¿…åšï¼ï¼‰</a></li><li><a href="#cross-upgrade">âš™ï¸ è·¨ä¸»ç‰ˆæœ¬å‡çº§ï¼ˆ8.4.2 â†’ 9.0.1ï¼‰</a><ul><li><a href="#change-image-tag">ğŸ“ ä¿®æ”¹ Docker é•œåƒæ ‡ç­¾</a></li><li><a href="#add-upgrade-param">âš’ï¸ æ·»åŠ ä¸´æ—¶å‡çº§å‚æ•°</a></li></ul></li><li><a href="#execute-upgrade">ğŸš€ æ‰§è¡Œå‡çº§æ“ä½œ</a></li><li><a href="#health-check">âœ… å‡çº§çŠ¶æ€ç¡®è®¤</a></li><li><a href="#cleanup">ğŸ”§ æ”¶å°¾å·¥ä½œ</a></li><li><a href="#qa-summary">ğŸ’¡ å¸¸è§é—®é¢˜ä¸æ€»ç»“</a></li></ul><hr><p><a id="upgrade-background"></a></p><h2 id="âœ¨-å‡çº§èƒŒæ™¯ä¸æ³¨æ„äº‹é¡¹">âœ¨ å‡çº§èƒŒæ™¯ä¸æ³¨æ„äº‹é¡¹</h2><p>MySQL 8.x è‡³ 9.x å±äºè·¨ä¸»ç‰ˆæœ¬å‡çº§ï¼Œæ¶‰åŠ<strong>ç³»ç»Ÿè¡¨å…ƒæ•°æ®æ ¼å¼å˜æ›´</strong>ä¸”å‡çº§è¿‡ç¨‹ä¸å¯é€†ã€‚ğŸ”´ <strong>é‡è¦æç¤º</strong>ï¼šç”Ÿäº§ç¯å¢ƒå‡çº§å‰åŠ¡å¿…å®Œæˆå…¨é‡é€»è¾‘å¤‡ä»½ï¼Œé¿å…æ•°æ®ä¸¢å¤±é£é™©ã€‚</p><blockquote><p>ğŸ“ <strong>å‡çº§ç‰¹ç‚¹</strong>ï¼š</p><ul><li>âœ¨ <strong>æ€§èƒ½æå‡</strong>ï¼šMySQL 9.x ä¼˜åŒ–äº†æŸ¥è¯¢å¤„ç†å™¨ï¼Œå¤æ‚æŸ¥è¯¢æ€§èƒ½æå‡æ˜¾è‘—ï¼›</li><li>ğŸ”’ <strong>å¢å¼ºå®‰å…¨</strong>ï¼šæ–°å¢è§’è‰²ç»§æ‰¿ã€å¯†ç éªŒè¯ç­–ç•¥å¼ºåŒ–ç­‰å®‰å…¨ç‰¹æ€§ï¼›</li><li>ğŸ“Š <strong>JSONåŠŸèƒ½æ‰©å±•</strong>ï¼šJSONæ•°æ®ç±»å‹æ”¯æŒæ›´å¤šå‡½æ•°å’Œè·¯å¾„è¡¨è¾¾å¼ï¼›</li><li>ğŸ’¾ <strong>å…¼å®¹æ€§ä¿éšœ</strong>ï¼š9.0 ç‰ˆæœ¬å…¼å®¹ 8.4 çš„æ•°æ®æ–‡ä»¶æ ¼å¼ï¼›</li><li>âš ï¸ <strong>å‡çº§å•å‘æ€§</strong>ï¼šå‡çº§åä¼šæ›´æ–°ç³»ç»Ÿè¡¨ç»“æ„ä»¥æ”¯æŒæ–°ç‰¹æ€§ï¼Œä¸”ä¸å¯å›é€€ï¼›</li><li>ğŸ”§ <strong>å‚æ•°è¦æ±‚</strong>ï¼šä»…é¦–æ¬¡å¯åŠ¨éœ€æ·»åŠ  <code>--upgrade=FORCE</code> å‚æ•°ï¼Œåç»­é‡å¯æ— éœ€æ­¤æ“ä½œã€‚</li></ul></blockquote><hr><p><a id="version-path"></a></p><h2 id="ğŸ”-ç‰ˆæœ¬å‡çº§è·¯çº¿">ğŸ” ç‰ˆæœ¬å‡çº§è·¯çº¿</h2><p>æœ¬æ¬¡å‡çº§é‡‡ç”¨æ¸è¿›å¼è·¯å¾„ï¼Œç¡®ä¿å…¼å®¹æ€§ç¨³å®šï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">8.3.0 â†’ 8.4.0 â†’ 8.4.2 â†’ 9.0.1 â†’ 9.4.0</span><br></pre></td></tr></table></figure><blockquote><p>ğŸ’¡ <strong>æç¤º</strong>ï¼šå»ºè®®é€æ­¥å‡çº§ï¼Œé¿å…è·¨å¤šä¸ªä¸»ç‰ˆæœ¬ç›´æ¥å‡çº§ï¼Œä»¥å‡å°‘æ„å¤–é”™è¯¯ã€‚æ¯ä¸ªä¸­é—´ç‰ˆæœ¬éƒ½è§£å†³äº†ç‰¹å®šçš„å…¼å®¹æ€§é—®é¢˜ï¼Œç¡®ä¿æ•°æ®è¿ç§»çš„å¹³ç¨³æ€§ã€‚</p></blockquote><hr><p><a id="check-tags"></a></p><h2 id="ğŸ“¦-å‡†å¤‡å·¥ä½œï¼šæŸ¥è¯¢å¯ç”¨ç‰ˆæœ¬æ ‡ç­¾">ğŸ“¦ å‡†å¤‡å·¥ä½œï¼šæŸ¥è¯¢å¯ç”¨ç‰ˆæœ¬æ ‡ç­¾</h2><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ—å‡ºæ‰€æœ‰å®˜æ–¹ MySQL é•œåƒæ ‡ç­¾ï¼ˆ8.x å’Œ 9.x ç³»åˆ—ï¼‰ï¼Œå¹¶æŒ‰ç‰ˆæœ¬å·æ’åºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥è¯¢å®˜æ–¹ä»“åº“æ‰€æœ‰ tagï¼ˆè¿”å› JSONï¼Œç”¨ jq è¿‡æ»¤æ›´çˆ½ï¼‰</span></span><br><span class="line">docker run --<span class="built_in">rm</span> quay.io/skopeo/stable list-tags docker://mysql \</span><br><span class="line">  | jq -r <span class="string">&#x27;.Tags[]&#x27;</span> \</span><br><span class="line">  | grep -E <span class="string">&#x27;^[8-9]\.&#x27;</span> \</span><br><span class="line">  | <span class="built_in">sort</span> -V</span><br></pre></td></tr></table></figure><p>ğŸ” <strong>åŠŸèƒ½è¯´æ˜</strong>ï¼šæ­¤æ­¥éª¤ç¡®ä¿ä½ è·å–åˆ°å®˜æ–¹æ”¯æŒçš„æ‰€æœ‰ç‰ˆæœ¬æ ‡ç­¾ï¼Œé¿å…ä½¿ç”¨éç¨³å®šç‰ˆæˆ–å·²åºŸå¼ƒç‰ˆæœ¬ã€‚å»ºè®®ä¼˜å…ˆé€‰æ‹©æ ‡è®°ä¸º&quot;latest&quot;æˆ–&quot;stable&quot;çš„ç‰ˆæœ¬åˆ†æ”¯ã€‚</p><hr><p><a id="full-backup"></a></p><h2 id="ğŸ’¾-å…³é”®ç¬¬ä¸€æ­¥ï¼šæ•´åº“é€»è¾‘å¤‡ä»½ï¼ˆå¿…åšï¼ï¼‰">ğŸ’¾ å…³é”®ç¬¬ä¸€æ­¥ï¼šæ•´åº“é€»è¾‘å¤‡ä»½ï¼ˆå¿…åšï¼ï¼‰</h2><p>âš ï¸ <strong>è­¦å‘Š</strong>ï¼šè·³è¿‡å¤‡ä»½å¯èƒ½å¯¼è‡´æ•°æ®æ— æ³•å›é€€ï¼åŠ¡å¿…æ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it halodb mysqldump --all-databases --single-transaction -uroot -p<span class="string">&#x27;o#DwN&amp;JSa56&#x27;</span> &gt; all_$(<span class="built_in">date</span> +%F_%H-%M).sql</span><br></pre></td></tr></table></figure><p>ğŸ“Œ <strong>å‚æ•°è¯´æ˜</strong>ï¼š</p><ul><li><code>--single-transaction</code>ï¼šç¡®ä¿å¤‡ä»½æœŸé—´æ•°æ®ä¸€è‡´æ€§ï¼Œä½¿ç”¨äº‹åŠ¡éš”ç¦»æœºåˆ¶ï¼›</li><li><code>-uroot -p'ä½ çš„å¯†ç '</code>ï¼šæŒ‰å®é™…æ•°æ®åº“å¯†ç ä¿®æ”¹ï¼Œå»ºè®®ä½¿ç”¨é…ç½®æ–‡ä»¶é¿å…å¯†ç æš´éœ²ï¼›</li><li>å¤‡ä»½æ–‡ä»¶å‘½ååŒ…å«æ—¶é—´æˆ³ï¼Œä¾¿äºç‰ˆæœ¬ç®¡ç†ï¼›</li><li>ğŸ”’ <strong>å®‰å…¨å»ºè®®</strong>ï¼šå¤‡ä»½å®Œæˆåå°†å¤‡ä»½æ–‡ä»¶ä¼ è¾“åˆ°è¿œç¨‹å­˜å‚¨æˆ–ä¸åŒç‰©ç†è®¾å¤‡ã€‚</li></ul><p>ğŸ’¡ <strong>æ‰©å±•åŠŸèƒ½</strong>ï¼šè€ƒè™‘ä½¿ç”¨è‡ªåŠ¨åŒ–å¤‡ä»½è„šæœ¬ï¼Œå®šæœŸæ‰§è¡Œå¹¶ä¿ç•™å¤šä¸ªå¤‡ä»½ç‰ˆæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">BACKUP_DIR=<span class="string">&quot;/path/to/backup&quot;</span></span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$BACKUP_DIR</span></span><br><span class="line">docker <span class="built_in">exec</span> halodb mysqldump --all-databases --single-transaction -uroot -p<span class="string">&#x27;password&#x27;</span> | gzip &gt; <span class="variable">$BACKUP_DIR</span>/all_$(<span class="built_in">date</span> +%F_%H-%M).sql.gz</span><br><span class="line"><span class="comment"># ä¿ç•™æœ€è¿‘7å¤©å¤‡ä»½</span></span><br><span class="line">find <span class="variable">$BACKUP_DIR</span> -name <span class="string">&quot;*.sql.gz&quot;</span> -mtime +7 -delete</span><br></pre></td></tr></table></figure><hr><p><a id="cross-upgrade"></a></p><h2 id="âš™ï¸-è·¨ä¸»ç‰ˆæœ¬å‡çº§ï¼ˆ8-4-2-â†’-9-0-1ï¼‰">âš™ï¸ è·¨ä¸»ç‰ˆæœ¬å‡çº§ï¼ˆ8.4.2 â†’ 9.0.1ï¼‰</h2><p><a id="change-image-tag"></a></p><h3 id="ğŸ“-ä¿®æ”¹-Docker-é•œåƒæ ‡ç­¾">ğŸ“ ä¿®æ”¹ Docker é•œåƒæ ‡ç­¾</h3><p>ç¼–è¾‘ <code>docker-compose.yml</code>ï¼Œå°† MySQL é•œåƒæ ‡ç­¾æ”¹ä¸ºç›®æ ‡ç‰ˆæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano docker-compose.yml</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹å‰</span></span><br><span class="line"><span class="attr">image:</span> <span class="string">mysql:8.4.2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹å</span></span><br><span class="line"><span class="attr">image:</span> <span class="string">mysql:9.0.1</span></span><br></pre></td></tr></table></figure><p>ğŸ“ <strong>æ³¨æ„</strong>ï¼šç¡®ä¿ä½¿ç”¨çš„é•œåƒæ ‡ç­¾å­˜åœ¨ä¸”ä¸ºå®˜æ–¹ç¨³å®šç‰ˆæœ¬ï¼Œé¿å…ä½¿ç”¨latestæ ‡ç­¾å¯èƒ½å¯¼è‡´çš„ä¸å…¼å®¹é—®é¢˜ã€‚</p><p><a id="add-upgrade-param"></a></p><h3 id="âš’ï¸-æ·»åŠ ä¸´æ—¶å‡çº§å‚æ•°">âš’ï¸ æ·»åŠ ä¸´æ—¶å‡çº§å‚æ•°</h3><p>åœ¨ <code>command</code> éƒ¨åˆ†<strong>ä¸´æ—¶æ·»åŠ </strong> <code>--upgrade=FORCE</code> å‚æ•°ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">command:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">--upgrade=FORCE</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">--character-set-server=utf8mb4</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">--collation-server=utf8mb4_general_ci</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">--explicit_defaults_for_timestamp=true</span></span><br></pre></td></tr></table></figure><p>ğŸ”§ <strong>å‚æ•°è¯¦è§£</strong>ï¼š</p><ul><li><code>--upgrade=FORCE</code>ï¼šå¼ºåˆ¶å‡çº§ç³»ç»Ÿè¡¨ç»“æ„ï¼Œå¿…éœ€å‚æ•°ï¼›</li><li><code>--character-set-server=utf8mb4</code>ï¼šç¡®ä¿å­—ç¬¦é›†ä¸Haloåšå®¢å…¼å®¹ï¼›</li><li><code>--collation-server=utf8mb4_general_ci</code>ï¼šè®¾ç½®æ­£ç¡®çš„æ’åºè§„åˆ™ï¼›</li><li><code>--explicit_defaults_for_timestamp=true</code>ï¼šè§£å†³TIMESTAMPå­—æ®µçš„å…¼å®¹æ€§é—®é¢˜ã€‚</li></ul><hr><p><a id="execute-upgrade"></a></p><h2 id="ğŸš€-æ‰§è¡Œå‡çº§æ“ä½œ">ğŸš€ æ‰§è¡Œå‡çº§æ“ä½œ</h2><ol><li><p><strong>æ‹‰å–æ–°ç‰ˆæœ¬é•œåƒ</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose pull halodb</span><br></pre></td></tr></table></figure></li><li><p><strong>å¯åŠ¨å‡çº§</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose up -d halodb</span><br></pre></td></tr></table></figure></li><li><p><strong>è§‚å¯Ÿå‡çº§æ—¥å¿—</strong>ï¼ˆè€—æ—¶çº¦ 1-3 åˆ†é’Ÿï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">timeout</span> 180 docker compose logs -f halodb</span><br></pre></td></tr></table></figure><p>âœ… <strong>æˆåŠŸæ ‡å¿—</strong>ï¼šå‡ºç° <code>[Server] /usr/sbin/mysqld: ready for connections. Version: '9.0.1'</code> ä¸”çŠ¶æ€è½¬ä¸º healthyã€‚</p></li></ol><p>ğŸ“Š <strong>å‡çº§è¿‡ç¨‹ç›‘æ§</strong>ï¼šå‡çº§æœŸé—´MySQLä¼šæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p><ul><li>æ£€æŸ¥ç°æœ‰æ•°æ®æ–‡ä»¶çš„å…¼å®¹æ€§</li><li>å‡çº§ç³»ç»Ÿè¡¨ï¼ˆmysql.*ï¼‰åˆ°æ–°æ ¼å¼</li><li>æ›´æ–°æ€§èƒ½ schema å’Œ information_schema</li><li>éªŒè¯æ‰€æœ‰æ•°æ®åº“å¯¹è±¡çš„å®Œæ•´æ€§</li></ul><hr><p><a id="health-check"></a></p><h2 id="âœ…-å‡çº§çŠ¶æ€ç¡®è®¤">âœ… å‡çº§çŠ¶æ€ç¡®è®¤</h2><ol><li><p><strong>æ£€æŸ¥å®¹å™¨çŠ¶æ€</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose ps halodb</span><br></pre></td></tr></table></figure></li><li><p><strong>æ‰‹åŠ¨å¥åº·æ£€æŸ¥</strong>ï¼ˆå¦‚æœçŠ¶æ€æœªæ›´æ–°ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> halodb mysqladmin ping -h127.0.0.1 -uroot -p<span class="string">&#x27;o#DwN&amp;JSa56&#x27;</span> --silent</span><br><span class="line"><span class="built_in">echo</span> $?   <span class="comment"># è¿”å› 0 è¡¨ç¤ºæ•°æ®åº“æ­£å¸¸è¿è¡Œ</span></span><br></pre></td></tr></table></figure></li><li><p><strong>éªŒè¯ç‰ˆæœ¬å·</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it halodb mysql -uroot -p<span class="string">&#x27;o#DwN&amp;JSa56&#x27;</span> -e <span class="string">&quot;SELECT @@version;&quot;</span></span><br></pre></td></tr></table></figure><p>ğŸ“Œ è¾“å‡ºåº”ä¸ºï¼š<code>9.0.1</code></p></li><li><p><strong>æ£€æŸ¥æ•°æ®åº“å®Œæ•´æ€§</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it halodb mysqlcheck -uroot -p<span class="string">&#x27;o#DwN&amp;JSa56&#x27;</span> --all-databases</span><br></pre></td></tr></table></figure></li></ol><hr><p><a id="cleanup"></a></p><h2 id="ğŸ”§-æ”¶å°¾å·¥ä½œ">ğŸ”§ æ”¶å°¾å·¥ä½œ</h2><p>å‡çº§å®Œæˆå<strong>åŠ¡å¿…åˆ é™¤</strong>ä¸´æ—¶å‚æ•° <code>--upgrade=FORCE</code>ï¼Œé¿å…ä¸‹æ¬¡é‡å¯å†æ¬¡æ‰§è¡Œå‡çº§æµç¨‹ï¼š</p><ol><li><p>ç¼–è¾‘ <code>docker-compose.yml</code>ï¼Œåˆ é™¤ <code>--upgrade=FORCE</code> è¡Œï¼›</p></li><li><p>é‡æ–°éƒ¨ç½²ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose up -d</span><br></pre></td></tr></table></figure></li><li><p><strong>éªŒè¯å¸¸è§„å¯åŠ¨</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose logs halodb | grep -i <span class="string">&quot;upgrade&quot;</span></span><br></pre></td></tr></table></figure><p>ğŸš« ä¸åº”å‡ºç°ä»»ä½•ä¸upgradeç›¸å…³çš„æ—¥å¿—ä¿¡æ¯ã€‚</p></li></ol><hr><p><a id="qa-summary"></a></p><h2 id="ğŸ’¡-å¸¸è§é—®é¢˜ä¸æ€»ç»“">ğŸ’¡ å¸¸è§é—®é¢˜ä¸æ€»ç»“</h2><p>â“ <strong>Q1ï¼šå‡çº§å¤±è´¥å¦‚ä½•å›é€€ï¼Ÿ</strong><br>Aï¼šä½¿ç”¨å¤‡ä»½æ–‡ä»¶è¿˜åŸè‡³æ—§ç‰ˆæœ¬ MySQL å®¹å™¨ï¼Œæ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> all_2023-11-10_12-00.sql | docker <span class="built_in">exec</span> -i halodb mysql -uroot -p<span class="string">&#x27;å¯†ç &#x27;</span></span><br></pre></td></tr></table></figure><p>â“ <strong>Q2ï¼šå‡çº§å Halo åšå®¢æ— æ³•è¿æ¥æ•°æ®åº“ï¼Ÿ</strong><br>Aï¼šæ£€æŸ¥æ•°æ®åº“å­—ç¬¦é›†é…ç½®æ˜¯å¦ä¸ Halo è¦æ±‚ä¸€è‡´ï¼ˆé€šå¸¸ä¸º <code>utf8mb4</code>ï¼‰ï¼Œå¹¶éªŒè¯ç½‘ç»œè¿æ¥ã€‚åŒæ—¶æ£€æŸ¥MySQLç”¨æˆ·æƒé™æ˜¯å¦æ­£å¸¸ã€‚</p><p>â“ <strong>Q3ï¼šå‡çº§è¿‡ç¨‹ä¸­æ–­æ€ä¹ˆåŠï¼Ÿ</strong><br>Aï¼šMySQL 9.x å…·å¤‡å‡çº§äº‹åŠ¡å®Œæ•´æ€§ï¼Œä¸­æ–­åä¼šè‡ªåŠ¨å›æ»šã€‚æ£€æŸ¥æ—¥å¿—ç¡®å®šä¸­æ–­åŸå› ï¼Œè§£å†³é—®é¢˜åé‡æ–°å¯åŠ¨å‡çº§æµç¨‹ã€‚</p><p>â“ <strong>Q4ï¼šå‡çº§åæ€§èƒ½ä¸‹é™æ€ä¹ˆåŠï¼Ÿ</strong><br>Aï¼šè¿è¡Œ <code>mysql_upgrade</code> å‘½ä»¤ä¼˜åŒ–è¡¨ç»“æ„ï¼Œå¹¶é‡æ–°ç”Ÿæˆç»Ÿè®¡ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> halodb mysql_upgrade -uroot -p<span class="string">&#x27;å¯†ç &#x27;</span></span><br></pre></td></tr></table></figure><p>ğŸ¯ <strong>æ€»ç»“</strong>ï¼š</p><ul><li>ğŸ“‹ è·¨ä¸»ç‰ˆæœ¬å‡çº§éœ€è°¨æ…æ“ä½œï¼Œå¤‡ä»½ä¼˜å…ˆï¼›</li><li>âš™ï¸ é€šè¿‡ <code>--upgrade=FORCE</code> å‚æ•°è§¦å‘å…ƒæ•°æ®å‡çº§ï¼›</li><li>ğŸ”§ æ”¶å°¾æ—¶ç§»é™¤ä¸´æ—¶å‚æ•°ï¼Œé¿å…é‡å¤å‡çº§ï¼›</li><li>ğŸ§ª å»ºè®®åœ¨æµ‹è¯•ç¯å¢ƒæ¼”ç»ƒåå†å‡çº§ç”Ÿäº§ç¯å¢ƒï¼›</li><li>ğŸ“Š å‡çº§åç›‘æ§ç³»ç»Ÿæ€§èƒ½ï¼Œç¡®ä¿ç¨³å®šè¿è¡Œã€‚</li></ul><hr><blockquote><p>ğŸ”— ç›¸å…³èµ„æºï¼š<a href="https://dev.mysql.com/doc/refman/9.0/en/upgrading.html">MySQL å®˜æ–¹å‡çº§æ–‡æ¡£</a><br>ğŸ’¬ é—®é¢˜åé¦ˆï¼šå¦‚é‡åˆ°æœ¬æ–‡æœªè¦†ç›–çš„é—®é¢˜ï¼Œè¯·æŸ¥çœ‹MySQLå®˜æ–¹æ—¥å¿—æˆ–ç¤¾åŒºæ”¯æŒ</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Halo åšå®¢å‡çº§ MySQL æ•°æ®åº“æŒ‡å— ğŸš€&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://file.meimolihan.eu.org/img/mysql-01.webp&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;ğŸ“Œ &lt;strong&gt;å¯¼è¯»&lt;/strong&gt;ï¼šæœ¬æ–‡è¯¦ç»†è®°</summary>
      
    
    
    
    <category term="Docker" scheme="https://www.meimolihan.eu.org/categories/Docker/"/>
    
    
    <category term="halo" scheme="https://www.meimolihan.eu.org/tags/halo/"/>
    
  </entry>
  
  <entry>
    <title>Debian13 æœåŠ¡å™¨æ–‡ä»¶å¤‡ä»½ä¸æ¢å¤æŒ‡å— ğŸ“‚</title>
    <link href="https://www.meimolihan.eu.org/posts/29d171aa.html"/>
    <id>https://www.meimolihan.eu.org/posts/29d171aa.html</id>
    <published>2025-09-14T04:13:15.000Z</published>
    <updated>2025-09-14T04:13:15.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Debian13 æœåŠ¡å™¨æ–‡ä»¶å¤‡ä»½ä¸æ¢å¤æŒ‡å— ğŸ“‚</h1><p><img src="https://file.meimolihan.eu.org/img/debian-backup-01.webp" alt=""></p><p>æœ¬æ–‡æä¾› Debian13 æœåŠ¡å™¨æ–‡ä»¶å¤‡ä»½ä¸æ¢å¤çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼Œæ¶µç›–å¤šç§åŒæ­¥æ–¹æ³•ä¸è¯¦ç»†æ“ä½œæŒ‡å—ï¼ŒåŠ©æ‚¨æ„å»ºå¯é çš„æ•°æ®ä¿æŠ¤ç­–ç•¥ã€‚</p><hr><h2 id="å¯¼èˆªç›®å½•-ğŸ“š">å¯¼èˆªç›®å½• ğŸ“š</h2><ul><li><a href="#backup-importance">ğŸ“¦ å¤‡ä»½çš„é‡è¦æ€§ä¸ç­–ç•¥</a></li><li><a href="#local-rsync-backup">ğŸ”§ æœ¬åœ° rsync åŒæ­¥å¤‡ä»½</a><ul><li><a href="#sync-nginx-main">ğŸ“Œ åŒæ­¥ nginx ä¸»ç›®å½•</a></li><li><a href="#sync-html-dir">ğŸ“Œ åŒæ­¥ html ç›®å½•</a></li><li><a href="#sync-file-dir">ğŸ“Œ åŒæ­¥æ–‡ä»¶æœåŠ¡ç›®å½•</a></li></ul></li><li><a href="#scp-remote-backup">ğŸš€ scp è¿œç¨‹åŒæ­¥å¤‡ä»½</a><ul><li><a href="#scp-nginx-main">ğŸ“Œ åŒæ­¥ nginx ä¸»ç›®å½•</a></li><li><a href="#scp-html-dir">ğŸ“Œ åŒæ­¥ html ç›®å½•</a></li><li><a href="#scp-file-dir">ğŸ“Œ åŒæ­¥æ–‡ä»¶æœåŠ¡ç›®å½•</a></li></ul></li><li><a href="#rsync-remote-backup">âš¡ rsync è¿œç¨‹åŒæ­¥å¤‡ä»½</a><ul><li><a href="#rsync-nginx-main">ğŸ“Œ åŒæ­¥ nginx ä¸»ç›®å½•</a></li><li><a href="#rsync-html-dir">ğŸ“Œ åŒæ­¥ html ç›®å½•</a></li><li><a href="#rsync-file-dir">ğŸ“Œ åŒæ­¥æ–‡ä»¶æœåŠ¡ç›®å½•</a></li></ul></li><li><a href="#restore-operations">ğŸ”„ æ¢å¤æ“ä½œæŒ‡å—</a><ul><li><a href="#restore-from-local">ğŸ“Œ ä»æœ¬åœ°å¤‡ä»½æ¢å¤</a></li><li><a href="#restore-from-remote">ğŸ“Œ ä»è¿œç¨‹å¤‡ä»½æ¢å¤</a></li></ul></li><li><a href="#method-comparison">ğŸ“Š ä¸‰ç§æ–¹æ³•å¯¹æ¯”åˆ†æ</a></li><li><a href="#backup-best-practices">ğŸ’¡ å¤‡ä»½æœ€ä½³å®è·µ</a></li></ul><hr><p><a id="backup-importance"></a></p><h2 id="ğŸ“¦-å¤‡ä»½çš„é‡è¦æ€§ä¸ç­–ç•¥">ğŸ“¦ å¤‡ä»½çš„é‡è¦æ€§ä¸ç­–ç•¥</h2><p>æ•°æ®æ˜¯æœåŠ¡å™¨ä¸­æœ€å®è´µçš„èµ„äº§ï¼Œåˆç†çš„å¤‡ä»½ç­–ç•¥å¯ä»¥é˜²æ­¢ä»¥ä¸‹é£é™©ï¼š</p><ul><li>ğŸ”´ <strong>ç¡¬ä»¶æ•…éšœ</strong>ï¼šç£ç›˜æŸåã€æœåŠ¡å™¨å®•æœº</li><li>ğŸ”´ <strong>äººä¸ºé”™è¯¯</strong>ï¼šè¯¯åˆ é™¤ã€é”™è¯¯é…ç½®</li><li>ğŸ”´ <strong>å®‰å…¨äº‹ä»¶</strong>ï¼šå‹’ç´¢è½¯ä»¶ã€é»‘å®¢æ”»å‡»</li><li>ğŸ”´ <strong>è‡ªç„¶ç¾å®³</strong>ï¼šç«ç¾ã€æ´ªæ°´ç­‰ä¸å¯æŠ—åŠ›</li></ul><p><strong>å¤‡ä»½ 3-2-1 åŸåˆ™</strong>ï¼šè‡³å°‘ä¿ç•™ 3 ä¸ªæ•°æ®å‰¯æœ¬ï¼Œä½¿ç”¨ 2 ç§ä¸åŒä»‹è´¨ï¼Œå…¶ä¸­ 1 ä»½ä¸ºå¼‚åœ°å¤‡ä»½ã€‚</p><hr><p><a id="local-rsync-backup"></a></p><h2 id="ğŸ”§-æœ¬åœ°-rsync-åŒæ­¥å¤‡ä»½">ğŸ”§ æœ¬åœ° rsync åŒæ­¥å¤‡ä»½</h2><p>rsync æ˜¯ Linux ä¸‹å¼ºå¤§çš„æ–‡ä»¶åŒæ­¥å·¥å…·ï¼Œæ”¯æŒå¢é‡å¤‡ä»½å’Œå±æ€§ä¿ç•™ã€‚</p><p><a id="sync-nginx-main"></a></p><h3 id="ğŸ“Œ-åŒæ­¥-nginx-ä¸»ç›®å½•">ğŸ“Œ åŒæ­¥ nginx ä¸»ç›®å½•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æµ‹è¯•åŒæ­¥ï¼ˆå¹²è·‘æ¨¡å¼ï¼‰</span></span><br><span class="line">rsync -avhzL --progress --delete-delay --dry-run \</span><br><span class="line">    /etc/nginx/ \</span><br><span class="line">    <span class="string">&quot;/mnt/smb_fnos/é˜¿é‡Œäº‘ç›˜/æ•™ç¨‹æ–‡ä»¶/Debian13/backup/nginx-æ ‡å‡†ç‰ˆ/nginx/&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®é™…åŒæ­¥</span></span><br><span class="line">rsync -avhz --progress --delete-delay --mkpath \</span><br><span class="line">    /etc/nginx/ \</span><br><span class="line">    /mnt/smb_fnos/é˜¿é‡Œäº‘ç›˜/æ•™ç¨‹æ–‡ä»¶/Debian13/backup/nginx-æ ‡å‡†ç‰ˆ/nginx/</span><br></pre></td></tr></table></figure><p><a id="sync-html-dir"></a></p><h3 id="ğŸ“Œ-åŒæ­¥-html-ç›®å½•">ğŸ“Œ åŒæ­¥ html ç›®å½•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rsync -avzh --progress --delete-delay --mkpath \</span><br><span class="line">    /var/www/html/ \</span><br><span class="line">    /mnt/smb_fnos/é˜¿é‡Œäº‘ç›˜/æ•™ç¨‹æ–‡ä»¶/Debian13/backup/nginx-æ ‡å‡†ç‰ˆ/html/</span><br></pre></td></tr></table></figure><p><a id="sync-file-dir"></a></p><h3 id="ğŸ“Œ-åŒæ­¥æ–‡ä»¶æœåŠ¡ç›®å½•">ğŸ“Œ åŒæ­¥æ–‡ä»¶æœåŠ¡ç›®å½•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rsync -avzh --progress --delete-delay --mkpath \</span><br><span class="line">    /mnt/file/ \</span><br><span class="line">    /mnt/smb_fnos/é˜¿é‡Œäº‘ç›˜/æ•™ç¨‹æ–‡ä»¶/Debian13/backup/file/</span><br></pre></td></tr></table></figure><p><strong>âœ¨ å‚æ•°è¯´æ˜</strong>ï¼š</p><ul><li><code>-a</code>ï¼šå½’æ¡£æ¨¡å¼ï¼Œä¿ç•™æ–‡ä»¶å±æ€§</li><li><code>-v</code>ï¼šè¯¦ç»†è¾“å‡º</li><li><code>-h</code>ï¼šäººç±»å¯è¯»æ ¼å¼</li><li><code>-z</code>ï¼šå‹ç¼©ä¼ è¾“</li><li><code>--progress</code>ï¼šæ˜¾ç¤ºä¼ è¾“è¿›åº¦</li><li><code>--delete-delay</code>ï¼šåŒæ­¥ååˆ é™¤ç›®æ ‡ç«¯å¤šä½™æ–‡ä»¶</li><li><code>--mkpath</code>ï¼šè‡ªåŠ¨åˆ›å»ºç›®æ ‡è·¯å¾„</li></ul><p><strong>âœ… æ•ˆæœï¼š å®Œç¾åŒæ­¥æ‰€æœ‰éšè—æ–‡ä»¶ã€‚</strong><br>âœ¨ åŸå› ï¼š -a (archive) å‚æ•°åŒ…å«äº† -r (recursive)ï¼Œå®ƒä¼šé€’å½’å¤åˆ¶æºç›®å½• /etc/nginx/ ä¸‹çš„æ‰€æœ‰å†…å®¹å’Œå­ç›®å½•ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶ã€‚è¿™æ˜¯ rsync çš„é»˜è®¤è¡Œä¸ºï¼Œä¹Ÿæ˜¯æœ€å¯é çš„æ–¹å¼ã€‚</p><hr><p><a id="scp-remote-backup"></a></p><h2 id="ğŸš€-scp-è¿œç¨‹åŒæ­¥å¤‡ä»½">ğŸš€ scp è¿œç¨‹åŒæ­¥å¤‡ä»½</h2><p>scp åŸºäº SSH åè®®ï¼Œé€‚åˆç®€å•çš„æ–‡ä»¶ä¼ è¾“ä»»åŠ¡ã€‚</p><p><a id="scp-nginx-main"></a></p><h3 id="ğŸ“Œ-åŒæ­¥-nginx-ä¸»ç›®å½•-2">ğŸ“Œ åŒæ­¥ nginx ä¸»ç›®å½•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scp -P 22 -r \</span><br><span class="line">    /etc/nginx/. \</span><br><span class="line">    root@10.10.10.251:/vol2/1000/é˜¿é‡Œäº‘ç›˜/æ•™ç¨‹æ–‡ä»¶/Debian13/backup/nginx-æ ‡å‡†ç‰ˆ/nginx/</span><br></pre></td></tr></table></figure><p><a id="scp-html-dir"></a></p><h3 id="ğŸ“Œ-åŒæ­¥-html-ç›®å½•-2">ğŸ“Œ åŒæ­¥ html ç›®å½•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scp -P 22 -r \</span><br><span class="line">    /var/www/html/. \</span><br><span class="line">    root@10.10.10.251:/vol2/1000/é˜¿é‡Œäº‘ç›˜/æ•™ç¨‹æ–‡ä»¶/Debian13/backup/nginx-æ ‡å‡†ç‰ˆ/html/</span><br></pre></td></tr></table></figure><p><a id="scp-file-dir"></a></p><h3 id="ğŸ“Œ-åŒæ­¥æ–‡ä»¶æœåŠ¡ç›®å½•-2">ğŸ“Œ åŒæ­¥æ–‡ä»¶æœåŠ¡ç›®å½•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scp -P 22 -r \</span><br><span class="line">    /mnt/file/ \</span><br><span class="line">    root@10.10.10.251:/vol2/1000/é˜¿é‡Œäº‘ç›˜/æ•™ç¨‹æ–‡ä»¶/Debian13/backup/file/</span><br></pre></td></tr></table></figure><p><strong>âœ¨ å‚æ•°è¯´æ˜</strong>ï¼š</p><ul><li><code>-P 22</code>ï¼šæŒ‡å®š SSH ç«¯å£ï¼ˆé»˜è®¤22å¯çœç•¥ï¼‰</li><li><code>-r</code>ï¼šé€’å½’å¤åˆ¶æ•´ä¸ªç›®å½•</li><li><code>.</code> ä¸ <code>/</code> çš„åŒºåˆ«ï¼šä½¿ç”¨ <code>/etc/nginx/.</code> å¯åŒ…å«éšè—æ–‡ä»¶</li></ul><p><strong>âœ… æ•ˆæœï¼š å¯ä»¥åŒæ­¥éšè—æ–‡ä»¶ã€‚</strong></p><ul><li>âœ¨ åŸå› ï¼š å…³é”®åœ¨äºæ‚¨æºè·¯å¾„çš„å†™æ³• /etc/nginx/.ã€‚æœ«å°¾çš„ /. æ˜ç¡®å‘Šè¯‰ SCP å‘½ä»¤â€œå¤åˆ¶è¿™ä¸ªç›®å½•é‡Œé¢çš„æ‰€æœ‰å†…å®¹â€ï¼Œè€Œä¸ä»…ä»…æ˜¯ç›®å½•æœ¬èº«ã€‚è¿™ä¸ªè¯­æ³•åŒ…å«äº†æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼ŒåŒ…æ‹¬éšè—çš„ã€‚</li><li>âš ï¸ æ³¨æ„ï¼š å¦‚æœæ‚¨å°†å‘½ä»¤å†™æˆ /etc/nginx æˆ– /etc/nginx/ï¼ˆæ²¡æœ‰æœ€åçš„ .ï¼‰ï¼ŒSCP å°†æ— æ³•åŒæ­¥éšè—æ–‡ä»¶ã€‚æ‚¨çš„å†™æ³•æ˜¯æ­£ç¡®çš„ã€‚</li></ul><hr><p><a id="rsync-remote-backup"></a></p><h2 id="âš¡-rsync-è¿œç¨‹åŒæ­¥å¤‡ä»½">âš¡ rsync è¿œç¨‹åŒæ­¥å¤‡ä»½</h2><p>rsync è¿œç¨‹æ¨¡å¼ç»“åˆäº†æœ¬åœ°åŒæ­¥çš„é«˜æ•ˆå’Œè¿œç¨‹æ“ä½œçš„ä¾¿åˆ©æ€§ã€‚</p><p><a id="rsync-nginx-main"></a></p><h3 id="ğŸ“Œ-åŒæ­¥-nginx-ä¸»ç›®å½•-3">ğŸ“Œ åŒæ­¥ nginx ä¸»ç›®å½•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rsync -avzP \</span><br><span class="line">    /etc/nginx/ \</span><br><span class="line">    root@10.10.10.251:/vol2/1000/é˜¿é‡Œäº‘ç›˜/æ•™ç¨‹æ–‡ä»¶/Debian13/backup/nginx-æ ‡å‡†ç‰ˆ/nginx/</span><br></pre></td></tr></table></figure><p><a id="rsync-html-dir"></a></p><h3 id="ğŸ“Œ-åŒæ­¥-html-ç›®å½•-3">ğŸ“Œ åŒæ­¥ html ç›®å½•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rsync -avzP \</span><br><span class="line">    /var/www/html/ \</span><br><span class="line">    root@10.10.10.251:/vol2/1000/é˜¿é‡Œäº‘ç›˜/æ•™ç¨‹æ–‡ä»¶/Debian13/backup/nginx-æ ‡å‡†ç‰ˆ/html/</span><br></pre></td></tr></table></figure><p><a id="rsync-file-dir"></a></p><h3 id="ğŸ“Œ-åŒæ­¥æ–‡ä»¶æœåŠ¡ç›®å½•-3">ğŸ“Œ åŒæ­¥æ–‡ä»¶æœåŠ¡ç›®å½•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rsync -avzP \</span><br><span class="line">    /mnt/file/ \</span><br><span class="line">    root@10.10.10.251:/vol2/1000/é˜¿é‡Œäº‘ç›˜/æ•™ç¨‹æ–‡ä»¶/Debian13/backup/file/</span><br></pre></td></tr></table></figure><p><strong>âœ¨ å‚æ•°è¯´æ˜</strong>ï¼š</p><ul><li><code>-P</code>ï¼šç­‰åŒäº <code>--partial --progress</code>ï¼ˆä¿ç•™éƒ¨åˆ†æ–‡ä»¶å¹¶æ˜¾ç¤ºè¿›åº¦ï¼‰</li><li><code>-z</code>ï¼šå‹ç¼©ä¼ è¾“ï¼ŒèŠ‚çœå¸¦å®½</li></ul><p><strong>âœ… æ•ˆæœï¼š å®Œç¾åŒæ­¥æ‰€æœ‰éšè—æ–‡ä»¶ã€‚</strong></p><ul><li>âœ¨ åŸå› ï¼š å’Œæœ¬åœ° rsync ä¸€æ ·ï¼Œ-a å‚æ•°ä¿è¯äº†å®ƒä¼šé€’å½’å¤„ç†æºç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶ã€‚è¿™æ˜¯åŒæ­¥éšè—æ–‡ä»¶åˆ°è¿œç¨‹æœåŠ¡å™¨çš„æœ€ä½³æ–¹å¼ã€‚</li></ul><hr><p><a id="restore-operations"></a></p><h2 id="ğŸ”„-æ¢å¤æ“ä½œæŒ‡å—">ğŸ”„ æ¢å¤æ“ä½œæŒ‡å—</h2><p><a id="restore-from-local"></a></p><h3 id="ğŸ“Œ-ä»æœ¬åœ°å¤‡ä»½æ¢å¤">ğŸ“Œ ä»æœ¬åœ°å¤‡ä»½æ¢å¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¢å¤ nginx é…ç½®</span></span><br><span class="line">rsync -avzh --progress --mkpath \</span><br><span class="line">    /mnt/smb_fnos/é˜¿é‡Œäº‘ç›˜/æ•™ç¨‹æ–‡ä»¶/Debian13/backup/nginx-æ ‡å‡†ç‰ˆ/nginx/ \</span><br><span class="line">    /etc/nginx/</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¢å¤ç½‘ç«™æ–‡ä»¶</span></span><br><span class="line">rsync -avzh --progress --mkpath \</span><br><span class="line">    /mnt/smb_fnos/é˜¿é‡Œäº‘ç›˜/æ•™ç¨‹æ–‡ä»¶/Debian13/backup/nginx-æ ‡å‡†ç‰ˆ/html/ \</span><br><span class="line">    /var/www/html/</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¢å¤æ–‡ä»¶æœåŠ¡</span></span><br><span class="line">rsync -avzh --progress --mkpath \</span><br><span class="line">    /mnt/smb_fnos/é˜¿é‡Œäº‘ç›˜/æ•™ç¨‹æ–‡ä»¶/Debian13/backup/file/ \</span><br><span class="line">    /mnt/file/</span><br></pre></td></tr></table></figure><p><a id="restore-from-remote"></a></p><h3 id="ğŸ“Œ-ä»è¿œç¨‹å¤‡ä»½æ¢å¤">ğŸ“Œ ä»è¿œç¨‹å¤‡ä»½æ¢å¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ rsync ä»è¿œç¨‹æ¢å¤ nginx é…ç½®</span></span><br><span class="line">rsync -avzP \</span><br><span class="line">    root@10.10.10.251:/vol2/1000/é˜¿é‡Œäº‘ç›˜/æ•™ç¨‹æ–‡ä»¶/Debian13/backup/nginx-æ ‡å‡†ç‰ˆ/nginx/ \</span><br><span class="line">    /etc/nginx/</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ scp ä»è¿œç¨‹æ¢å¤ç½‘ç«™æ–‡ä»¶</span></span><br><span class="line">scp -P 22 -r \</span><br><span class="line">    root@10.10.10.251:/vol2/1000/é˜¿é‡Œäº‘ç›˜/æ•™ç¨‹æ–‡ä»¶/Debian13/backup/nginx-æ ‡å‡†ç‰ˆ/html/. \</span><br><span class="line">    /var/www/html/</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ rsync ä»è¿œç¨‹æ¢å¤æ–‡ä»¶æœåŠ¡</span></span><br><span class="line">rsync -avzP \</span><br><span class="line">    root@10.10.10.251:/vol2/1000/é˜¿é‡Œäº‘ç›˜/æ•™ç¨‹æ–‡ä»¶/Debian13/backup/file/ \</span><br><span class="line">    /mnt/file/</span><br></pre></td></tr></table></figure><blockquote><p><strong>âš ï¸ é‡è¦æç¤º</strong>ï¼šæ¢å¤æ“ä½œä¼šè¦†ç›–ç›®æ ‡ç›®å½•ä¸­çš„ç°æœ‰æ–‡ä»¶ï¼Œæ‰§è¡Œå‰è¯·åŠ¡å¿…ï¼š</p><ol><li>ç¡®è®¤å¤‡ä»½æ•°æ®çš„å®Œæ•´æ€§å’Œæ­£ç¡®æ€§</li><li>å¯¹å½“å‰çŠ¶æ€åšä¸€æ¬¡å¿«ç…§å¤‡ä»½</li><li>åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯æ¢å¤æµç¨‹</li></ol></blockquote><hr><p><a id="method-comparison"></a></p><h2 id="ğŸ“Š-ä¸‰ç§æ–¹æ³•å¯¹æ¯”åˆ†æ">ğŸ“Š ä¸‰ç§æ–¹æ³•å¯¹æ¯”åˆ†æ</h2><table><thead><tr><th style="text-align:left">ç‰¹æ€§ç»´åº¦</th><th style="text-align:left">ğŸ”§ æœ¬åœ° rsync åŒæ­¥</th><th style="text-align:left">ğŸš€ scp è¿œç¨‹åŒæ­¥</th><th style="text-align:left">âš¡ rsync è¿œç¨‹åŒæ­¥</th></tr></thead><tbody><tr><td style="text-align:left"><strong>é€Ÿåº¦æ€§èƒ½</strong></td><td style="text-align:left">â­â­â­â­â­<br>æå¿«ï¼ˆæ— ç½‘ç»œå»¶è¿Ÿï¼‰</td><td style="text-align:left">â­â­â˜†â˜†â˜†<br>è¾ƒæ…¢ï¼ˆå…¨é‡ä¼ è¾“ï¼‰</td><td style="text-align:left">â­â­â­â­â˜†<br>å¾ˆå¿«ï¼ˆå¢é‡åŒæ­¥ï¼‰</td></tr><tr><td style="text-align:left"><strong>å¸¦å®½æ•ˆç‡</strong></td><td style="text-align:left">ä¸å ç”¨ç½‘ç»œå¸¦å®½</td><td style="text-align:left">æ•ˆç‡ä½ï¼ˆå…¨é‡ä¼ è¾“ï¼‰</td><td style="text-align:left">æ•ˆç‡é«˜ï¼ˆåªä¼ å·®å¼‚éƒ¨åˆ†ï¼‰</td></tr><tr><td style="text-align:left"><strong>å±æ€§ä¿ç•™</strong></td><td style="text-align:left">å®Œç¾ä¿ç•™æ‰€æœ‰å±æ€§</td><td style="text-align:left">é»˜è®¤ä¸ä¿ç•™æ‰€æœ‰å±æ€§</td><td style="text-align:left">å®Œç¾ä¿ç•™æ‰€æœ‰å±æ€§</td></tr><tr><td style="text-align:left"><strong>å¯é æ€§</strong></td><td style="text-align:left">é«˜</td><td style="text-align:left">é«˜ï¼ˆåŸºäºSSHï¼‰</td><td style="text-align:left">é«˜ï¼ˆæ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼‰</td></tr><tr><td style="text-align:left"><strong>æ˜“ç”¨æ€§</strong></td><td style="text-align:left">ä¸­ç­‰ï¼ˆéœ€æŒ‚è½½è¿œç¨‹ç›®å½•ï¼‰</td><td style="text-align:left">éå¸¸ç®€å•ï¼ˆç›´æ¥ä½¿ç”¨ï¼‰</td><td style="text-align:left">ä¸­ç­‰ï¼ˆå‘½ä»¤ç¨å¤æ‚ï¼‰</td></tr><tr><td style="text-align:left"><strong>é€‚ç”¨åœºæ™¯</strong></td><td style="text-align:left">å·²æŒ‚è½½NASçš„æ—¥å¸¸å¤‡ä»½</td><td style="text-align:left">ä¸´æ—¶å°‘é‡æ–‡ä»¶ä¼ è¾“</td><td style="text-align:left">å¸¸è§„è¿œç¨‹å¼‚åœ°å¤‡ä»½</td></tr></tbody></table><p><strong>é€‰æ‹©å»ºè®®</strong>ï¼š</p><ul><li>ğŸ  <strong>æœ¬åœ° rsync</strong>ï¼šé€‚åˆå·²å°†è¿œç¨‹å­˜å‚¨æŒ‚è½½åˆ°æœ¬åœ°çš„æ—¥å¸¸è‡ªåŠ¨åŒ–å¤‡ä»½</li><li>ğŸš€ <strong>scp</strong>ï¼šé€‚åˆä¸´æ—¶ä¼ è¾“å°‘é‡æ–‡ä»¶ï¼Œç®€å•å¿«æ·</li><li>âš¡ <strong>è¿œç¨‹ rsync</strong>ï¼šé€‚åˆè®¾ç½®å®šæœŸè¿œç¨‹å¤‡ä»½ä»»åŠ¡ï¼Œæ•ˆç‡æœ€é«˜</li></ul><hr><p><a id="backup-best-practices"></a></p><h2 id="ğŸ’¡-å¤‡ä»½æœ€ä½³å®è·µ">ğŸ’¡ å¤‡ä»½æœ€ä½³å®è·µ</h2><h3 id="1-è‡ªåŠ¨åŒ–å¤‡ä»½ç­–ç•¥">1. è‡ªåŠ¨åŒ–å¤‡ä»½ç­–ç•¥</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¯æ—¥å‡Œæ™¨2ç‚¹è‡ªåŠ¨å¤‡ä»½nginxé…ç½®</span></span><br><span class="line">0 2 * * * /usr/bin/rsync -avz --delete /etc/nginx/ /mnt/backup/nginx/</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¯å‘¨æ—¥å‡Œæ™¨1ç‚¹å…¨é‡å¤‡ä»½</span></span><br><span class="line">0 1 * * 0 /root/scripts/full-backup.sh</span><br></pre></td></tr></table></figure><h3 id="2-å¤šç‰ˆæœ¬å¤‡ä»½ç­–ç•¥">2. å¤šç‰ˆæœ¬å¤‡ä»½ç­–ç•¥</h3><p>ä¿ç•™å¤šä¸ªæ—¶é—´ç‚¹çš„å¤‡ä»½ç‰ˆæœ¬ï¼š</p><ul><li>ä¿ç•™æœ€è¿‘7å¤©çš„æ¯æ—¥å¤‡ä»½</li><li>ä¿ç•™æœ€è¿‘4å‘¨çš„æ¯å‘¨å¤‡ä»½</li><li>ä¿ç•™æœ€è¿‘3ä¸ªæœˆçš„æœˆåº¦å¤‡ä»½</li></ul><h3 id="3-å¤‡ä»½éªŒè¯ç­–ç•¥">3. å¤‡ä»½éªŒè¯ç­–ç•¥</h3><p>å®šæœŸæ£€æŸ¥å¤‡ä»½çš„æœ‰æ•ˆæ€§ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥å¤‡ä»½å®Œæ•´æ€§</span></span><br><span class="line">rsync -n -avhi --delete /mnt/backup/nginx/ /etc/nginx/ | <span class="built_in">head</span> -20</span><br><span class="line"></span><br><span class="line"><span class="comment"># éšæœºæ¢å¤æµ‹è¯•</span></span><br><span class="line"><span class="built_in">mkdir</span> /tmp/backup-test &amp;&amp; rsync -av /mnt/backup/html/ /tmp/backup-test/</span><br></pre></td></tr></table></figure><h3 id="4-å®‰å…¨åŠ å›ºæªæ–½">4. å®‰å…¨åŠ å›ºæªæ–½</h3><ul><li>ğŸ” å¯¹æ•æ„Ÿæ•°æ®åŠ å¯†å¤‡ä»½</li><li>ğŸ‘® ä¸¥æ ¼æ§åˆ¶å¤‡ä»½ç›®å½•æƒé™</li><li>ğŸ“ è¯¦ç»†è®°å½•å¤‡ä»½æ—¥å¿—</li><li>ğŸš¨ è®¾ç½®å¤‡ä»½å¤±è´¥å‘Šè­¦æœºåˆ¶</li></ul><h3 id="5-ç›‘æ§ä¸å‘Šè­¦">5. ç›‘æ§ä¸å‘Šè­¦</h3><p>è®¾ç½®ç›‘æ§é¡¹ï¼š</p><ul><li>å¤‡ä»½ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€</li><li>å¤‡ä»½æ–‡ä»¶å¤§å°å˜åŒ–</li><li>å¤‡ä»½å­˜å‚¨ç©ºé—´ä½¿ç”¨ç‡</li><li>æœ€åä¸€æ¬¡æˆåŠŸå¤‡ä»½æ—¶é—´</li></ul><hr><blockquote><p><strong>ğŸ’ æ ¸å¿ƒå»ºè®®</strong>ï¼šæ²¡æœ‰å®Œç¾çš„å¤‡ä»½æ–¹æ¡ˆï¼Œåªæœ‰é€‚åˆçš„å¤‡ä»½ç­–ç•¥ã€‚æœ€é‡è¦çš„æ˜¯å®šæœŸæµ‹è¯•æ¢å¤æµç¨‹ï¼Œç¡®ä¿åœ¨éœ€è¦æ—¶èƒ½å¤Ÿå¿«é€Ÿå¯é åœ°æ¢å¤æ•°æ®ã€‚</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Debian13 æœåŠ¡å™¨æ–‡ä»¶å¤‡ä»½ä¸æ¢å¤æŒ‡å— ğŸ“‚&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://file.meimolihan.eu.org/img/debian-backup-01.webp&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡æä¾› Debian13 æœåŠ¡å™¨æ–‡ä»¶å¤‡</summary>
      
    
    
    
    <category term="Linux" scheme="https://www.meimolihan.eu.org/categories/Linux/"/>
    
    
    <category term="debian" scheme="https://www.meimolihan.eu.org/tags/debian/"/>
    
  </entry>
  
  <entry>
    <title>Nginx é…ç½®å¤‡ä»½ä¸æ¢å¤æŒ‡å— ğŸ”</title>
    <link href="https://www.meimolihan.eu.org/posts/d51d958e.html"/>
    <id>https://www.meimolihan.eu.org/posts/d51d958e.html</id>
    <published>2025-09-14T02:31:37.000Z</published>
    <updated>2025-09-14T02:31:37.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Nginx é…ç½®å¤‡ä»½ä¸æ¢å¤æŒ‡å— ğŸ”</h1><p><img src="https://file.meimolihan.eu.org/img/nginx-01.webp" alt=""></p><blockquote><p>ä¸ºç¡®ä¿æ‚¨çš„ Nginx æœåŠ¡å™¨ç¨³å®šè¿è¡Œï¼Œå®šæœŸå¤‡ä»½å’ŒæŒæ¡æ¢å¤æ–¹æ³•è‡³å…³é‡è¦ã€‚æœ¬æ–‡å…¨é¢ä»‹ç»äº†å¤šç§ Nginx å¤‡ä»½ä¸æ¢å¤ç­–ç•¥ï¼Œä»ç®€å•çš„å‹ç¼©å¤‡ä»½åˆ°é«˜æ•ˆçš„åŒæ­¥æ–¹æ¡ˆï¼ŒåŠ©æ‚¨æ„å»ºå®Œæ•´çš„æ•°æ®ä¿æŠ¤ä½“ç³»ã€‚</p></blockquote><hr><h2 id="ğŸ“š-æ–‡ç« å¯¼èˆªç›®å½•">ğŸ“š æ–‡ç« å¯¼èˆªç›®å½•</h2><ul><li><a href="#preface-why-backup-nginx">ğŸ’¡ å‰è¨€ï¼šä¸ºä½•éœ€è¦å¤‡ä»½ Nginxï¼Ÿ</a></li><li><a href="#method-one-backup-with-zip">ğŸ“¦ æ–¹æ³•ä¸€ï¼šä½¿ç”¨ ZIP å‹ç¼©å¤‡ä»½</a><ul><li><a href="#features-and-functions-zip">âœ¨ ç‰¹ç‚¹ä¸åŠŸèƒ½</a></li><li><a href="#commands-zip">ğŸ”§ æ“ä½œå‘½ä»¤</a></li></ul></li><li><a href="#method-two-backup-with-targz">ğŸ—‚ï¸ æ–¹æ³•äºŒï¼šä½¿ç”¨ TAR.GZ å‹ç¼©å¤‡ä»½</a><ul><li><a href="#features-and-functions-tar">âœ¨ ç‰¹ç‚¹ä¸åŠŸèƒ½</a></li><li><a href="#commands-tar">ğŸ”§ æ“ä½œå‘½ä»¤</a></li></ul></li><li><a href="#method-three-backup-with-rsync">ğŸ”„ æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ Rsync åŒæ­¥å¤‡ä»½</a><ul><li><a href="#features-and-functions-rsync">âœ¨ ç‰¹ç‚¹ä¸åŠŸèƒ½</a></li><li><a href="#commands-rsync">ğŸ”§ æ“ä½œå‘½ä»¤</a></li></ul></li><li><a href="#backup-summary-and-comparison">ğŸ“Š å¤‡ä»½æ–¹æ³•æ€»ç»“ä¸å¯¹æ¯”</a></li><li><a href="#pre-restore-preparation">ğŸ›¡ï¸ æ¢å¤å‰çš„å‡†å¤‡å·¥ä½œ</a></li><li><a href="#restore-from-backups">ğŸ“¤ ä»å„ç§å¤‡ä»½æ¢å¤</a><ul><li><a href="#restore-from-zip">ä» ZIP å¤‡ä»½æ¢å¤</a><ul><li><a href="#zip-restore-commands">æ“ä½œå‘½ä»¤</a></li></ul></li><li><a href="#restore-from-targz">ä» TAR.GZ å¤‡ä»½æ¢å¤</a><ul><li><a href="#targz-restore-commands">æ“ä½œå‘½ä»¤</a></li><li><a href="#targz-restore-scenarios">ä¸åŒå‹ç¼©æ–¹å¼çš„æ¢å¤åœºæ™¯</a></li></ul></li><li><a href="#restore-from-rsync">ä» Rsync å¤‡ä»½æ¢å¤</a><ul><li><a href="#rsync-restore-commands">æ“ä½œå‘½ä»¤</a></li><li><a href="#rsync-restore-warning">é‡è¦è­¦å‘Š</a></li></ul></li></ul></li><li><a href="#post-restore-actions">âœ… æ¢å¤åçš„å¿…è¦æ“ä½œ</a></li><li><a href="#notes-and-faq">ğŸš¨ æ³¨æ„äº‹é¡¹ä¸å¸¸è§é—®é¢˜</a></li><li><a href="#complete-process-summary">ğŸ¯ å®Œæ•´å¤‡ä»½ä¸æ¢å¤æµç¨‹æ€»ç»“</a></li></ul><hr><p><a id="preface-why-backup-nginx"></a></p><h2 id="ğŸ’¡-å‰è¨€ï¼šä¸ºä½•éœ€è¦å¤‡ä»½-Nginxï¼Ÿ">ğŸ’¡ å‰è¨€ï¼šä¸ºä½•éœ€è¦å¤‡ä»½ Nginxï¼Ÿ</h2><p>Nginx çš„é…ç½®æ˜¯å…¶æ ¸å¿ƒï¼ŒåŒ…å«äº†ç½‘ç«™åŸŸåã€åå‘ä»£ç†è§„åˆ™ã€è´Ÿè½½å‡è¡¡è®¾ç½®ã€SSL è¯ä¹¦è·¯å¾„ç­‰å…³é”®ä¿¡æ¯ã€‚ä¸€æ—¦å› ä¸ºè¯¯æ“ä½œã€æœåŠ¡å™¨ç£ç›˜æ•…éšœæˆ–è½¯ä»¶å†²çªå¯¼è‡´é…ç½®ä¸¢å¤±æˆ–æŸåï¼Œå¯èƒ½ä¼šé€ æˆæœåŠ¡é•¿æ—¶é—´ä¸­æ–­ã€‚å®šæœŸå¤‡ä»½å¯ä»¥å¸®åŠ©æ‚¨ï¼š</p><ul><li><strong>å¿«é€Ÿæ¢å¤</strong> âš¡ï¼šåœ¨å‡ºç°é—®é¢˜æ—¶ï¼Œè¿…é€Ÿè¿˜åŸè‡³æœ€æ–°å¯ç”¨çš„çŠ¶æ€ã€‚</li><li><strong>ç‰ˆæœ¬è¿½æº¯</strong> ğŸ”ï¼šä¿ç•™å†å²ç‰ˆæœ¬ï¼Œä¾¿äºå¯¹æ¯”æ›´æ”¹æˆ–å›æ»šåˆ°ç‰¹å®šç‰ˆæœ¬ã€‚</li><li><strong>è¿ç§»ä¾¿åˆ©</strong> ğŸššï¼šåœ¨æ–°æœåŠ¡å™¨ä¸Šå¿«é€Ÿéƒ¨ç½²ç›¸åŒçš„ Nginx ç¯å¢ƒã€‚</li></ul><p>ğŸ”” <strong>å¤‡ä»½æ ¸å¿ƒç›®æ ‡</strong>ï¼šé€šå¸¸éœ€è¦å¤‡ä»½ <code>/etc/nginx/</code> ç›®å½•ï¼ˆåŒ…å«ä¸»é…ç½®æ–‡ä»¶ <code>nginx.conf</code> å’Œ <code>sites-available/</code> ç­‰ï¼‰ä»¥åŠ <code>/var/www/html/</code> æˆ–æ‚¨çš„è‡ªå®šä¹‰ç½‘ç«™æ ¹ç›®å½•ã€‚</p><p><a id="method-one-backup-with-zip"></a></p><h2 id="ğŸ“¦-æ–¹æ³•ä¸€ï¼šä½¿ç”¨-ZIP-å‹ç¼©å¤‡ä»½">ğŸ“¦ æ–¹æ³•ä¸€ï¼šä½¿ç”¨ ZIP å‹ç¼©å¤‡ä»½</h2><p>ZIP æ˜¯ä¸€ç§è·¨å¹³å°ã€é€šç”¨çš„å‹ç¼©æ ¼å¼ï¼Œåœ¨ Windows å’Œ Linux ç³»ç»Ÿä¸Šéƒ½èƒ½è½»æ¾æ‰“å¼€å’Œå¤„ç†ï¼Œéå¸¸é€‚åˆéœ€è¦åœ¨ä¸åŒç¯å¢ƒé—´ä¼ è¾“çš„å¤‡ä»½ã€‚</p><p><a id="features-and-functions-zip"></a></p><h3 id="âœ¨-ç‰¹ç‚¹ä¸åŠŸèƒ½">âœ¨ ç‰¹ç‚¹ä¸åŠŸèƒ½</h3><ul><li><strong>é€šç”¨æ€§å¼º</strong> ğŸŒï¼šå‡ ä¹æ‰€æœ‰æ“ä½œç³»ç»Ÿéƒ½å†…ç½®æˆ–æ˜“äºå®‰è£…è§£å‹æ”¯æŒã€‚</li><li><strong>å…¼å®¹æ€§å¥½</strong> ğŸ¤ï¼šä¾¿äºåˆ†äº«ç»™å…¶ä»–å›¢é˜Ÿæˆå‘˜ï¼Œæ— éœ€æ‹…å¿ƒç¯å¢ƒé—®é¢˜ã€‚</li><li><strong>å¯è®¾ç½®å¯†ç </strong> ğŸ”’ï¼šæ”¯æŒä½¿ç”¨å¯†ç åŠ å¯†å‹ç¼©åŒ…ï¼Œä¿æŠ¤æ•æ„Ÿé…ç½®ï¼ˆå¦‚ SSL è¯ä¹¦å¯†é’¥ï¼‰ã€‚</li><li><strong>çµæ´»æ€§é«˜</strong> ğŸ§©ï¼šå¯ä»¥è‡ªç”±é€‰æ‹©æ˜¯å¦é€’å½’å‹ç¼©ã€æ’é™¤ç‰¹å®šæ–‡ä»¶ç­‰ã€‚</li></ul><p><a id="commands-zip"></a></p><h3 id="ğŸ”§-æ“ä½œå‘½ä»¤">ğŸ”§ æ“ä½œå‘½ä»¤</h3><p><a id="recursive-compression-common-practice"></a></p><h4 id="1-é€’å½’å‹ç¼©ï¼ˆå¸¸è§åšæ³•ï¼‰">1. é€’å½’å‹ç¼©ï¼ˆå¸¸è§åšæ³•ï¼‰</h4><p>æ­¤å‘½ä»¤ä¼šå¤‡ä»½ <code>/etc/nginx</code> ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‹ç¼©å¹¶å¸¦ä¸Šæ—¥æœŸ</span></span><br><span class="line">zip -r /mnt/backup/nginx-backup-$(<span class="built_in">date</span> +%Y%m%d).zip /etc/nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£é‡Šï¼š</span></span><br><span class="line"><span class="comment"># -r å‚æ•°ï¼šé€’å½’å¤„ç†ï¼Œå‹ç¼©ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶ã€‚</span></span><br><span class="line"><span class="comment"># $(date +%Y%m%d): shell å‘½ä»¤ï¼Œç”Ÿæˆå½“å‰æ—¥æœŸï¼ˆä¾‹å¦‚ï¼š20230915ï¼‰ï¼Œç”¨äºæ–‡ä»¶åã€‚</span></span><br></pre></td></tr></table></figure><p><a id="non-recursive-compression-top-level-only"></a></p><h4 id="2-éé€’å½’å‹ç¼©ï¼ˆä»…é¡¶çº§ç›®å½•ï¼‰">2. éé€’å½’å‹ç¼©ï¼ˆä»…é¡¶çº§ç›®å½•ï¼‰</h4><p>æ ¹æ®æ‚¨çš„éœ€æ±‚ï¼Œå¦‚æœåªæƒ³å¤‡ä»½ <code>/etc/nginx</code> ç¬¬ä¸€å±‚çš„æ–‡ä»¶å’Œç›®å½•ï¼ˆä½†ä¸å‹ç¼©å®ƒä»¬é‡Œé¢çš„å†…å®¹ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ <code>find</code> å‘½ä»¤ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># éé€’å½’å‹ç¼©ï¼šä»…å¤‡ä»½ /etc/nginx ä¸‹çš„ç›´æ¥æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼ˆå…¶å†…å®¹ä¸å‹ç¼©ï¼‰</span></span><br><span class="line">find /etc/nginx -maxdepth 1 -mindepth 1 -<span class="built_in">exec</span> zip /mnt/backup/nginx-backup-$(<span class="built_in">date</span> +%Y%m%d).zip &#123;&#125; +</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£é‡Šï¼š</span></span><br><span class="line"><span class="comment"># find ... -exec ... + : æ‰¾åˆ°æŒ‡å®šçš„æ–‡ä»¶åˆ—è¡¨å¹¶å°†å…¶ä¼ é€’ç»™ zip å‘½ä»¤ã€‚</span></span><br><span class="line"><span class="comment"># -maxdepth 1: åªæŸ¥æ‰¾ç¬¬ä¸€å±‚ã€‚</span></span><br><span class="line"><span class="comment"># -mindepth 1: æ’é™¤è·¯å¾„æœ¬èº«ï¼ˆå³æ’é™¤ `/etc/nginx/.`ï¼‰ã€‚</span></span><br></pre></td></tr></table></figure><p><a id="method-two-backup-with-targz"></a></p><h2 id="ğŸ—‚ï¸-æ–¹æ³•äºŒï¼šä½¿ç”¨-TAR-GZ-å‹ç¼©å¤‡ä»½">ğŸ—‚ï¸ æ–¹æ³•äºŒï¼šä½¿ç”¨ TAR.GZ å‹ç¼©å¤‡ä»½</h2><p>TAR.GZ (<code>.tar.gz</code>) æ˜¯ Linux ç³»ç»Ÿä¸­æœ€å¸¸è§ã€æ•ˆç‡æœ€é«˜çš„å‹ç¼©æ ¼å¼ä¹‹ä¸€ã€‚å®ƒé€šå¸¸èƒ½æä¾›æ¯” ZIP æ›´å¥½çš„å‹ç¼©ç‡ï¼Œä¸”å®Œç¾ä¿ç•™ Linux æ–‡ä»¶æƒé™å’Œæ‰€æœ‰æƒä¿¡æ¯ã€‚</p><p><a id="features-and-functions-tar"></a></p><h3 id="âœ¨-ç‰¹ç‚¹ä¸åŠŸèƒ½-2">âœ¨ ç‰¹ç‚¹ä¸åŠŸèƒ½</h3><ul><li><strong>é«˜å‹ç¼©ç‡</strong> ğŸ“¦ï¼šé€šå¸¸èƒ½ç”Ÿæˆæ¯” ZIP æ›´å°çš„æ–‡ä»¶ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´ã€‚</li><li><strong>ä¿ç•™å…ƒæ•°æ®</strong> ğŸ“‹ï¼šå®Œç¾ä¿ç•™æ–‡ä»¶æƒé™ã€æ‰€æœ‰è€…å’Œæ—¶é—´æˆ³ï¼Œå¯¹äºè¿˜åŸè‡³å…³é‡è¦ã€‚</li><li><strong>Linux åŸç”Ÿæ”¯æŒ</strong> ğŸ§ï¼šæ˜¯ Linux ç³»ç»Ÿå¤‡ä»½å’Œåˆ†å‘çš„æ ‡å‡†æ ¼å¼ã€‚</li><li><strong>æµå¼å¤„ç†</strong> ğŸ”„ï¼šé€‚åˆåœ¨ç®¡é“ä¸­ä¸å…¶ä»–å‘½ä»¤ï¼ˆå¦‚ <code>ssh</code>, <code>gpg</code>) ç»“åˆä½¿ç”¨ã€‚</li></ul><p><a id="commands-tar"></a></p><h3 id="ğŸ”§-æ“ä½œå‘½ä»¤-2">ğŸ”§ æ“ä½œå‘½ä»¤</h3><p><a id="regular-compression-full-path"></a></p><h4 id="1-å¸¸è§„å‹ç¼©ï¼ˆä¿ç•™å®Œæ•´è·¯å¾„ï¼‰">1. å¸¸è§„å‹ç¼©ï¼ˆä¿ç•™å®Œæ•´è·¯å¾„ï¼‰</h4><p>æ­¤æ–¹æ³•ä¼šä¿ç•™å®Œæ•´çš„ç»å¯¹è·¯å¾„ç»“æ„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¸¸è§„å‹ç¼©</span></span><br><span class="line">tar -czf /mnt/backup/nginx-backup-$(<span class="built_in">date</span> +%Y%m%d).tar.gz /etc/nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£é‡Šï¼š</span></span><br><span class="line"><span class="comment"># -c: åˆ›å»ºæ–°çš„å½’æ¡£æ–‡ä»¶ã€‚</span></span><br><span class="line"><span class="comment"># -z: ä½¿ç”¨ gzip å‹ç¼©ã€‚</span></span><br><span class="line"><span class="comment"># -f: æŒ‡å®šå½’æ¡£æ–‡ä»¶åã€‚</span></span><br></pre></td></tr></table></figure><p><a id="precise-compression-control-structure"></a></p><h4 id="2-ç²¾å‡†å‹ç¼©ï¼ˆæ§åˆ¶è§£å‹ç»“æ„ï¼‰">2. ç²¾å‡†å‹ç¼©ï¼ˆæ§åˆ¶è§£å‹ç»“æ„ï¼‰</h4><p>ä½¿ç”¨ <code>-C</code> å‚æ•°æ”¹å˜å½“å‰ç›®å½•ï¼Œå¯ä»¥æ§åˆ¶è§£å‹åçš„ç›®å½•ç»“æ„ã€‚<strong>è¿™æ˜¯éå¸¸æ¨èçš„æŠ€å·§</strong>ï¼Œå¯ä»¥è®©è§£å‹åçš„ç›®å½•åç§°ç»Ÿä¸€ä¸º <code>nginx</code>ï¼Œè€Œä¸æ˜¯åŒ…å«å®Œæ•´è·¯å¾„ <code>etc/nginx</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç²¾å‡†å‹ç¼©ï¼šè§£å‹åç›´æ¥å¾—åˆ° `nginx` æ–‡ä»¶å¤¹</span></span><br><span class="line">tar -czf /mnt/backup/nginx-backup-$(<span class="built_in">date</span> +%Y%m%d).tar.gz -C /etc nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£é‡Šï¼š</span></span><br><span class="line"><span class="comment"># -C /etc: å…ˆåˆ‡æ¢åˆ° /etc ç›®å½•ã€‚</span></span><br><span class="line"><span class="comment"># nginx: ç„¶åå‹ç¼©è¯¥ç›®å½•ä¸‹çš„ nginx æ–‡ä»¶å¤¹ã€‚</span></span><br><span class="line"><span class="comment"># è¿™æ ·æ“ä½œåï¼Œè§£å‹ tar.gz æ–‡ä»¶ä¼šç›´æ¥äº§ç”Ÿä¸€ä¸ªåä¸º `nginx` çš„ç›®å½•ï¼Œè€Œä¸æ˜¯ `etc/nginx/`ã€‚</span></span><br></pre></td></tr></table></figure><p><a id="method-three-backup-with-rsync"></a></p><h2 id="ğŸ”„-æ–¹æ³•ä¸‰ï¼šä½¿ç”¨-Rsync-åŒæ­¥å¤‡ä»½">ğŸ”„ æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ Rsync åŒæ­¥å¤‡ä»½</h2><p>Rsync æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¢é‡å¤‡ä»½å’ŒåŒæ­¥å·¥å…·ã€‚å®ƒå¹¶ä¸å‹ç¼©æ–‡ä»¶ï¼Œè€Œæ˜¯é€šè¿‡æ¯”è¾ƒæºå’Œç›®æ ‡ä¹‹é—´çš„å·®å¼‚ï¼Œä»…ä¼ è¾“æ”¹å˜çš„éƒ¨åˆ†ï¼Œå› æ­¤é€Ÿåº¦æå¿«ï¼Œéå¸¸é€‚åˆé¢‘ç¹å¤‡ä»½æˆ–å¤§å‹ç½‘ç«™æ–‡ä»¶çš„åŒæ­¥ã€‚</p><p><a id="features-and-functions-rsync"></a></p><h3 id="âœ¨-ç‰¹ç‚¹ä¸åŠŸèƒ½-3">âœ¨ ç‰¹ç‚¹ä¸åŠŸèƒ½</h3><ul><li><strong>å¢é‡å¤‡ä»½</strong> ğŸ“ˆï¼šä»…åŒæ­¥å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶ï¼Œæ•ˆç‡æé«˜ï¼ŒèŠ‚çœå¸¦å®½å’Œæ—¶é—´ã€‚</li><li><strong>ä¿æŒä¸€è‡´æ€§</strong> ğŸ”’ï¼šå¯ä»¥å®Œç¾ä¿ç•™æ‰€æœ‰çš„æ–‡ä»¶å±æ€§ï¼ˆæƒé™ã€æ—¶é—´æˆ³ã€ç¬¦å·é“¾æ¥ç­‰ï¼‰ã€‚</li><li><strong>çµæ´»æ€§é«˜</strong> ğŸ›ï¸ï¼šå¯ä»¥è½»æ¾å®ç°æœ¬åœ°åŒæ­¥å’Œè¿œç¨‹åŒæ­¥ã€‚</li><li><strong>å¯è„šæœ¬åŒ–</strong> ğŸ¤–ï¼šéå¸¸é€‚åˆæ”¾å…¥ <code>cron</code> è®¡åˆ’ä»»åŠ¡ä¸­ï¼Œå®ç°å®šæ—¶è‡ªåŠ¨å¤‡ä»½ã€‚</li></ul><p><a id="commands-rsync"></a></p><h3 id="ğŸ”§-æ“ä½œå‘½ä»¤-3">ğŸ”§ æ“ä½œå‘½ä»¤</h3><p><a id="local-sync-fast-incremental"></a></p><h4 id="1-æœ¬åœ°åŒæ­¥ï¼ˆå¿«é€Ÿå¢é‡ï¼‰">1. æœ¬åœ°åŒæ­¥ï¼ˆå¿«é€Ÿå¢é‡ï¼‰</h4><p>å°† Nginx é…ç½®åŒæ­¥åˆ°æœ¬åœ°å¦ä¸€ä¸ªç£ç›˜æˆ–åˆ†åŒºã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœ¬åœ°åŒæ­¥</span></span><br><span class="line">rsync -av --delete /etc/nginx/ /mnt/backup/nginx-config/</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£é‡Šï¼š</span></span><br><span class="line"><span class="comment"># -a: å½’æ¡£æ¨¡å¼ï¼Œä¿æŒæ‰€æœ‰æ–‡ä»¶å±æ€§ï¼Œå¹¶é€’å½’åŒæ­¥ã€‚</span></span><br><span class="line"><span class="comment"># -v: è¯¦ç»†æ¨¡å¼ï¼Œè¾“å‡ºåŒæ­¥è¿‡ç¨‹ä¿¡æ¯ã€‚</span></span><br><span class="line"><span class="comment"># --delete: åˆ é™¤ç›®æ ‡ç›®å½•ä¸­æºç›®å½•æ²¡æœ‰çš„æ–‡ä»¶ï¼Œç¡®ä¿ä¸¤è¾¹å®Œå…¨ä¸€è‡´ï¼ˆä½¿ç”¨å‰è¯·è°¨æ…ï¼ï¼‰ã€‚</span></span><br><span class="line"><span class="comment"># æ³¨æ„ï¼šæºç›®å½•è·¯å¾„åçš„å°¾éšæ–œæ  `/` å¾ˆé‡è¦ï¼Œå®ƒè¡¨ç¤ºåŒæ­¥ç›®å½•å†…çš„å†…å®¹ï¼Œè€Œä¸æ˜¯ç›®å½•æœ¬èº«ã€‚</span></span><br></pre></td></tr></table></figure><p><a id="remote-sync-off-site-disaster-recovery"></a></p><h4 id="2-è¿œç¨‹åŒæ­¥ï¼ˆå¼‚æœºå®¹ç¾ï¼‰">2. è¿œç¨‹åŒæ­¥ï¼ˆå¼‚æœºå®¹ç¾ï¼‰</h4><p>å°†æœ¬åœ° Nginx é…ç½®åŒæ­¥åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œå®ç°å¼‚æœºå®¹ç¾ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿œç¨‹åŒæ­¥</span></span><br><span class="line">rsync -avz -e ssh /etc/nginx/ user@remote_server_ip:/path/to/backup/nginx-config/</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£é‡Šï¼š</span></span><br><span class="line"><span class="comment"># -z: åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­è¿›è¡Œå‹ç¼©ï¼Œæé«˜é€Ÿåº¦ã€‚</span></span><br><span class="line"><span class="comment"># -e ssh: ä½¿ç”¨ SSH åè®®è¿›è¡Œå®‰å…¨ä¼ è¾“ã€‚</span></span><br><span class="line"><span class="comment"># user@remote_server_ip: è¿œç¨‹æœåŠ¡å™¨çš„ç”¨æˆ·åå’Œ IP åœ°å€ã€‚</span></span><br></pre></td></tr></table></figure><p><a id="backup-summary-and-comparison"></a></p><h2 id="ğŸ“Š-å¤‡ä»½æ–¹æ³•æ€»ç»“ä¸å¯¹æ¯”">ğŸ“Š å¤‡ä»½æ–¹æ³•æ€»ç»“ä¸å¯¹æ¯”</h2><table><thead><tr><th style="text-align:left">æ–¹æ³•</th><th style="text-align:left">æ ¼å¼</th><th style="text-align:left">ä¼˜ç‚¹</th><th style="text-align:left">ç¼ºç‚¹</th><th style="text-align:left">é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td style="text-align:left"><strong>ZIP å‹ç¼©</strong></td><td style="text-align:left"><code>.zip</code></td><td style="text-align:left">é€šç”¨æ€§å¼ºï¼Œè·¨å¹³å°ï¼Œå¯åŠ å¯†</td><td style="text-align:left">Linux ä¸‹å‹ç¼©ç‡é€šå¸¸ä¸å¦‚ tar.gzï¼Œä¿ç•™å…ƒæ•°æ®ç¨é€Š</td><td style="text-align:left">éœ€è¦ä¸ Windows ç³»ç»Ÿå…±äº«å¤‡ä»½æ–‡ä»¶</td></tr><tr><td style="text-align:left"><strong>TAR.GZ å‹ç¼©</strong></td><td style="text-align:left"><code>.tar.gz</code></td><td style="text-align:left"><strong>é«˜å‹ç¼©ç‡</strong>ï¼Œ<strong>å®Œç¾ä¿ç•™ Linux å±æ€§</strong>ï¼Œæ ‡å‡†æ ¼å¼</td><td style="text-align:left">Windows éœ€å®‰è£…è½¯ä»¶æ‰èƒ½è§£å‹</td><td style="text-align:left"><strong>Linux ç³»ç»Ÿä¸‹çš„æ ‡å‡†å®Œæ•´å¤‡ä»½</strong>ï¼Œé•¿æœŸå½’æ¡£</td></tr><tr><td style="text-align:left"><strong>Rsync åŒæ­¥</strong></td><td style="text-align:left">åŸå§‹æ–‡ä»¶</td><td style="text-align:left"><strong>å¢é‡åŒæ­¥ï¼Œé€Ÿåº¦æå¿«</strong>ï¼Œå¯æœ¬åœ°/è¿œç¨‹ï¼Œå¯è„šæœ¬åŒ–</td><td style="text-align:left">ä¸å‹ç¼©ï¼Œå ç”¨æ›´å¤šç©ºé—´</td><td style="text-align:left"><strong>é¢‘ç¹çš„å¿«é€Ÿå¤‡ä»½</strong>ï¼Œ<strong>å¼‚åœ°å®¹ç¾</strong>ï¼Œ<strong>ç½‘ç«™æ–‡ä»¶åŒæ­¥</strong></td></tr></tbody></table><p><a id="pre-restore-preparation"></a></p><h2 id="ğŸ›¡ï¸-æ¢å¤å‰çš„å‡†å¤‡å·¥ä½œ">ğŸ›¡ï¸ æ¢å¤å‰çš„å‡†å¤‡å·¥ä½œ</h2><p>åœ¨å¼€å§‹ä»»ä½•æ¢å¤æ“ä½œä¹‹å‰ï¼Œè¯·åŠ¡å¿…å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼Œè¿™æ˜¯æ•°æ®å®‰å…¨çš„é»„é‡‘æ³•åˆ™ï¼š</p><ol><li><p><strong>ã€å¼ºçƒˆå»ºè®®ã€‘å¤‡ä»½å½“å‰çŠ¶æ€</strong> ğŸ’¾ï¼šå³ä½¿å½“å‰çš„ Nginx é…ç½®æ˜¯æŸåçš„ï¼Œä¹Ÿå…ˆå°†å…¶æ‰“åŒ…å¤‡ä»½ï¼Œé˜²æ­¢æ¢å¤è¿‡ç¨‹ä¸­å‡ºç°æ„å¤–ï¼Œå¯¼è‡´å®Œå…¨æ— æ³•å›é€€ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¤‡ä»½å½“å‰çš„ nginx é…ç½®</span></span><br><span class="line"><span class="built_in">sudo</span> tar -czf /tmp/nginx-broken-backup-$(<span class="built_in">date</span> +%Y%m%d).tar.gz /etc/nginx</span><br></pre></td></tr></table></figure></li><li><p><strong>éªŒè¯å¤‡ä»½æ–‡ä»¶</strong> ğŸ”ï¼šæ£€æŸ¥æ‚¨çš„å¤‡ä»½æ–‡ä»¶æ˜¯å¦å®Œæ•´ã€å¯ç”¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ—å‡º ZIP å‹ç¼©åŒ…å†…å®¹</span></span><br><span class="line">unzip -l /mnt/backup/nginx-backup-20230915.zip</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—å‡º TAR.GZ å‹ç¼©åŒ…å†…å®¹</span></span><br><span class="line">tar -tzf /mnt/backup/nginx-backup-20230915.tar.gz</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰æ‹©æ¢å¤ç›®æ ‡</strong> ğŸ¯ï¼šç¡®å®šæ‚¨æ˜¯è¦<strong>å®Œå…¨è¦†ç›–</strong>ç°æœ‰é…ç½®ï¼Œè¿˜æ˜¯åª<strong>æ¢å¤éƒ¨åˆ†æ–‡ä»¶</strong>ï¼ˆå¦‚æŸä¸ª server block é…ç½®ï¼‰ã€‚</p></li></ol><p><a id="restore-from-backups"></a></p><h2 id="ğŸ“¤-ä»å„ç§å¤‡ä»½æ¢å¤">ğŸ“¤ ä»å„ç§å¤‡ä»½æ¢å¤</h2><p>æœ¬ç« èŠ‚è¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä»ä¹‹å‰åˆ›å»ºçš„ä¸‰ç§ä¸åŒç±»å‹çš„å¤‡ä»½ä¸­è¿›è¡Œæ¢å¤ã€‚è¯·æ ¹æ®æ‚¨é‡‡ç”¨çš„å¤‡ä»½æ–¹æ³•ï¼Œé€‰æ‹©å¯¹åº”çš„æ¢å¤æŒ‡å—ã€‚</p><p><a id="restore-from-zip"></a></p><h3 id="1-ä»-ZIP-å¤‡ä»½æ¢å¤">1. ä» ZIP å¤‡ä»½æ¢å¤</h3><p>ä½¿ç”¨ <code>unzip</code> å‘½ä»¤æ¥è§£å‹æ¢å¤ã€‚</p><p><a id="zip-restore-commands"></a></p><h4 id="ğŸ”§-æ“ä½œå‘½ä»¤-4">ğŸ”§ æ“ä½œå‘½ä»¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. å®‰å…¨åšæ³•ï¼šè§£å‹åˆ°å½“å‰ç›®å½•æŸ¥çœ‹å†…å®¹ï¼ˆä¼šå¾—åˆ°åŒ…å«å®Œæ•´è·¯å¾„çš„ etc/nginx/ ç›®å½•ç»“æ„ï¼‰</span></span><br><span class="line">unzip /mnt/backup/nginx-backup-20230915.zip</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. ç›´æ¥è¦†ç›–æ¢å¤åˆ°ç³»ç»ŸåŸå§‹è·¯å¾„ (ä½¿ç”¨ -o å‚æ•°è¦†ç›–ç°æœ‰æ–‡ä»¶ï¼Œ-d / æŒ‡å®šè§£å‹åˆ°æ ¹ç›®å½•)</span></span><br><span class="line"><span class="built_in">sudo</span> unzip -o /mnt/backup/nginx-backup-20230915.zip -d /</span><br></pre></td></tr></table></figure><p><a id="restore-from-targz"></a></p><h3 id="2-ä»-TAR-GZ-å¤‡ä»½æ¢å¤">2. ä» TAR.GZ å¤‡ä»½æ¢å¤</h3><p>ä½¿ç”¨ <code>tar</code> å‘½ä»¤æ¥è§£å‹æ¢å¤ï¼Œè¿™æ˜¯ Linux ç³»ç»Ÿä¸­æœ€å¸¸ç”¨ä¸”å¯é çš„æ–¹å¼ã€‚</p><p><a id="targz-restore-commands"></a></p><h4 id="ğŸ”§-æ“ä½œå‘½ä»¤-5">ğŸ”§ æ“ä½œå‘½ä»¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœºæ™¯ä¸€ï¼šæ¢å¤&quot;å¸¸è§„å‹ç¼©&quot;çš„å¤‡ä»½ï¼ˆå‹ç¼©æ—¶ä½¿ç”¨äº† `tar -czf backup.tar.gz /etc/nginx`ï¼Œå‹ç¼©åŒ…å†…ä¿ç•™äº†å®Œæ•´è·¯å¾„ /etc/nginx/...ï¼‰</span></span><br><span class="line"><span class="comment"># -C / å‚æ•°æŒ‡å®šè§£å‹åˆ°æ ¹ç›®å½•ï¼Œå‹ç¼©åŒ…é‡Œçš„ etc/nginx å°±ä¼šè¦†ç›–ç³»ç»Ÿä¸­çš„ /etc/nginx</span></span><br><span class="line"><span class="built_in">sudo</span> tar -xzf /mnt/backup/nginx-backup-20230915.tar.gz -C /</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœºæ™¯äºŒï¼šæ¢å¤&quot;ç²¾å‡†å‹ç¼©&quot;çš„å¤‡ä»½ï¼ˆå‹ç¼©æ—¶ä½¿ç”¨äº† `tar -czf backup.tar.gz -C /etc nginx`ï¼Œå‹ç¼©åŒ…å†…ç›´æ¥æ˜¯ nginx/... ç›®å½•ï¼‰</span></span><br><span class="line"><span class="comment"># -C /etc å‚æ•°æŒ‡å®šè§£å‹åˆ° /etc ç›®å½•ï¼Œå‹ç¼©åŒ…é‡Œçš„ nginx æ–‡ä»¶å¤¹å°±ä¼šè¦†ç›– /etc/nginx</span></span><br><span class="line"><span class="built_in">sudo</span> tar -xzf /mnt/backup/nginx-backup-20230915.tar.gz -C /etc</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœºæ™¯ä¸‰ï¼šæœ€å®‰å…¨ã€æœ€æ¨èçš„åšæ³•ï¼è§£å‹åˆ°ä¸´æ—¶ç›®å½•æ£€æŸ¥åå†æ‰‹åŠ¨å¤åˆ¶</span></span><br><span class="line"><span class="comment"># 1. åˆ›å»ºä¸´æ—¶ç›®å½•</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> -p /tmp/nginx-restore</span><br><span class="line"><span class="comment"># 2. è§£å‹åˆ°ä¸´æ—¶ç›®å½•</span></span><br><span class="line"><span class="built_in">sudo</span> tar -xzf /mnt/backup/nginx-backup-20230915.tar.gz -C /tmp/nginx-restore</span><br><span class="line"><span class="comment"># 3. æŸ¥çœ‹è§£å‹åçš„ç»“æ„ï¼Œç¡®è®¤æ˜¯å¦æ­£ç¡®</span></span><br><span class="line"><span class="built_in">ls</span> -la /tmp/nginx-restore/</span><br><span class="line"><span class="comment"># 4. ä½¿ç”¨ rsync åŒæ­¥åˆ°ç›®æ ‡ä½ç½®ï¼ˆè¿™æ ·å¯ä»¥å†æ¬¡ç¡®è®¤æ–‡ä»¶å˜æ›´ï¼‰</span></span><br><span class="line"><span class="built_in">sudo</span> rsync -av /tmp/nginx-restore/nginx/ /etc/nginx/</span><br><span class="line"><span class="comment"># å¦‚æœè§£å‹åæ˜¯ etc/nginx ç»“æ„ï¼Œåˆ™ä½¿ç”¨ï¼š</span></span><br><span class="line"><span class="comment"># sudo rsync -av /tmp/nginx-restore/etc/nginx/ /etc/nginx/</span></span><br></pre></td></tr></table></figure><p><a id="targz-restore-scenarios"></a></p><h4 id="ğŸ“‹-ä¸åŒå‹ç¼©æ–¹å¼çš„æ¢å¤åœºæ™¯">ğŸ“‹ ä¸åŒå‹ç¼©æ–¹å¼çš„æ¢å¤åœºæ™¯</h4><ul><li><strong>å®Œæ•´è·¯å¾„å¤‡ä»½</strong>ï¼šä½¿ç”¨ <code>tar -czf backup.tar.gz /etc/nginx</code> åˆ›å»ºï¼Œæ¢å¤æ—¶ä½¿ç”¨ <code>sudo tar -xzf backup.tar.gz -C /</code></li><li><strong>ç²¾å‡†è·¯å¾„å¤‡ä»½</strong>ï¼šä½¿ç”¨ <code>tar -czf backup.tar.gz -C /etc nginx</code> åˆ›å»ºï¼Œæ¢å¤æ—¶ä½¿ç”¨ <code>sudo tar -xzf backup.tar.gz -C /etc</code></li></ul><p><a id="restore-from-rsync"></a></p><h3 id="3-ä»-Rsync-å¤‡ä»½æ¢å¤">3. ä» Rsync å¤‡ä»½æ¢å¤</h3><p>ä» Rsync å¤‡ä»½æ¢å¤çš„æœ¬è´¨ï¼Œå°±æ˜¯<strong>å°†åŒæ­¥è¿‡ç¨‹åå‘æ“ä½œ</strong>ã€‚æ‚¨çš„å¤‡ä»½ç›®å½•ç°åœ¨æ˜¯&quot;æº&quot;ï¼Œç³»ç»Ÿçš„ <code>/etc/nginx</code> ç›®å½•æ˜¯&quot;ç›®æ ‡&quot;ã€‚</p><p><a id="rsync-restore-commands"></a></p><h4 id="ğŸ”§-æ“ä½œå‘½ä»¤-6">ğŸ”§ æ“ä½œå‘½ä»¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»æœ¬åœ°å¤‡ä»½ç›®å½•æ¢å¤</span></span><br><span class="line"><span class="built_in">sudo</span> rsync -av /mnt/backup/nginx-config/ /etc/nginx/</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»è¿œç¨‹å¤‡ä»½æœåŠ¡å™¨æ¢å¤</span></span><br><span class="line"><span class="built_in">sudo</span> rsync -avz -e ssh user@remote_server_ip:/path/to/backup/nginx-config/ /etc/nginx/</span><br></pre></td></tr></table></figure><p><a id="rsync-restore-warning"></a></p><h4 id="âš ï¸-é‡è¦è­¦å‘Š">âš ï¸ é‡è¦è­¦å‘Š</h4><p>å¦‚æœå½“åˆå¤‡ä»½æ—¶ä½¿ç”¨äº† <code>--delete</code> å‚æ•°ï¼Œæ¢å¤æ—¶<strong>è¯·æå…¶è°¨æ…åœ°ä½¿ç”¨å®ƒ</strong>ã€‚åœ¨æ¢å¤å‘½ä»¤ä¸­åŠ ä¸Š <code>--delete</code> ä¼š<strong>åˆ é™¤ç›®æ ‡ç›®å½•ï¼ˆå³æ‚¨çš„å½“å‰é…ç½®ï¼‰ä¸­æ‰€æœ‰æºç›®å½•ï¼ˆå³æ‚¨çš„å¤‡ä»½ï¼‰é‡Œä¸å­˜åœ¨çš„æ–‡ä»¶</strong>ã€‚è¿™å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚<br><strong>å»ºè®®æµç¨‹</strong>ï¼šå…ˆä¸åŠ  <code>--delete</code> åŒæ­¥ï¼Œæ£€æŸ¥æ— è¯¯åï¼Œå†æ‰‹åŠ¨æ¸…ç†å¤šä½™æ–‡ä»¶ã€‚</p><p><a id="post-restore-actions"></a></p><h2 id="âœ…-æ¢å¤åçš„å¿…è¦æ“ä½œ">âœ… æ¢å¤åçš„å¿…è¦æ“ä½œ</h2><p>æ¢å¤æ–‡ä»¶åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œæ¥ä¸‹æ¥çš„éªŒè¯å’Œæ¿€æ´»åŒæ ·é‡è¦ã€‚</p><ol><li><p><strong>æµ‹è¯• Nginx é…ç½®è¯­æ³•</strong> âœ…ï¼š<strong>è¿™æ˜¯å¿…é¡»çš„ä¸€æ­¥ï¼</strong> å®ƒå¯ä»¥æ£€æŸ¥æ¢å¤çš„é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼Œé¿å…é‡å¯å¤±è´¥å¯¼è‡´æœåŠ¡ä¸­æ–­ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> nginx -t</span><br></pre></td></tr></table></figure><p>å¦‚æœè¾“å‡º <code>syntax is ok</code> å’Œ <code>test is successful</code>ï¼Œè¯´æ˜é…ç½®è¯­æ³•æ­£ç¡®ã€‚</p></li><li><p><strong>é‡è½½ Nginx</strong> ğŸ”„ï¼šåœ¨è¯­æ³•æµ‹è¯•é€šè¿‡åï¼Œè®© Nginx é‡æ–°åŠ è½½é…ç½®å³å¯ï¼Œ<strong>æ— éœ€å®Œå…¨é‡å¯</strong>ï¼ŒæœåŠ¡ä¸ä¼šä¸­æ–­ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl reload nginx</span><br><span class="line"><span class="comment"># æˆ–è€…ä½¿ç”¨ nginx å‘½ä»¤</span></span><br><span class="line"><span class="built_in">sudo</span> nginx -s reload</span><br></pre></td></tr></table></figure></li><li><p><strong>éªŒè¯æœåŠ¡çŠ¶æ€</strong> ğŸ“Šï¼šæ£€æŸ¥ Nginx æ˜¯å¦æ­£å¸¸è¿è¡Œã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl status nginx</span><br></pre></td></tr></table></figure></li><li><p><strong>æµ‹è¯•ç½‘ç«™è®¿é—®</strong> ğŸŒï¼šæœ€ç»ˆé€šè¿‡æµè§ˆå™¨æˆ– <code>curl</code> å‘½ä»¤è®¿é—®ä½ çš„ç½‘ç«™ï¼Œç¡®è®¤æœåŠ¡å·²æŒ‰é¢„æœŸæ¢å¤ã€‚</p></li></ol><p><a id="notes-and-faq"></a></p><h2 id="ğŸš¨-æ³¨æ„äº‹é¡¹ä¸å¸¸è§é—®é¢˜">ğŸš¨ æ³¨æ„äº‹é¡¹ä¸å¸¸è§é—®é¢˜</h2><ul><li><strong>æƒé™é—®é¢˜</strong> ğŸ”ï¼šä½¿ç”¨ <code>sudo</code> è¿›è¡Œæ¢å¤æ“ä½œï¼Œç¡®ä¿ä½ æœ‰è¶³å¤Ÿçš„æƒé™å†™å…¥ <code>/etc/nginx</code> ç­‰ç³»ç»Ÿç›®å½•ã€‚è§£å‹åæ£€æŸ¥é‡è¦æ–‡ä»¶ï¼ˆå¦‚ SSL è¯ä¹¦ç§é’¥ï¼‰çš„æƒé™æ˜¯å¦è¿‡äºå¼€æ”¾ï¼ˆå¦‚ <code>600</code> æˆ– <code>400</code>ï¼‰ã€‚</li><li><strong>&quot;ç²¾å‡†å‹ç¼©&quot;å¤‡ä»½çš„æ¢å¤</strong> ğŸ¯ï¼šè¿™æ˜¯æœ€å®¹æ˜“å‡ºé”™çš„ç‚¹ã€‚åŠ¡å¿…å…ˆ <code>tar -tzf</code> æŸ¥çœ‹å‹ç¼©åŒ…å†…ç»“æ„ï¼Œå†å†³å®š <code>-C</code> å‚æ•°çš„ä½¿ç”¨ã€‚</li><li><strong>Rsync çš„ <code>--delete</code> å‚æ•°</strong> âš ï¸ï¼šæ¢å¤æ—¶è¯·<strong>è°¨æ…ä½¿ç”¨</strong> <code>--delete</code>ã€‚æœ€å¥½å…ˆä¸åŠ è¯¥å‚æ•°åŒæ­¥ï¼Œç„¶åå†æ‰‹åŠ¨æ¸…ç†å·®å¼‚æ–‡ä»¶ã€‚</li><li><strong>æ–‡ä»¶è¦†ç›–</strong> ğŸ“ï¼šæ¢å¤æ“ä½œä¼šè¦†ç›–ç›®æ ‡è·¯å¾„ä¸‹çš„åŒåæ–‡ä»¶ï¼Œä¸”é€šå¸¸æ— æ³•æ’¤é”€ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç¬¬ä¸€æ­¥å¼ºè°ƒè¦<strong>å¤‡ä»½å½“å‰çŠ¶æ€</strong>ã€‚</li><li><strong>ç¯å¢ƒå·®å¼‚</strong> ğŸ”„ï¼šå¦‚æœæ˜¯åœ¨æ–°çš„æœåŠ¡å™¨ä¸Šæ¢å¤ï¼Œè¯·æ³¨æ„å¯èƒ½ä¸æ—§ç¯å¢ƒå­˜åœ¨å·®å¼‚ï¼ˆå¦‚ä¾èµ–çš„æ¨¡å—ã€ç‰ˆæœ¬ã€ç³»ç»Ÿè·¯å¾„ç­‰ï¼‰ã€‚</li></ul><p><a id="complete-process-summary"></a></p><h2 id="ğŸ¯-å®Œæ•´å¤‡ä»½ä¸æ¢å¤æµç¨‹æ€»ç»“">ğŸ¯ å®Œæ•´å¤‡ä»½ä¸æ¢å¤æµç¨‹æ€»ç»“</h2><p><strong>å¤‡ä»½ç­–ç•¥å»ºè®®</strong>ï¼š</p><ul><li><strong>ç»„åˆä½¿ç”¨</strong> ğŸ¤ï¼šä½¿ç”¨ <code>rsync</code> è¿›è¡Œæ¯æ—¥çš„å¢é‡åŒæ­¥åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼ŒåŒæ—¶æ¯å‘¨ä½¿ç”¨ <code>tar -czf</code> è¿›è¡Œä¸€æ¬¡å®Œæ•´å‹ç¼©å¤‡ä»½å¹¶å¼‚åœ°å­˜å‚¨ã€‚</li><li><strong>è‡ªåŠ¨åŒ–</strong> ğŸ¤–ï¼šå°†å¤‡ä»½å‘½ä»¤å†™å…¥è„šæœ¬ï¼Œå¹¶é€šè¿‡ <code>cron</code> è®¡åˆ’ä»»åŠ¡å®ç°å®šæ—¶è‡ªåŠ¨å¤‡ä»½ã€‚</li><li><strong>éªŒè¯å¤‡ä»½</strong> ğŸ”ï¼šå®šæœŸæ£€æŸ¥å¤‡ä»½æ–‡ä»¶æ˜¯å¦å®Œå¥½æ— æŸï¼Œå¹¶å°è¯•åœ¨æµ‹è¯•ç¯å¢ƒä¸­è¿˜åŸï¼Œç¡®ä¿å¤‡ä»½çš„æœ‰æ•ˆæ€§ã€‚</li></ul><p><strong>æ¢å¤æµç¨‹</strong>ï¼šå‡†å¤‡ â†’ éªŒè¯å¤‡ä»½ â†’ æ‰§è¡Œæ¢å¤ â†’ æµ‹è¯•é…ç½® (<code>nginx -t</code>) â†’ é‡è½½æœåŠ¡ (<code>reload</code>) â†’ ä¸šåŠ¡éªŒè¯</p><p>éµå¾ªè¿™ä¸ªå®Œæ•´æµç¨‹ï¼Œå¯ä»¥æœ€å¤§é™åº¦åœ°ä¿è¯ Nginx é…ç½®å¤‡ä»½ä¸æ¢å¤æ“ä½œçš„å®‰å…¨æ€§å’Œå¯é æ€§ï¼Œç¡®ä¿æ‚¨çš„ Web æœåŠ¡æŒç»­ç¨³å®šè¿è¡Œã€‚ğŸš€</p><hr><blockquote><p>ğŸ’¡ æç¤ºï¼šå®šæœŸæ¼”ç»ƒæ¢å¤è¿‡ç¨‹è‡³å…³é‡è¦ï¼Œç¡®ä¿åœ¨çœŸæ­£éœ€è¦æ—¶æ‚¨èƒ½å¤Ÿç†Ÿç»ƒã€å¿«é€Ÿåœ°è¿›è¡Œæ“ä½œã€‚</p></blockquote>]]></content>
    
    
    <summary type="html">ä¸ºç¡®ä¿æ‚¨çš„ Nginx æœåŠ¡å™¨ç¨³å®šè¿è¡Œï¼Œå®šæœŸå¤‡ä»½å’ŒæŒæ¡æ¢å¤æ–¹æ³•è‡³å…³é‡è¦ã€‚æœ¬æ–‡å…¨é¢ä»‹ç»äº†å¤šç§ Nginx å¤‡ä»½ä¸æ¢å¤ç­–ç•¥ï¼Œä»ç®€å•çš„å‹ç¼©å¤‡ä»½åˆ°é«˜æ•ˆçš„åŒæ­¥æ–¹æ¡ˆï¼ŒåŠ©æ‚¨æ„å»ºå®Œæ•´çš„æ•°æ®ä¿æŠ¤ä½“ç³»ã€‚</summary>
    
    
    
    <category term="Linux" scheme="https://www.meimolihan.eu.org/categories/Linux/"/>
    
    
    <category term="nginx" scheme="https://www.meimolihan.eu.org/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>Nginx æ ‡å‡†ç‰ˆå®‰è£…ä¸å¸è½½æŒ‡å— ğŸ“</title>
    <link href="https://www.meimolihan.eu.org/posts/777c419b.html"/>
    <id>https://www.meimolihan.eu.org/posts/777c419b.html</id>
    <published>2025-09-14T01:29:02.000Z</published>
    <updated>2025-09-14T01:29:02.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Nginx æ ‡å‡†ç‰ˆå®‰è£…ä¸å¸è½½æŒ‡å— ğŸ“</h1><p><img src="https://file.meimolihan.eu.org/img/nginx-01.webp" alt=""></p><blockquote><p>åœ¨ Debian 13 ä¸Šå®‰è£…ã€é…ç½®ã€å‡çº§ã€å¸è½½å’Œå¤‡ä»½ Nginx çš„å®Œæ•´æµç¨‹ã€‚</p></blockquote><hr><p>ğŸ“š <strong>å¯¼èˆªç›®å½•</strong><br><a href="#pre-installation">ğŸš€ å®‰è£…å‰å‡†å¤‡</a><br><a href="#add-nginx-repo">ğŸ“¦ æ·»åŠ  Nginx å®˜æ–¹ä»“åº“</a><br><a href="#set-repo-priority">âš™ï¸ è®¾ç½®ä»“åº“ä¼˜å…ˆçº§</a><br><a href="#install-verify-nginx">ğŸ”§ å®‰è£…ä¸éªŒè¯ Nginx</a><br><a href="#gpg-key-issue">â“ å…³äº GPG å¯†é’¥é—®é¢˜</a><br><a href="#post-installation">ğŸ“‚ å®‰è£…åçš„åŸºæœ¬æ“ä½œ</a><br><a href="#upgrade-nginx">ğŸ”„ å‡çº§ Nginx</a><br><a href="#uninstall-nginx">ğŸ—‘ï¸ å¸è½½ Nginx</a><br><a href="#backup-nginx">ğŸ’¾ å¤‡ä»½ Nginx é…ç½®</a></p><hr><p><a id="pre-installation"></a></p><h2 id="ğŸš€-å®‰è£…å‰å‡†å¤‡">ğŸš€ å®‰è£…å‰å‡†å¤‡</h2><p>åœ¨å¼€å§‹å®‰è£…ä¹‹å‰ï¼Œå»ºè®®å…ˆæ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ…ä»¥ç¡®ä¿ç¯å¢ƒæœ€æ–°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update &amp;&amp; <span class="built_in">sudo</span> apt upgrade -y</span><br></pre></td></tr></table></figure><p>ç¡®ä¿å·²å®‰è£…æ‰€éœ€ä¾èµ–ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install curl gnupg2 ca-certificates lsb-release debian-archive-keyring -y</span><br></pre></td></tr></table></figure><p><a id="add-nginx-repo"></a></p><h2 id="ğŸ“¦-æ·»åŠ -Nginx-å®˜æ–¹-APT-ä»“åº“">ğŸ“¦ æ·»åŠ  Nginx å®˜æ–¹ APT ä»“åº“</h2><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ·»åŠ  Nginx å®˜æ–¹ä¸»çº¿ç‰ˆä»“åº“ï¼ˆè·å–æœ€æ–°ç‰ˆæœ¬ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] http://nginx.org/packages/mainline/debian/ <span class="subst">$(lsb_release -cs)</span> nginx&quot;</span> | <span class="built_in">sudo</span> <span class="built_in">tee</span> /etc/apt/sources.list.d/nginx.list</span><br></pre></td></tr></table></figure><p>âœ¨ <em>Nginx å®˜æ–¹ä»“åº“æä¾›äº†æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼Œç¡®ä¿æ‚¨èƒ½è·å¾—æœ€æ–°åŠŸèƒ½å’Œå®‰å…¨æ›´æ–°ã€‚</em></p><p><a id="set-repo-priority"></a></p><h2 id="âš™ï¸-è®¾ç½®ä»“åº“ä¼˜å…ˆçº§">âš™ï¸ è®¾ç½®ä»“åº“ä¼˜å…ˆçº§</h2><p>ä¸ºç¡®ä¿ç³»ç»Ÿä¼˜å…ˆä½¿ç”¨ Nginx å®˜æ–¹ä»“åº“ï¼ˆè€Œä¸æ˜¯ç³»ç»Ÿè‡ªå¸¦çš„è¾ƒæ—§ç‰ˆæœ¬ï¼‰ï¼Œè®¾ç½®ä¼˜å…ˆçº§é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;Package: *\nPin: origin nginx.org\nPin: release o=nginx\nPin-Priority: 900\n&quot;</span> | <span class="built_in">sudo</span> <span class="built_in">tee</span> /etc/apt/preferences.d/99nginx</span><br></pre></td></tr></table></figure><p>ğŸ”§ <em>ä¼˜å…ˆçº§è®¾ç½®å¯é˜²æ­¢ç³»ç»Ÿè‡ªåŠ¨æ›´æ–°æ—¶è¦†ç›–ä¸ºæ—§ç‰ˆæœ¬ï¼Œä¿æŒç‰ˆæœ¬ä¸€è‡´æ€§ã€‚</em></p><p><a id="install-verify-nginx"></a></p><h2 id="ğŸ”§-å®‰è£…ä¸éªŒè¯-Nginx">ğŸ”§ å®‰è£…ä¸éªŒè¯ Nginx</h2><p>æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨å¹¶å®‰è£… Nginxï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update &amp;&amp; \</span><br><span class="line"><span class="built_in">sudo</span> apt install nginx -y</span><br></pre></td></tr></table></figure><p>éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -v</span><br></pre></td></tr></table></figure><p>ğŸ“Œ å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œå°†æ˜¾ç¤º Nginx 1.29.x ç‰ˆæœ¬å·ã€‚</p><p><a id="gpg-key-issue"></a></p><h2 id="â“-å…³äº-GPG-å¯†é’¥éªŒè¯é—®é¢˜">â“ å…³äº GPG å¯†é’¥éªŒè¯é—®é¢˜</h2><p>å®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°çš„ GPG é”™è¯¯ (<code>/root/.gnupg: directory does not exist!</code>) æ˜¯å› ä¸ºç³»ç»Ÿç¼ºå°‘ GPG é»˜è®¤å¯†é’¥å­˜å‚¨ç›®å½•ã€‚è¿™ä¸ä¼šå½±å“å®‰è£…ï¼Œå› ä¸ºï¼š</p><ul><li>å¯†é’¥å·²æˆåŠŸä¸‹è½½åˆ° <code>/usr/share/keyrings/nginx-archive-keyring.gpg</code></li><li>ä½¿ç”¨ <code>signed-by</code> å‚æ•°æ˜ç¡®æŒ‡å®šäº†å¯†é’¥ä½ç½®</li></ul><p>å¦‚éœ€ä¿®å¤ GPG ç›®å½•é—®é¢˜ï¼Œå¯æ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p ~/.gnupg</span><br><span class="line"><span class="built_in">chmod</span> 700 ~/.gnupg</span><br></pre></td></tr></table></figure><p>âš ï¸ <em>è¿™ä¸æ˜¯å¿…é¡»æ“ä½œï¼Œä¸å½±å“ Nginx æ­£å¸¸å®‰è£…å’Œä½¿ç”¨ã€‚</em></p><p><a id="post-installation"></a></p><h2 id="ğŸ“‚-å®‰è£…åçš„åŸºæœ¬æ“ä½œ">ğŸ“‚ å®‰è£…åçš„åŸºæœ¬æ“ä½œ</h2><p>å®‰è£…å®Œæˆåï¼Œå¯æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p><p><strong>å¯åŠ¨ Nginx æœåŠ¡ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl start nginx</span><br></pre></td></tr></table></figure><p><strong>è®¾ç½®å¼€æœºè‡ªå¯ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> nginx</span><br></pre></td></tr></table></figure><p><strong>æ£€æŸ¥æœåŠ¡çŠ¶æ€ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl status nginx</span><br></pre></td></tr></table></figure><p><strong>æµ‹è¯•é…ç½®æ–‡ä»¶è¯­æ³•ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> nginx -t</span><br></pre></td></tr></table></figure><p><strong>é‡æ–°åŠ è½½é…ç½®ï¼ˆä¸ä¸­æ–­æœåŠ¡ï¼‰ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl reload nginx</span><br></pre></td></tr></table></figure><p>ğŸ›¡ï¸ <em>Nginx ä»¥å…¶é«˜æ€§èƒ½ã€é«˜å¹¶å‘èƒ½åŠ›å’Œä½å†…å­˜å ç”¨è‘—ç§°ï¼Œéå¸¸é€‚åˆä½œä¸º Web æœåŠ¡å™¨ã€åå‘ä»£ç†æœåŠ¡å™¨æˆ–è´Ÿè½½å‡è¡¡å™¨ã€‚</em></p><p><a id="upgrade-nginx"></a></p><h2 id="ğŸ”„-å‡çº§-Nginx">ğŸ”„ å‡çº§ Nginx</h2><p>å¦‚æœæ‚¨æ˜¯æŒ‰ç…§ä¹‹å‰æŒ‡å—é€šè¿‡å®˜æ–¹ä»“åº“å®‰è£…çš„ Nginxï¼Œè¿™æ˜¯æœ€ç®€å•çš„å‡çº§æ–¹æ³•ï¼š</p><p><strong>1. æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update</span><br></pre></td></tr></table></figure><p><strong>2. æŸ¥çœ‹å¯å‡çº§ç‰ˆæœ¬</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-cache policy nginx</span><br></pre></td></tr></table></figure><p><strong>3. æ‰§è¡Œå‡çº§</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt upgrade nginx</span><br></pre></td></tr></table></figure><p><strong>4. æˆ–è€…å…¨é¢å‡çº§ç³»ç»Ÿï¼ˆåŒ…å« Nginxï¼‰</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt full-upgrade</span><br></pre></td></tr></table></figure><p><strong>5. éªŒè¯å‡çº§ç»“æœ</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -v</span><br></pre></td></tr></table></figure><p><strong>6. é‡æ–°åŠ è½½é…ç½®ï¼ˆåº”ç”¨å˜æ›´ï¼‰</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl reload nginx</span><br></pre></td></tr></table></figure><p>ğŸ“Œ <em>å‡çº§å‰å»ºè®®å¤‡ä»½é…ç½®ï¼Œå¹¶æ£€æŸ¥å®˜æ–¹å‘å¸ƒè¯´æ˜äº†è§£é‡å¤§å˜æ›´ã€‚</em></p><p><a id="uninstall-nginx"></a></p><h2 id="ğŸ—‘ï¸-å¸è½½-Nginx">ğŸ—‘ï¸ å¸è½½ Nginx</h2><p>å¦‚éœ€å®Œå…¨å¸è½½ Nginx åŠå…¶é…ç½®æ–‡ä»¶ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p><p><strong>åœæ­¢ Nginx æœåŠ¡ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl stop nginx</span><br></pre></td></tr></table></figure><p><strong>ç¦ç”¨å¼€æœºè‡ªå¯ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">disable</span> nginx</span><br></pre></td></tr></table></figure><p><strong>å¸è½½ Nginx è½¯ä»¶åŒ…ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt remove --purge nginx nginx-common nginx-core -y</span><br></pre></td></tr></table></figure><p><strong>åˆ é™¤ä»“åº“é…ç½®ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> -f /etc/apt/sources.list.d/nginx.list</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> -f /etc/apt/preferences.d/99nginx</span><br></pre></td></tr></table></figure><p><strong>æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update</span><br></pre></td></tr></table></figure><p>ğŸ“Œ <em><code>--purge</code> å‚æ•°ä¼šåŒæ—¶åˆ é™¤é…ç½®æ–‡ä»¶ï¼Œç¡®ä¿å®Œå…¨å¸è½½ã€‚å¦‚éœ€ä¿ç•™é…ç½®ï¼Œå¯çœç•¥æ­¤å‚æ•°ã€‚</em></p><p><a id="backup-nginx"></a></p><h2 id="ğŸ’¾-å¤‡ä»½-Nginx-é…ç½®">ğŸ’¾ å¤‡ä»½ Nginx é…ç½®</h2><p>å®šæœŸå¤‡ä»½ Nginx é…ç½®æ˜¯è‰¯å¥½çš„è¿ç»´ä¹ æƒ¯ï¼š</p><p><strong>å¤‡ä»½é…ç½®æ–‡ä»¶ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> tar -czvf nginx-backup-$(<span class="built_in">date</span> +%Y%m%d).tar.gz /etc/nginx</span><br></pre></td></tr></table></figure><p><strong>å¤‡ä»½ç½‘ç«™æ•°æ®ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> tar -czvf nginx-html-backup-$(<span class="built_in">date</span> +%Y%m%d).tar.gz /var/www/html</span><br></pre></td></tr></table></figure><p><strong>ä»…å¤‡ä»½ Nginx é…ç½®ï¼ˆæ¨èï¼‰ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">cp</span> -r /etc/nginx /etc/nginx-backup-$(<span class="built_in">date</span> +%Y%m%d)</span><br></pre></td></tr></table></figure><p>ğŸ” <em>å»ºè®®å°†å¤‡ä»½æ–‡ä»¶å­˜å‚¨åˆ°å®‰å…¨ä½ç½®ï¼Œå¦‚å¤–éƒ¨å­˜å‚¨æˆ–äº‘å­˜å‚¨æœåŠ¡ã€‚</em></p><hr><p>ğŸ’¡ <strong>æç¤º</strong>ï¼šç°åœ¨æ‚¨å·²ç»æŒæ¡äº†åœ¨ Debian 13 ä¸Šå®‰è£…ã€é…ç½®ã€å‡çº§ã€å¸è½½å’Œå¤‡ä»½ Nginx çš„å®Œæ•´æµç¨‹ã€‚å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿éšæ—¶æé—®ï¼</p>]]></content>
    
    
    <summary type="html">åœ¨ Debian 13 ä¸Šå®‰è£…ã€é…ç½®ã€å‡çº§ã€å¸è½½å’Œå¤‡ä»½ Nginx çš„å®Œæ•´æµç¨‹ã€‚</summary>
    
    
    
    <category term="Linux" scheme="https://www.meimolihan.eu.org/categories/Linux/"/>
    
    
    <category term="nginx" scheme="https://www.meimolihan.eu.org/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>FnOS è™šæ‹Ÿå†…å­˜ Swap å…¨é¢è§£æ ğŸ§</title>
    <link href="https://www.meimolihan.eu.org/posts/2609adf5.html"/>
    <id>https://www.meimolihan.eu.org/posts/2609adf5.html</id>
    <published>2025-09-13T14:57:01.000Z</published>
    <updated>2025-09-13T14:57:01.000Z</updated>
    
    <content type="html"><![CDATA[<h1>FnOS è™šæ‹Ÿå†…å­˜ Swap å…¨é¢è§£æ ğŸ§</h1><p><img src="https://file.meimolihan.eu.org/img/pve-swap-01.webp" alt=""></p><blockquote><p>æ·±å…¥ç†è§£ FnOS ä¸­ Swap è™šæ‹Ÿå†…å­˜çš„å·¥ä½œåŸç†ã€é…ç½®æ–¹æ³•å’Œä¼˜åŒ–ç­–ç•¥ï¼Œå¸®åŠ©æ‚¨æ„å»ºæ›´ç¨³å®šé«˜æ•ˆçš„è®¡ç®—ç¯å¢ƒï¼ğŸš€</p></blockquote><hr><h2 id="ğŸ“–-å¯¼èˆªç›®å½•">ğŸ“– å¯¼èˆªç›®å½•</h2><ul><li><a href="#what-is-swap">âœ¨ ä»€ä¹ˆæ˜¯ Swap è™šæ‹Ÿå†…å­˜ï¼Ÿ</a></li><li><a href="#delete-swap">ğŸ› ï¸ ä¸€ã€åˆ é™¤ Swap è™šæ‹Ÿå†…å­˜</a></li><li><a href="#create-swap">ğŸ› ï¸ äºŒã€åˆ›å»º Swap è™šæ‹Ÿå†…å­˜</a><ul><li><a href="#document-swap">ğŸ› ï¸ æ–‡ä»¶ä¸º Swap è™šæ‹Ÿå†…å­˜</a></li><li><a href="#partition-swap">ğŸ› ï¸ åˆ†åŒºä¸º Swap è™šæ‹Ÿå†…å­˜</a></li></ul></li><li><a href="#persistent-config">âš™ï¸ ä¸‰ã€é…ç½®æ°¸ä¹…ç”Ÿæ•ˆ</a></li><li><a href="#swappiness">ğŸ¯ å››ã€Swap ç­–ç•¥ä¼˜åŒ–</a></li><li><a href="#pros-cons">âš–ï¸ äº”ã€å¯ç”¨ Swap çš„ä¼˜ç¼ºç‚¹</a></li><li><a href="#performance-optimization">ğŸš€ å…­ã€ä¼˜åŒ– Swap æ€§èƒ½çš„ç­–ç•¥</a></li><li><a href="#size-planning">ğŸ“Š ä¸ƒã€Swap å¤§å°è§„åˆ’å»ºè®®</a></li><li><a href="#advanced-techniques">ğŸ”§ å…«ã€é«˜çº§é…ç½®æŠ€å·§</a></li><li><a href="#troubleshooting">ğŸš¨ ä¹ã€æ•…éšœæ’é™¤ä¸æ³¨æ„äº‹é¡¹</a></li><li><a href="#monitoring-maintenance">ğŸ“ˆ åã€ç›‘æ§ä¸ç»´æŠ¤</a></li></ul><hr><p><a id="what-is-swap"></a></p><h2 id="âœ¨-ä»€ä¹ˆæ˜¯-Swap-è™šæ‹Ÿå†…å­˜ï¼Ÿ">âœ¨ ä»€ä¹ˆæ˜¯ Swap è™šæ‹Ÿå†…å­˜ï¼Ÿ</h2><p>Swap è™šæ‹Ÿå†…å­˜æ˜¯ Linux ç³»ç»Ÿçš„ä¸€ç§å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œå½“ç‰©ç†å†…å­˜ï¼ˆRAMï¼‰ä¸è¶³æ—¶ï¼Œç³»ç»Ÿä¼šå°†ä¸€éƒ¨åˆ†ä¸å¸¸ç”¨çš„å†…å­˜æ•°æ®æš‚æ—¶å­˜å‚¨åˆ°ç¡¬ç›˜ä¸Šçš„ç‰¹å®šåŒºåŸŸï¼ˆSwap ç©ºé—´ï¼‰ï¼Œä»è€Œé‡Šæ”¾ç‰©ç†å†…å­˜ä¾›æ›´ç´§æ€¥çš„ä»»åŠ¡ä½¿ç”¨ã€‚</p><h3 id="ğŸ”-å·¥ä½œåŸç†">ğŸ” å·¥ä½œåŸç†</h3><ul><li><strong>å†…å­˜æ‰©å±•</strong>ï¼šå°†ç¡¬ç›˜ç©ºé—´è™šæ‹Ÿä¸ºå†…å­˜ä½¿ç”¨</li><li><strong>æ•°æ®äº¤æ¢</strong>ï¼šå°†ä¸æ´»è·ƒçš„å†…å­˜é¡µç§»åŠ¨åˆ° Swap ç©ºé—´</li><li><strong>åº”æ€¥ä¿æŠ¤</strong>ï¼šé˜²æ­¢å†…å­˜è€—å°½å¯¼è‡´ç³»ç»Ÿå´©æºƒæˆ–è¿›ç¨‹è¢«ç»ˆæ­¢</li><li><strong>å†…å­˜å‹ç¼©</strong>ï¼šç°ä»£ Linux å†…æ ¸è¿˜ä½¿ç”¨ zswap è¿›è¡Œå†…å­˜å‹ç¼©ï¼Œå‡å°‘å¯¹ç£ç›˜çš„ä¾èµ–</li></ul><h3 id="ğŸ“Š-å†…å­˜å±‚æ¬¡ç»“æ„å¯¹æ¯”">ğŸ“Š å†…å­˜å±‚æ¬¡ç»“æ„å¯¹æ¯”</h3><table><thead><tr><th>å­˜å‚¨ç±»å‹</th><th>è®¿é—®é€Ÿåº¦</th><th>å®¹é‡</th><th>æˆæœ¬</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>CPU ç¼“å­˜</td><td>1-10ns</td><td>KB-MB</td><td>æé«˜</td><td>å¤„ç†å™¨ç›´æ¥è®¿é—®</td></tr><tr><td>å†…å­˜ (RAM)</td><td>10-100ns</td><td>GB</td><td>é«˜</td><td>æ´»åŠ¨æ•°æ®å’Œç¨‹åº</td></tr><tr><td>Swap ç©ºé—´</td><td>1-10ms</td><td>GB</td><td>ä½</td><td>ä¸æ´»åŠ¨å†…å­˜é¡µ</td></tr><tr><td>ç¡¬ç›˜å­˜å‚¨</td><td>5-20ms</td><td>TB</td><td>æä½</td><td>é•¿æœŸæ•°æ®å­˜å‚¨</td></tr></tbody></table><hr><p><a id="delete-swap"></a></p><h2 id="ğŸ› ï¸-ä¸€ã€åˆ é™¤-Swap-è™šæ‹Ÿå†…å­˜">ğŸ› ï¸ ä¸€ã€åˆ é™¤ Swap è™šæ‹Ÿå†…å­˜</h2><h3 id="1-ä¸´æ—¶ç¦ç”¨æ‰€æœ‰-Swap">1. ä¸´æ—¶ç¦ç”¨æ‰€æœ‰ Swap</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">swapoff -a</span><br></pre></td></tr></table></figure><h3 id="2-æ°¸ä¹…ç§»é™¤-etc-fstab-ä¸­çš„äº¤æ¢æ¡ç›®">2. æ°¸ä¹…ç§»é™¤ /etc/fstab ä¸­çš„äº¤æ¢æ¡ç›®</h3><p>ç¼–è¾‘ /etc/fstab æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/fstab</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°å¹¶åˆ é™¤æˆ–æ³¨é‡Šæ‰ï¼ˆåœ¨è¡Œé¦–æ·»åŠ  #ï¼‰Swap ç›¸å…³è¡Œï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/swapfile none swap sw 0 0</span><br></pre></td></tr></table></figure><p>ä¿å­˜å¹¶é€€å‡ºç¼–è¾‘å™¨ã€‚</p><h3 id="3-åˆ é™¤äº¤æ¢æ–‡ä»¶">3. åˆ é™¤äº¤æ¢æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -f /swapfile</span><br></pre></td></tr></table></figure><h3 id="4-åˆ é™¤äº¤æ¢åˆ†åŒºï¼ˆå¦‚æœ‰ï¼‰">4. åˆ é™¤äº¤æ¢åˆ†åŒºï¼ˆå¦‚æœ‰ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰äº¤æ¢åˆ†åŒº</span></span><br><span class="line">swapon --show</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¦ç”¨ç‰¹å®šäº¤æ¢åˆ†åŒº</span></span><br><span class="line">swapoff /dev/sdXN</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä» fstab ä¸­ç§»é™¤å¯¹åº”æ¡ç›®</span></span><br></pre></td></tr></table></figure><h3 id="5-éªŒè¯æ›´æ”¹">5. éªŒè¯æ›´æ”¹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">free -h</span><br><span class="line">swapon --show</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªå‘½ä»¤åº”è¯¥æ˜¾ç¤ºæ²¡æœ‰ä»»ä½•äº¤æ¢ç©ºé—´è¢«æ¿€æ´»ã€‚</p><p><a id="create-swap"></a></p><h2 id="äºŒã€åˆ›å»º-Swap-è™šæ‹Ÿå†…å­˜ï¼ˆé€‚ç”¨äº-FnOSï¼‰">äºŒã€åˆ›å»º Swap è™šæ‹Ÿå†…å­˜ï¼ˆé€‚ç”¨äº FnOSï¼‰</h2><p><a id="document-swap"></a></p><h3 id="æ–¹æ³•ä¸€ã€æ–‡ä»¶ä¸º-Swap-è™šæ‹Ÿå†…å­˜">æ–¹æ³•ä¸€ã€æ–‡ä»¶ä¸º Swap è™šæ‹Ÿå†…å­˜</h3><h4 id="1-åˆ›å»º-Swap-æ–‡ä»¶">1. åˆ›å»º Swap æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»º 8GB çš„ Swap æ–‡ä»¶ï¼ˆæ ¹æ®ç³»ç»Ÿéœ€æ±‚è°ƒæ•´å¤§å°ï¼‰</span></span><br><span class="line"><span class="built_in">dd</span> <span class="keyword">if</span>=/dev/zero of=/swapfile bs=1G count=8 status=progress</span><br></pre></td></tr></table></figure><p><code>status=progress</code> å‚æ•°æ˜¾ç¤ºåˆ›å»ºè¿›åº¦</p><h4 id="2-è®¾ç½®å®‰å…¨æƒé™">2. è®¾ç½®å®‰å…¨æƒé™</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 0600 /swapfile</span><br></pre></td></tr></table></figure><p>ç¡®ä¿åªæœ‰ root ç”¨æˆ·å¯ä»¥è®¿é—®ï¼Œæé«˜å®‰å…¨æ€§</p><h4 id="3-æ ¼å¼åŒ–-Swap-æ–‡ä»¶">3. æ ¼å¼åŒ– Swap æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkswap /swapfile</span><br></pre></td></tr></table></figure><p>å°†æ–‡ä»¶æ ‡è®°ä¸º Swap ç©ºé—´</p><h4 id="4-å¯ç”¨-Swap">4. å¯ç”¨ Swap</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">swapon /swapfile</span><br></pre></td></tr></table></figure><p>ç«‹å³æ¿€æ´» Swap æ–‡ä»¶</p><h4 id="5-éªŒè¯-Swap-çŠ¶æ€">5. éªŒè¯ Swap çŠ¶æ€</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">free -h</span><br><span class="line">swapon --show</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹å†…å­˜å’Œ Swap ä½¿ç”¨æƒ…å†µ</p><p><a id="partition-swap"></a></p><h3 id="æ–¹æ³•äºŒã€åˆ†åŒºä¸º-Swap-è™šæ‹Ÿå†…å­˜">æ–¹æ³•äºŒã€åˆ†åŒºä¸º Swap è™šæ‹Ÿå†…å­˜</h3><h4 id="1-åˆ›å»º-Swap-åˆ†åŒº">1. åˆ›å»º Swap åˆ†åŒº</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ fdisk æˆ– parted åˆ›å»ºæ–°åˆ†åŒº</span></span><br><span class="line">fdisk /dev/sdX</span><br><span class="line"><span class="comment"># åœ¨ fdisk ä¸­: n â†’ p â†’ åˆ†åŒºå· â†’ èµ·å§‹æ‰‡åŒº â†’ ç»“æŸæ‰‡åŒº â†’ t â†’ 82 (Linux swap) â†’ w</span></span><br></pre></td></tr></table></figure><h4 id="2-æ ¼å¼åŒ–-Swap-åˆ†åŒº">2. æ ¼å¼åŒ– Swap åˆ†åŒº</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkswap /dev/sdXN</span><br></pre></td></tr></table></figure><h4 id="3-å¯ç”¨-Swap-åˆ†åŒº">3. å¯ç”¨ Swap åˆ†åŒº</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">swapon /dev/sdXN</span><br></pre></td></tr></table></figure><h4 id="4-éªŒè¯-Swap-çŠ¶æ€">4. éªŒè¯ Swap çŠ¶æ€</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">free -h</span><br><span class="line"><span class="built_in">cat</span> /proc/swaps</span><br></pre></td></tr></table></figure><hr><p><a id="persistent-config"></a></p><h2 id="âš™ï¸-ä¸‰ã€é…ç½®æ°¸ä¹…ç”Ÿæ•ˆ">âš™ï¸ ä¸‰ã€é…ç½®æ°¸ä¹…ç”Ÿæ•ˆ</h2><h3 id="1-å¤‡ä»½-fstab-æ–‡ä»¶">1. å¤‡ä»½ fstab æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> /etc/fstab /etc/fstab.bak</span><br></pre></td></tr></table></figure><h3 id="2-æ·»åŠ è‡ªåŠ¨æŒ‚è½½é…ç½®">2. æ·»åŠ è‡ªåŠ¨æŒ‚è½½é…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¹äº Swap æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;/swapfile none swap sw 0 0&#x27;</span> &gt;&gt; /etc/fstab</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¹äº Swap åˆ†åŒºï¼ˆæ¨èä½¿ç”¨ UUIDï¼‰</span></span><br><span class="line">UUID=$(blkid -s UUID -o value /dev/sdXN)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;UUID=<span class="variable">$UUID</span> none swap sw 0 0&quot;</span> &gt;&gt; /etc/fstab</span><br></pre></td></tr></table></figure><h3 id="3-æµ‹è¯•é…ç½®æ˜¯å¦æ­£ç¡®">3. æµ‹è¯•é…ç½®æ˜¯å¦æ­£ç¡®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¦ç”¨æ‰€æœ‰ Swap</span></span><br><span class="line">swapoff -a</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°å¯ç”¨æ‰€æœ‰ Swapï¼ˆæ ¹æ® fstabï¼‰</span></span><br><span class="line">swapon -a</span><br><span class="line"></span><br><span class="line"><span class="comment"># éªŒè¯ç»“æœ</span></span><br><span class="line">free -h</span><br><span class="line">swapon --show</span><br></pre></td></tr></table></figure><h3 id="4-æ£€æŸ¥ç³»ç»Ÿå¯åŠ¨æ—¶-Swap-åŠ è½½">4. æ£€æŸ¥ç³»ç»Ÿå¯åŠ¨æ—¶ Swap åŠ è½½</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ç³»ç»Ÿå¯åŠ¨æ—¥å¿—</span></span><br><span class="line">dmesg | grep -i swap</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥ systemd æœåŠ¡çŠ¶æ€</span></span><br><span class="line">systemctl status swap.target</span><br></pre></td></tr></table></figure><hr><p><a id="swappiness"></a></p><h2 id="ğŸ¯-å››ã€Swap-ç­–ç•¥ä¼˜åŒ–ï¼ˆSwappinessï¼‰">ğŸ¯ å››ã€Swap ç­–ç•¥ä¼˜åŒ–ï¼ˆSwappinessï¼‰</h2><h3 id="1-ç†è§£-Swappiness">1. ç†è§£ Swappiness</h3><p>Swappiness æ˜¯ Linux å†…æ ¸å‚æ•°ï¼Œæ§åˆ¶ç³»ç»Ÿä½¿ç”¨ Swap çš„å€¾å‘ç¨‹åº¦ï¼š</p><ul><li><strong>å€¼èŒƒå›´</strong>ï¼š0-100</li><li><strong>é»˜è®¤å€¼</strong>ï¼š60ï¼ˆå¤§å¤šæ•°å‘è¡Œç‰ˆï¼‰</li><li><strong>ä½å€¼ (0-30)</strong>ï¼šå°½é‡é¿å…ä½¿ç”¨ Swap</li><li><strong>é«˜å€¼ (70-100)</strong>ï¼šç§¯æä½¿ç”¨ Swap</li></ul><h3 id="2-æŸ¥çœ‹å½“å‰-Swappiness-å€¼">2. æŸ¥çœ‹å½“å‰ Swappiness å€¼</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /proc/sys/vm/swappiness</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line">sysctl vm.swappiness</span><br></pre></td></tr></table></figure><h3 id="3-ä¸´æ—¶è°ƒæ•´-Swappiness">3. ä¸´æ—¶è°ƒæ•´ Swappiness</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–¹æ³• 1</span></span><br><span class="line">sysctl vm.swappiness=20</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–¹æ³• 2</span></span><br><span class="line"><span class="built_in">echo</span> 20 &gt; /proc/sys/vm/swappiness</span><br></pre></td></tr></table></figure><p>ä¸´æ—¶è°ƒæ•´é‡å¯åå¤±æ•ˆï¼Œé€‚åˆæµ‹è¯•ä¸åŒå€¼çš„æ•ˆæœ</p><h3 id="4-æ°¸ä¹…è°ƒæ•´-Swappiness">4. æ°¸ä¹…è°ƒæ•´ Swappiness</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºä¸“ç”¨é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;vm.swappiness=20&#x27;</span> &gt; /etc/sysctl.d/99-swap.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç«‹å³ç”Ÿæ•ˆ</span></span><br><span class="line">sysctl -p /etc/sysctl.d/99-swap.conf</span><br></pre></td></tr></table></figure><h3 id="5-Swappiness-æ¨èå€¼">5. Swappiness æ¨èå€¼</h3><table><thead><tr><th>åœºæ™¯</th><th>æ¨èå€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ¡Œé¢ç³»ç»Ÿ</td><td>10-30</td><td>å‡å°‘å¡é¡¿ï¼Œæå‡å“åº”é€Ÿåº¦</td></tr><tr><td>æœåŠ¡å™¨</td><td>10-20</td><td>ä¼˜å…ˆä½¿ç”¨ç‰©ç†å†…å­˜</td></tr><tr><td>æ•°æ®åº“æœåŠ¡å™¨</td><td>1-10</td><td>æå°½é‡é¿å…ä½¿ç”¨ Swap</td></tr><tr><td>å†…å­˜ä¸¥é‡ä¸è¶³</td><td>60-80</td><td>ç§¯æä½¿ç”¨ Swap é¿å…å´©æºƒ</td></tr><tr><td>FnOS ç³»ç»Ÿ</td><td>15-25</td><td>å¹³è¡¡ç³»ç»Ÿæ€§èƒ½å’Œç¨³å®šæ€§</td></tr></tbody></table><h3 id="6-ç›¸å…³å‚æ•°è°ƒæ•´">6. ç›¸å…³å‚æ•°è°ƒæ•´</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è°ƒæ•´è™šæ‹Ÿå†…å­˜ç®¡ç†å‚æ•°</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;vm.vfs_cache_pressure=50&#x27;</span> &gt;&gt; /etc/sysctl.conf</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;vm.dirty_ratio=10&#x27;</span> &gt;&gt; /etc/sysctl.conf</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;vm.dirty_background_ratio=5&#x27;</span> &gt;&gt; /etc/sysctl.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># åº”ç”¨é…ç½®</span></span><br><span class="line">sysctl -p</span><br></pre></td></tr></table></figure><hr><p><a id="pros-cons"></a></p><h2 id="âš–ï¸-äº”ã€å¯ç”¨-Swap-çš„ä¼˜ç¼ºç‚¹">âš–ï¸ äº”ã€å¯ç”¨ Swap çš„ä¼˜ç¼ºç‚¹</h2><h3 id="âœ…-ä¼˜ç‚¹">âœ… ä¼˜ç‚¹</h3><ol><li><strong>å†…å­˜æ‰©å±•</strong>ï¼šç¼“è§£ç‰©ç†å†…å­˜å‹åŠ›</li><li><strong>ç³»ç»Ÿç¨³å®š</strong>ï¼šé˜²æ­¢å†…å­˜è€—å°½å¯¼è‡´ç³»ç»Ÿå´©æºƒ</li><li><strong>è¿›ç¨‹ä¿æŠ¤</strong>ï¼šé¿å…é‡è¦è¿›ç¨‹è¢« OOM Killer ç»ˆæ­¢</li><li><strong>æˆæœ¬æ•ˆç›Š</strong>ï¼šç”¨å»‰ä»·ç¡¬ç›˜ç©ºé—´æ‰©å±•æ˜‚è´µçš„å†…å­˜</li><li><strong>ä¼‘çœ æ”¯æŒ</strong>ï¼šç³»ç»Ÿä¼‘çœ éœ€è¦ Swap ç©ºé—´ä¿å­˜å†…å­˜çŠ¶æ€</li></ol><h3 id="âŒ-ç¼ºç‚¹">âŒ ç¼ºç‚¹</h3><ol><li><strong>æ€§èƒ½ä¸‹é™</strong>ï¼šç¡¬ç›˜é€Ÿåº¦è¿œä½äºå†…å­˜</li><li><strong>ç¡¬ç›˜ç£¨æŸ</strong>ï¼šé¢‘ç¹äº¤æ¢æ“ä½œå¯èƒ½ç¼©çŸ­ SSD å¯¿å‘½</li><li><strong>å“åº”å»¶è¿Ÿ</strong>ï¼šå†…å­˜ä¸è¶³æ—¶ç³»ç»Ÿå“åº”å˜æ…¢</li><li><strong>ç®¡ç†å¤æ‚åº¦</strong>ï¼šéœ€è¦åˆç†é…ç½®å’Œç›‘æ§</li></ol><h3 id="ğŸ“Š-æ€§èƒ½å½±å“åˆ†æ">ğŸ“Š æ€§èƒ½å½±å“åˆ†æ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æµ‹è¯•ç£ç›˜ I/O æ€§èƒ½ï¼ˆå½±å“ Swap æ€§èƒ½çš„å…³é”®å› ç´ ï¼‰</span></span><br><span class="line"><span class="built_in">dd</span> <span class="keyword">if</span>=/dev/zero of=/tmp/test bs=8k count=1000000</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›‘æ§ Swap I/O</span></span><br><span class="line">iostat -xm 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å†…å­˜å’Œ Swap ä½¿ç”¨è¶‹åŠ¿</span></span><br><span class="line">vmstat 1</span><br></pre></td></tr></table></figure><hr><p><a id="performance-optimization"></a></p><h2 id="ğŸš€-å…­ã€ä¼˜åŒ–-Swap-æ€§èƒ½çš„ç­–ç•¥">ğŸš€ å…­ã€ä¼˜åŒ– Swap æ€§èƒ½çš„ç­–ç•¥</h2><h3 id="1-ä½¿ç”¨é«˜æ€§èƒ½å­˜å‚¨">1. ä½¿ç”¨é«˜æ€§èƒ½å­˜å‚¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¼˜å…ˆä½¿ç”¨ SSD åˆ›å»º Swap</span></span><br><span class="line"><span class="built_in">dd</span> <span class="keyword">if</span>=/dev/zero of=/swapfile bs=1G count=8 status=progress</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ­£ç¡®æƒé™å’Œå±æ€§</span></span><br><span class="line"><span class="built_in">chmod</span> 0600 /swapfile</span><br><span class="line">mkswap /swapfile</span><br><span class="line">swapon /swapfile</span><br></pre></td></tr></table></figure><h3 id="2-ç›‘æ§-Swap-ä½¿ç”¨æƒ…å†µ">2. ç›‘æ§ Swap ä½¿ç”¨æƒ…å†µ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®æ—¶ç›‘æ§</span></span><br><span class="line">watch -n 1 <span class="string">&#x27;free -h; echo &quot;Swappiness: $(cat /proc/sys/vm/swappiness)&quot;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹è¯¦ç»† Swap ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">cat</span> /proc/swaps</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›‘æ§ Swap I/O æ´»åŠ¨</span></span><br><span class="line">iostat -xm 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å“ªäº›è¿›ç¨‹ä½¿ç”¨ Swap</span></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> /proc/*/status; <span class="keyword">do</span></span><br><span class="line">    awk <span class="string">&#x27;/VmSwap|Name/&#123;printf $2 &quot; &quot; $3&#125;END&#123; print &quot;&quot;&#125;&#x27;</span> <span class="variable">$file</span></span><br><span class="line"><span class="keyword">done</span> 2&gt;/dev/null | <span class="built_in">sort</span> -k 2 -n -r | <span class="built_in">head</span> -10</span><br></pre></td></tr></table></figure><hr><p><a id="size-planning"></a></p><h2 id="ğŸ“Š-ä¸ƒã€Swap-å¤§å°è§„åˆ’å»ºè®®">ğŸ“Š ä¸ƒã€Swap å¤§å°è§„åˆ’å»ºè®®</h2><table><thead><tr><th>ç‰©ç†å†…å­˜å¤§å°</th><th>æ¨è Swap å¤§å°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>â‰¤ 2GB</td><td>2Ã— å†…å­˜</td><td>ä¼ ç»Ÿå»ºè®®ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§</td></tr><tr><td>2-8GB</td><td>=å†…å­˜</td><td>å¹³è¡¡æ€§èƒ½å’Œç¨³å®šæ€§</td></tr><tr><td>8-64GB</td><td>4-16GB</td><td>æœåŠ¡å™¨ç¯å¢ƒæ¨èå€¼</td></tr><tr><td>â‰¥ 64GB</td><td>4-8GB</td><td>å¤§å†…å­˜ç³»ç»Ÿï¼Œä¸»è¦ç”¨äºåº”æ€¥</td></tr><tr><td>ä¼‘çœ éœ€æ±‚</td><td>å†…å­˜å¤§å° + 10%</td><td>ç³»ç»Ÿä¼‘çœ éœ€è¦è¶³å¤Ÿç©ºé—´ä¿å­˜å†…å­˜çŠ¶æ€</td></tr></tbody></table><h3 id="ğŸ’¡-FnOS-ç‰¹å®šå»ºè®®">ğŸ’¡ FnOS ç‰¹å®šå»ºè®®</h3><p>å¯¹äº FnOS ç³»ç»Ÿï¼Œå»ºè®®é…ç½®ï¼š</p><ul><li><strong>æœ€å°</strong>: 2GB Swap</li><li><strong>æ¨è</strong>: 4-8GB Swap</li><li><strong>æœ€å¤§</strong>: ä¸è¶…è¿‡ 16GBï¼ˆé™¤éæœ‰ç‰¹æ®Šéœ€æ±‚ï¼‰</li></ul><h3 id="ğŸ”¢-è®¡ç®—å…¬å¼">ğŸ”¢ è®¡ç®—å…¬å¼</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¹æ®å†…å­˜è®¡ç®—æ¨è Swap å¤§å°</span></span><br><span class="line">MEMORY_GB=$(free -g | awk <span class="string">&#x27;/Mem:/ &#123;print $2&#125;&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$MEMORY_GB</span> -le 2 ]; <span class="keyword">then</span></span><br><span class="line">    SWAP_GB=$((MEMORY_GB * <span class="number">2</span>))</span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$MEMORY_GB</span> -le 8 ]; <span class="keyword">then</span></span><br><span class="line">    SWAP_GB=<span class="variable">$MEMORY_GB</span></span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$MEMORY_GB</span> -le 64 ]; <span class="keyword">then</span></span><br><span class="line">    SWAP_GB=16</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    SWAP_GB=8</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;æ¨è Swap å¤§å°: <span class="variable">$&#123;SWAP_GB&#125;</span>GB&quot;</span></span><br></pre></td></tr></table></figure><hr><p><a id="advanced-techniques"></a></p><h2 id="ğŸ”§-å…«ã€é«˜çº§é…ç½®æŠ€å·§">ğŸ”§ å…«ã€é«˜çº§é…ç½®æŠ€å·§</h2><h3 id="1-ä½¿ç”¨-ZRAMï¼ˆå†…å­˜å‹ç¼©ï¼‰">1. ä½¿ç”¨ ZRAMï¼ˆå†…å­˜å‹ç¼©ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£… zram-tools</span></span><br><span class="line">apt install zram-tools</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½® ZRAMï¼ˆç¼–è¾‘ /etc/default/zramswapï¼‰</span></span><br><span class="line">PERCENTAGE=50</span><br><span class="line">PRIORITY=100</span><br><span class="line">ALGORITHM=lz4</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯æœåŠ¡</span></span><br><span class="line">systemctl restart zramswap</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹çŠ¶æ€</span></span><br><span class="line">zramctl</span><br></pre></td></tr></table></figure><h3 id="2-è°ƒæ•´ç¼“å­˜å‹åŠ›">2. è°ƒæ•´ç¼“å­˜å‹åŠ›</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‡å°‘ç¼“å­˜å‹åŠ›ï¼Œé™ä½ Swap ä½¿ç”¨</span></span><br><span class="line"><span class="built_in">echo</span> 50 &gt; /proc/sys/vm/vfs_cache_pressure</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;vm.vfs_cache_pressure=50&#x27;</span> &gt;&gt; /etc/sysctl.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒæ•´è„é¡µå†™å›ç­–ç•¥</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;vm.dirty_ratio=10&#x27;</span> &gt;&gt; /etc/sysctl.conf</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;vm.dirty_background_ratio=5&#x27;</span> &gt;&gt; /etc/sysctl.conf</span><br></pre></td></tr></table></figure><h3 id="3-åº”æ€¥å†…å­˜ç®¡ç†">3. åº”æ€¥å†…å­˜ç®¡ç†</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰‹åŠ¨é‡Šæ”¾ç¼“å­˜</span></span><br><span class="line"><span class="built_in">echo</span> 3 &gt; /proc/sys/vm/drop_caches</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»…é‡Šæ”¾é¡µç¼“å­˜</span></span><br><span class="line"><span class="built_in">echo</span> 1 &gt; /proc/sys/vm/drop_caches</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å†…å­˜ä½¿ç”¨è¯¦æƒ…</span></span><br><span class="line"><span class="built_in">cat</span> /proc/meminfo</span><br></pre></td></tr></table></figure><hr><p><a id="troubleshooting"></a></p><h2 id="ğŸš¨-ä¹ã€æ•…éšœæ’é™¤ä¸æ³¨æ„äº‹é¡¹">ğŸš¨ ä¹ã€æ•…éšœæ’é™¤ä¸æ³¨æ„äº‹é¡¹</h2><h3 id="1-Swap-åˆ›å»ºå¤±è´¥">1. Swap åˆ›å»ºå¤±è´¥</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥ç£ç›˜ç©ºé—´</span></span><br><span class="line"><span class="built_in">df</span> -h</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿç±»å‹</span></span><br><span class="line"><span class="built_in">df</span> -T</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æ–‡ä»¶æƒé™</span></span><br><span class="line"><span class="built_in">ls</span> -la /swapfile</span><br></pre></td></tr></table></figure><h3 id="2-Swap-æ— æ³•å¯ç”¨">2. Swap æ— æ³•å¯ç”¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥æ–‡ä»¶ç³»ç»ŸæŒ‚è½½é€‰é¡¹</span></span><br><span class="line">mount | grep <span class="string">&quot; / &quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°æ ¼å¼åŒ–</span></span><br><span class="line">mkswap -f /swapfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥å†…æ ¸æ—¥å¿—</span></span><br><span class="line">dmesg | grep -i swap</span><br></pre></td></tr></table></figure><h3 id="3-æ€§èƒ½é—®é¢˜è¯Šæ–­">3. æ€§èƒ½é—®é¢˜è¯Šæ–­</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ Swap ä½¿ç”¨æƒ…å†µ</span></span><br><span class="line">vmstat 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥å“ªäº›è¿›ç¨‹ä½¿ç”¨ Swap</span></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> /proc/*/status; <span class="keyword">do</span></span><br><span class="line">    awk <span class="string">&#x27;/VmSwap|Name/&#123;printf $2 &quot; &quot; $3&#125;END&#123; print &quot;&quot;&#125;&#x27;</span> <span class="variable">$file</span></span><br><span class="line"><span class="keyword">done</span> 2&gt;/dev/null | <span class="built_in">sort</span> -k 2 -n -r | <span class="built_in">head</span> -10</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›‘æ§ç£ç›˜ I/O</span></span><br><span class="line">iotop -o</span><br></pre></td></tr></table></figure><h3 id="4-å®‰å…¨æ³¨æ„äº‹é¡¹">4. å®‰å…¨æ³¨æ„äº‹é¡¹</h3><ul><li><strong>ç¡®ä¿ Swap æ–‡ä»¶æƒé™æ­£ç¡®</strong>ï¼ˆ0600ï¼‰</li><li><strong>é¿å…å°† Swap æ–‡ä»¶æ”¾åœ¨åŠ å¯†åˆ†åŒº</strong>ï¼ˆæ€§èƒ½æå·®ï¼‰</li><li><strong>å®šæœŸç›‘æ§ Swap ä½¿ç”¨æƒ…å†µ</strong>ï¼Œé¿å…è¿‡åº¦ä¾èµ–</li><li><strong>åœ¨æ•æ„Ÿç¯å¢ƒä¸­è€ƒè™‘åŠ å¯† Swap å†…å®¹</strong></li></ul><hr><p><a id="monitoring-maintenance"></a></p><h2 id="ğŸ“ˆ-åã€ç›‘æ§ä¸ç»´æŠ¤">ğŸ“ˆ åã€ç›‘æ§ä¸ç»´æŠ¤</h2><h3 id="1-åˆ›å»ºç›‘æ§è„šæœ¬">1. åˆ›å»ºç›‘æ§è„šæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># swap_monitor.sh - ç›‘æ§ Swap ä½¿ç”¨æƒ…å†µ</span></span><br><span class="line"></span><br><span class="line">THRESHOLD=80 <span class="comment"># è­¦å‘Šé˜ˆå€¼ç™¾åˆ†æ¯”</span></span><br><span class="line">LOG_FILE=<span class="string">&quot;/var/log/swap_monitor.log&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å– Swap ä½¿ç”¨ç‡</span></span><br><span class="line">swap_total=$(free | awk <span class="string">&#x27;/Swap/ &#123;print $2&#125;&#x27;</span>)</span><br><span class="line">swap_used=$(free | awk <span class="string">&#x27;/Swap/ &#123;print $3&#125;&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$swap_total</span> -gt 0 ]; <span class="keyword">then</span></span><br><span class="line">    swap_usage=$((swap_used * <span class="number">100</span> / swap_total))</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    swap_usage=0</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="subst">$(date)</span>: Swap ä½¿ç”¨ç‡: <span class="variable">$swap_usage</span>%&quot;</span> &gt;&gt; <span class="variable">$LOG_FILE</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$swap_usage</span> -ge <span class="variable">$THRESHOLD</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="subst">$(date)</span>: è­¦å‘Š: Swap ä½¿ç”¨ç‡è¶…è¿‡ <span class="variable">$THRESHOLD</span>%!&quot;</span> &gt;&gt; <span class="variable">$LOG_FILE</span></span><br><span class="line">    <span class="comment"># è§¦å‘åº”æ€¥æªæ–½</span></span><br><span class="line">    <span class="built_in">echo</span> 1 &gt; /proc/sys/vm/drop_caches</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><h3 id="2-è®¾ç½®å®šæœŸç›‘æ§">2. è®¾ç½®å®šæœŸç›‘æ§</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ å®šæ—¶ä»»åŠ¡</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;*/5 * * * * root /usr/local/bin/swap_monitor.sh&quot;</span> &gt; /etc/cron.d/swap_monitor</span><br></pre></td></tr></table></figure><h3 id="3-å®šæœŸç»´æŠ¤">3. å®šæœŸç»´æŠ¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥ Swap æ–‡ä»¶ç³»ç»Ÿå®Œæ•´æ€§</span></span><br><span class="line">swapon --show | grep file | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | <span class="keyword">while</span> <span class="built_in">read</span> swapfile; <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> ! swapon -s | grep -q <span class="string">&quot;<span class="variable">$swapfile</span>&quot;</span>; <span class="keyword">then</span></span><br><span class="line">        mkswap -f <span class="string">&quot;<span class="variable">$swapfile</span>&quot;</span></span><br><span class="line">        swapon <span class="string">&quot;<span class="variable">$swapfile</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><hr><h2 id="ğŸ¯-æ€»ç»“">ğŸ¯ æ€»ç»“</h2><p>Swap æ˜¯ Linux ç³»ç»Ÿé‡è¦çš„å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œåˆç†é…ç½®å¯ä»¥æå‡ç³»ç»Ÿç¨³å®šæ€§ã€‚å¯¹äº FnOS ç³»ç»Ÿï¼Œå»ºè®®ï¼š</p><ol><li><strong>æ ¹æ®å†…å­˜å¤§å°é…ç½®é€‚é‡ Swap</strong>ï¼ˆé€šå¸¸ 4-8GBï¼‰</li><li><strong>è®¾ç½®é€‚å½“çš„ swappiness å€¼</strong>ï¼ˆ15-25ï¼‰</li><li><strong>ä½¿ç”¨é«˜æ€§èƒ½å­˜å‚¨</strong>åˆ›å»º Swap</li><li><strong>é…ç½®ç›‘æ§å’Œè­¦æŠ¥</strong>ï¼ŒåŠæ—¶å‘ç°å†…å­˜é—®é¢˜</li><li><strong>å®šæœŸç»´æŠ¤</strong> Swap ç©ºé—´ï¼Œç¡®ä¿ç³»ç»Ÿå¥åº·è¿è¡Œ</li></ol><p>é€šè¿‡æœ¬æŒ‡å—ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿæ›´å¥½åœ°ç†è§£å’Œä¼˜åŒ– FnOS ä¸­çš„ Swap é…ç½®ï¼Œæ„å»ºæ›´ç¨³å®šé«˜æ•ˆçš„è®¡ç®—ç¯å¢ƒï¼</p><blockquote><p>ğŸ’¡ <strong>æç¤º</strong>ï¼šåœ¨è¿›è¡Œä»»ä½•ç³»ç»Ÿé…ç½®æ›´æ”¹å‰ï¼Œè¯·ç¡®ä¿æœ‰å®Œæ•´çš„æ•°æ®å¤‡ä»½ã€‚</p></blockquote><p>å¸Œæœ›æœ¬æŒ‡å—å¸®åŠ©æ‚¨æ›´å¥½åœ°ç®¡ç† FnOS ç³»ç»Ÿçš„å†…å­˜èµ„æºï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;FnOS è™šæ‹Ÿå†…å­˜ Swap å…¨é¢è§£æ ğŸ§&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://file.meimolihan.eu.org/img/pve-swap-01.webp&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ·±å…¥ç†è§£ FnOS ä¸­ Sw</summary>
      
    
    
    
    <category term="Proxmox VE" scheme="https://www.meimolihan.eu.org/categories/Proxmox-VE/"/>
    
    
    <category term="fnos" scheme="https://www.meimolihan.eu.org/tags/fnos/"/>
    
  </entry>
  
  <entry>
    <title>Hexo + Butterfly ä¸»é¢˜ç¾åŒ–æŒ‡å—  ğŸ¨</title>
    <link href="https://www.meimolihan.eu.org/posts/a5e7878b.html"/>
    <id>https://www.meimolihan.eu.org/posts/a5e7878b.html</id>
    <published>2025-09-13T09:16:40.000Z</published>
    <updated>2025-09-13T09:16:40.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Hexo + Butterfly ä¸»é¢˜ç¾åŒ–æŒ‡å— ğŸ¨</h1><p><img src="https://file.meimolihan.eu.org/img/hexo-01.webp" alt=""></p><blockquote><p><strong>âœ¨ ç‰¹åˆ«è¯´æ˜</strong><br>æ¬¢è¿è®¿é—®æœ¬ç«™ï¼æœ¬åšå®¢åŸºäº <strong><a href="https://hexo.io/zh-cn/">Hexo</a></strong> é™æ€æ¡†æ¶ + <strong><a href="https://butterfly.js.org/">Butterfly</a></strong> ä¸»é¢˜æ„å»ºï¼Œå…¼å…·ç®€æ´ç¾è§‚ä¸å¼ºå¤§åŠŸèƒ½ã€‚<br>ğŸ“Œ æœ¬ç«™å†…å®¹ä»…ä¾›å­¦ä¹ äº¤æµï¼Œä¸æ‰¿æ‹…å› ç‰ˆæœ¬å·®å¼‚å¯¼è‡´çš„é—®é¢˜ã€‚å·²é€‚é…ç‰ˆæœ¬ï¼š</p><ul><li>Hexo <code>7.3.0</code></li><li>Butterfly <code>5.3.5</code></li></ul></blockquote><hr><h2 id="ğŸ“‘-å¯¼èˆªç›®å½•">ğŸ“‘ å¯¼èˆªç›®å½•</h2><ul><li><a href="#footer-gradient">ğŸ¯ ä¸€ã€é¡µè„šæ¸å˜è‰²æ•ˆæœ</a></li><li><a href="#go-bottom-button">â¬‡ï¸ äºŒã€ç›´è¾¾åº•éƒ¨æŒ‰é’®</a></li><li><a href="#animation-effects">âœ¨ ä¸‰ã€åŠ¨ç”»ç‰¹æ•ˆå¢å¼º</a></li><li><a href="#title-icons">ğŸ”– å››ã€æ ‡é¢˜å›¾æ ‡ç¾åŒ–</a></li><li><a href="#aplayer-setup">ğŸµ äº”ã€å…¨å±€å¸åº•æ’­æ”¾å™¨</a></li><li><a href="#wave-effect">ğŸŒŠ å…­ã€æ–‡ç« é¡¶éƒ¨æ³¢æµªæ•ˆæœ</a></li><li><a href="#title-center">ğŸ“ ä¸ƒã€æ–‡ç« æ ‡é¢˜å±…ä¸­</a></li><li><a href="#category-magnets">ğŸ§² å…«ã€é¦–é¡µåˆ†ç±»ç£è´´</a></li><li><a href="#dark-mode-animation">ğŸŒ™ ä¹ã€å¤œé—´æ¨¡å¼åŠ¨ç”»</a></li><li><a href="#colorful-icons">ğŸ¨ åã€å¯¼èˆªæ å¤šå½©å›¾æ ‡</a></li><li><a href="#neon-effects">ğŸ’« åä¸€ã€é»‘å¤œéœ“è™¹ç¯æ•ˆæœ</a></li><li><a href="#global-rounded">ğŸ”² åäºŒã€å…¨å±€åœ†è§’è®¾è®¡</a></li><li><a href="#page-beautification">ğŸ­ åä¸‰ã€é¡µé¢ç¾åŒ–ä¼˜åŒ–</a></li><li><a href="#cdn-optimization">ğŸš€ åå››ã€CDNåŠ é€Ÿé…ç½®</a></li><li><a href="#hanging-cat">ğŸ˜º åäº”ã€æŒ‚ç»³å°çŒ«å’ªç‰¹æ•ˆ</a></li><li><a href="#disable-f12">ğŸ›¡ï¸ åå…­ã€ç¦ç”¨F12ä¿æŠ¤</a></li><li><a href="#sharingan-loader">ğŸ‘ï¸ åä¸ƒã€å†™è½®çœ¼åŠ è½½åŠ¨ç”»</a></li><li><a href="#footer-badge-timer">â° åå…«ã€é¡µè„šå¾½æ ‡å’Œè®¡æ—¶å™¨</a></li><li><a href="#single-image-bg">ğŸ–¼ï¸ åä¹ã€ä¸€å›¾æµèƒŒæ™¯è®¾è®¡</a></li><li><a href="#font-customization">ğŸ”¤ äºŒåã€å¼•ç”¨å­—ä½“ç¾åŒ–</a></li><li><a href="#scrollbar-style">ğŸšï¸ äºŒåä¸€ã€æ»šåŠ¨æ¡æ ·å¼ç¾åŒ–</a></li><li><a href="#avatar-breathing-light">ğŸ’¡ äºŒåäºŒã€å¤´åƒå‘¼å¸ç¯æ•ˆæœ</a></li><li><a href="#background-switcher">ğŸ–¼ï¸ äºŒåä¸‰ã€åšå®¢èƒŒæ™¯åˆ‡æ¢</a></li><li><a href="#visitor-welcome">ğŸ‘‹ äºŒåå››ã€è®¿å®¢å®šä½æ¬¢è¿ä¿¡æ¯</a></li><li><a href="#footer-animal">ğŸ¾ äºŒåäº”ã€è„šé¡µæ·»åŠ å°åŠ¨ç‰©</a></li><li><a href="#poem-widget">ğŸ“œ äºŒåå…­ã€ä»Šæ—¥è¯—è¯ä¾§è¾¹æ </a></li><li><a href="#poem-widget">ğŸ“‹ äºŒåä¸ƒã€å¤åˆ¶å¼¹çª—æé†’</a></li><li><a href="#butterfly-envelope">ğŸ“– äºŒåå…« ã€ç•™è¨€æ¿ Violet é£æ ¼</a></li><li><a href="#butterfly-swiper">ğŸ“– äºŒåä¹ ã€æ–‡ç« ç½®é¡¶è½®æ’­å›¾</a></li></ul><hr><p><a id="footer-gradient"></a></p><h2 id="ğŸ¯-ä¸€ã€é¡µè„šæ¸å˜è‰²æ•ˆæœ">ğŸ¯ ä¸€ã€é¡µè„šæ¸å˜è‰²æ•ˆæœ</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><ul><li>ä¸ºåšå®¢é¡µè„šæ·»åŠ åŠ¨æ€æ¸å˜è‰²å½©æ•ˆæœï¼Œè‰²å½©å¹³æ»‘è¿‡æ¸¡ï¼Œæå‡è§†è§‰ä½“éªŒã€‚æ”¯æŒå¤šè‰²æ¸å˜å¾ªç¯åŠ¨ç”»ï¼Œè®©é¡µè„šåŒºåŸŸå˜å¾—ç”ŸåŠ¨æœ‰è¶£ã€‚</li></ul><h3 id="ğŸ”§-å®ç°æ­¥éª¤">ğŸ”§ å®ç°æ­¥éª¤</h3><ul><li><strong>1. ğŸ§© åˆ›å»ºCSSæ–‡ä»¶ï¼š</strong><ul><li>åˆ›å»º  <code>Hexoæ ¹ç›®å½•/source/css/é¡µè„šæ¸å˜.css</code>  æ–‡ä»¶ï¼Œå°†ä¸‹é¢ä»£ç å¤åˆ¶ç²˜è´´åˆ°è¯¥æ–‡ä»¶ä¸­ã€‚</li></ul></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ¸å˜è‰²æ»šåŠ¨åŠ¨ç”» */</span></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> Gradient &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">50%</span> &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@-moz-keyframes</span> Gradient &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">50%</span> &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> Gradient &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">50%</span> &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#footer</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="number">#2e3740</span>, <span class="number">#3b4a5e</span>, <span class="number">#665c78</span>, <span class="number">#7d5a52</span>, <span class="number">#4a4a4a</span>, <span class="number">#1e293b</span>);</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">600%</span> <span class="number">600%</span>; <span class="comment">/* å¢åŠ èƒŒæ™¯å°ºå¯¸ä»¥é€‚åº”æ›´å¤šçš„é¢œè‰² */</span></span><br><span class="line">    -webkit-<span class="attribute">animation</span>: Gradient <span class="number">15s</span> ease infinite; <span class="comment">/* è°ƒæ•´åŠ¨ç”»æ—¶é•¿ä»¥æ›´å¥½åœ°å±•ç¤ºæ‰€æœ‰é¢œè‰² */</span></span><br><span class="line">    -moz-<span class="attribute">animation</span>: Gradient <span class="number">15s</span> ease infinite;</span><br><span class="line">    <span class="attribute">animation</span>: Gradient <span class="number">15s</span> ease infinite;</span><br><span class="line">    -o-<span class="attribute">user-select</span>: none;</span><br><span class="line">    -ms-<span class="attribute">user-select</span>: none;</span><br><span class="line">    -webkit-<span class="attribute">user-select</span>: none;</span><br><span class="line">    -moz-<span class="attribute">user-select</span>: none;</span><br><span class="line">    <span class="attribute">user-select</span>: none;</span><br><span class="line">    <span class="attribute">border-top-left-radius</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border-top-right-radius</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#footer</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>2. â• å¼•å…¥CSSæ–‡ä»¶ï¼š</strong><ul><li>åœ¨ <code>_config.butterfly.yml</code> æ–‡ä»¶ä¸­æ‰¾åˆ° <code>inject</code> éƒ¨åˆ†ï¼Œå¦‚æœè¯¥éƒ¨åˆ†ä¸å­˜åœ¨ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹</li></ul></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span> <span class="comment"># å¼•å…¥è‡ªå®šä¹‰css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/é¡µè„šæ¸å˜.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p><strong>3.  ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><p><img src="https://file.meimolihan.eu.org/screenshot/code-unfold.jpg" alt=""></p><hr><p><a id="go-bottom-button"></a></p><h2 id="â¬‡ï¸-äºŒã€ç›´è¾¾åº•éƒ¨æŒ‰é’®">â¬‡ï¸ äºŒã€ç›´è¾¾åº•éƒ¨æŒ‰é’®</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-2">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><ul><li>æ·»åŠ ä¸€é”®æ»šåŠ¨è‡³é¡µé¢åº•éƒ¨çš„ä¾¿æ·æŒ‰é’®ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼Œç‰¹åˆ«é€‚åˆé•¿æ–‡ç« é¡µé¢ã€‚</li></ul><h3 id="ğŸ”§-å®ç°æ–¹æ³•">ğŸ”§ å®ç°æ–¹æ³•</h3><ul><li>åœ¨<code>Hexoæ ¹ç›®å½•\themes\butterfly\layout\includes\rightside.pug</code>æœ€åæ·»åŠ ä»¥ä¸‹å†…å®¹</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// ç›´è¾¾åº•éƒ¨æŒ‰é’®</span><br><span class="line">button#go-down(type=&quot;button&quot; title=&quot;ç›´è¾¾åº•éƒ¨&quot; onclick=&quot;btf.scrollToDest(document.body.scrollHeight, 500)&quot;)</span><br><span class="line">  i.fas.fa-arrow-down</span><br></pre></td></tr></table></figure><hr><p><a id="animation-effects"></a></p><h2 id="âœ¨-ä¸‰ã€åŠ¨ç”»ç‰¹æ•ˆå¢å¼º">âœ¨ ä¸‰ã€åŠ¨ç”»ç‰¹æ•ˆå¢å¼º</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-3">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><ul><li>ä½¿ç”¨ <code>WOW.js</code> ä¸ºé¡µé¢å…ƒç´ æ·»åŠ ä¸°å¯Œçš„å…¥åœºåŠ¨ç”»æ•ˆæœï¼Œè®©é¡µé¢åŠ è½½å’Œæ»šåŠ¨æ—¶å‘ˆç°æµç•…çš„åŠ¨ç”»ä½“éªŒã€‚</li></ul><h3 id="ğŸ”§-å®‰è£…é…ç½®">ğŸ”§ å®‰è£…é…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-wowjs --save</span><br></pre></td></tr></table></figure><ul><li>åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶<code>_config.yml</code> æˆ–è€…ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml </code>ä¸­æ·»åŠ ï¼š</li><li><strong>åŠ¨ç”»é¢„è§ˆç½‘ç«™ï¼š<a href="https://animate.style/">https://animate.style/</a></strong></li></ul><h3 id="âš™ï¸-é…ç½®ç¤ºä¾‹">âš™ï¸ é…ç½®ç¤ºä¾‹</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Hexo + Butterfly å¢åŠ åŠ¨ç”»ç‰¹æ•ˆ</span></span><br><span class="line"><span class="attr">wowjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#æ§åˆ¶åŠ¨ç”»å¼€å…³ã€‚trueæ˜¯æ‰“å¼€ï¼Œfalseæ˜¯å…³é—­</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">10</span> <span class="comment">#è¿‡æ»¤å™¨ä¼˜å…ˆçº§</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment">#ç§»åŠ¨ç«¯æ˜¯å¦å¯ç”¨ï¼Œé»˜è®¤ç§»åŠ¨ç«¯ç¦ç”¨</span></span><br><span class="line">  <span class="attr">animateitem:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">recent-post-item</span> <span class="comment"># - class: recent-post-item #å¿…å¡«é¡¹ï¼Œéœ€è¦æ·»åŠ åŠ¨ç”»çš„å…ƒç´ çš„class</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span> <span class="comment">#   style: animate__zoomInLeft #å¿…å¡«é¡¹ï¼Œéœ€è¦æ·»åŠ çš„åŠ¨ç”»</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">900ms</span> <span class="comment">#é€‰å¡«é¡¹ï¼ŒåŠ¨ç”»æŒç»­æ—¶é—´ï¼Œå•ä½å¯ä»¥æ˜¯msä¹Ÿå¯ä»¥æ˜¯sã€‚ä¾‹å¦‚3sï¼Œ700msã€‚</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">800ms</span> <span class="comment">#é€‰å¡«é¡¹ï¼ŒåŠ¨ç”»å¼€å§‹çš„å»¶è¿Ÿæ—¶é—´ï¼Œå•ä½å¯ä»¥æ˜¯msä¹Ÿå¯ä»¥æ˜¯sã€‚ä¾‹å¦‚3sï¼Œ700msã€‚</span></span><br><span class="line">      <span class="attr">offset:</span> <span class="number">100</span> <span class="comment">#é€‰å¡«é¡¹ï¼Œå¼€å§‹åŠ¨ç”»çš„è·ç¦»ï¼ˆç›¸å¯¹æµè§ˆå™¨åº•éƒ¨ï¼‰</span></span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">1</span> <span class="comment">#é€‰å¡«é¡¹ï¼ŒåŠ¨ç”»é‡å¤çš„æ¬¡æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„åŠ¨ç”»æ•ˆæœï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œè°ƒæ•´</span></span><br><span class="line"><span class="comment">#     æ–‡ç« TOCåŠ¨ç”»</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">card-widget</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"><span class="comment">#      é¦–é¡µå¯¼èˆªæ </span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">menus_item</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__slideInRight</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"><span class="comment">#      å¯¼èˆªæ -ç«™ç‚¹æ ‡é¢˜</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">nav-site-title</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"><span class="comment">#      å¯¼èˆªæ -æœç´¢æŒ‰é’®</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">site-page</span> <span class="string">social-icon</span> <span class="string">search</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"><span class="comment">#      å¯¼èˆªæ -æ˜æš—æ¨¡å¼</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">sun_moon</span> <span class="string">faa-parent</span> <span class="string">animated-hover</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"><span class="comment">#      é¦–é¡µæ–‡ç« æ ‡é¢˜</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">post-title</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">meta-firstline</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">meta-secondline</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"><span class="comment">#      æ ‡ç­¾é¡µ</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">tag-cloud-list</span> <span class="string">text-center</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"><span class="comment">#      åˆ†ç±»é¡µ</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">category-lists</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"><span class="comment">#      é¦–é¡µä¾§è¾¹æ åˆ†ç±»</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">card-category-list-item</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__backInRight</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"><span class="comment">#      ä¾§è¾¹æ -ç½‘ç«™ä¿¡æ¯</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">webinfo-item</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__backInRight</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#      å½’æ¡£é¡µ</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">article-sort-item</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__fadeInRightBig</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"><span class="comment">#      å‹é“¾é¡µ</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">flink-list</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"><span class="comment">#      å…³äºé¡µ</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">container</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"><span class="comment">#      aplayer æ’­æ”¾å™¨</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">aplayer-body</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__slideInRight</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">3</span></span><br><span class="line"><span class="comment">#      ä»£ç æ¡†</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">highlight</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">900ms</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">800ms</span></span><br><span class="line"><span class="comment">#      æ ‡ç­¾å¤–æŒ‚</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">folding-tag</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">900ms</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">800ms</span></span><br><span class="line"><span class="comment">#      åˆ†é¡µ</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">pagination</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">900ms</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">800ms</span></span><br><span class="line"><span class="comment">#      è„šé¡µå»ºç«™æ—¶é—´</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">copyright</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">900ms</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">800ms</span></span><br><span class="line"><span class="comment">#      è¯„è®º 1</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">comment-head</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">900ms</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">800ms</span></span><br><span class="line"><span class="comment">#      è¯„è®º 2</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">comment-wrap</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">900ms</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">800ms</span></span><br><span class="line"><span class="comment">#      æ–‡ç« é¡µä¹¦ç­¾</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">tag_share</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">900ms</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">800ms</span></span><br><span class="line"><span class="comment">#      ä¸‹ä¸€ç¯‡æ–‡ç« </span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">pagination-post</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">900ms</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">800ms</span></span><br><span class="line"><span class="comment">#      ç›¸å…³æ–‡ç« æ–‡å­—</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">headline</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">900ms</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">800ms</span></span><br><span class="line"><span class="comment">#      ç›¸å…³æ–‡ç« å¡ç‰‡</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">relatedPosts-list</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">900ms</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">800ms</span></span><br><span class="line"><span class="comment">#      æ–‡ç« å†…å®¹</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">container</span> <span class="string">post-content</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"><span class="comment">#      æ–‡ç« å†…å®¹ä¸‹é¢åˆ†å‰²çº¿</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">custom-hr</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">900ms</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">800ms</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">boardsign</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">900ms</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">800ms</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#      ä¾§è¾¹æ -å…¬å‘Š</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">announcement_content</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__backInRight</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"><span class="comment">#      ä¾§è¾¹æ -æ ‡ç­¾äº‘å†…å®¹</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">card-tag-cloud</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__backInRight</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"><span class="comment">#      ä¾§è¾¹æ -æœ€è¿‘æ–‡ç« </span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">aside-list-item</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__backInRight</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"><span class="comment">#      ä¾§è¾¹æ -å¤´åƒ</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">site-data</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__backInRight</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">author-info-name</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__backInRight</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#      é¦–é¡µæ–‡ç« å°é¢</span></span><br><span class="line"><span class="comment">#    - class: post-bg</span></span><br><span class="line"><span class="comment">#      style: animate__fadeInRightBig</span></span><br><span class="line"><span class="comment">#      duration: 3s</span></span><br><span class="line"><span class="comment">#      delay: 2s</span></span><br><span class="line"><span class="comment">#    - class: recent-post-info</span></span><br><span class="line"><span class="comment">#      style: animate__fadeInRightBig</span></span><br><span class="line"><span class="comment">#      duration: 3s</span></span><br><span class="line"><span class="comment">#      delay: 2s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#      æ–‡ç« TOCç›®å½•å†…å®¹</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">toc-item</span> <span class="string">toc-level-2</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__backInRight</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">item-headline</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__backInRight</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">toc-link</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__backInRight</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">animate_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css</span></span><br><span class="line">  <span class="attr">wow_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js</span></span><br><span class="line">  <span class="attr">wow_init_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">#  animate_css: https://cdn.jsdelivr.net/gh/meimolihan/cdn@v1.0.0/hexo-butterfly-wowjs/animate.min.css</span></span><br><span class="line"><span class="comment">#  wow_js: https://cdn.jsdelivr.net/gh/meimolihan/cdn@v1.0.0/hexo-butterfly-wowjs/wow.min.js</span></span><br><span class="line"><span class="comment">#  wow_init_js: https://cdn.jsdelivr.net/gh/meimolihan/cdn@v1.0.0/hexo-butterfly-wowjs/wow_init.js</span></span><br></pre></td></tr></table></figure><p><strong>ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="title-icons"></a></p><h2 id="ğŸ”–-å››ã€æ ‡é¢˜å›¾æ ‡ç¾åŒ–">ğŸ”– å››ã€æ ‡é¢˜å›¾æ ‡ç¾åŒ–</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-4">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>ä¸ºæ–‡ç« æ ‡é¢˜æ·»åŠ æ—‹è½¬é£è½¦å›¾æ ‡ï¼Œå¢å¼ºè§†è§‰å¸å¼•åŠ›ï¼Œæ”¯æŒæ‚¬åœç‰¹æ•ˆå’Œå“åº”å¼è®¾è®¡ã€‚</p><h3 id="ğŸ¨-ç‰¹è‰²åŠŸèƒ½">ğŸ¨ ç‰¹è‰²åŠŸèƒ½</h3><ul><li>ğŸŒ€ åŠ¨æ€æ—‹è½¬é£è½¦å›¾æ ‡</li><li>ğŸ¯ å¤šçº§æ ‡é¢˜ä¸åŒé¢œè‰²</li><li>ğŸ“± ç§»åŠ¨ç«¯é€‚é…ä¼˜åŒ–</li><li>âœ¨ æ‚¬åœæ”¾å¤§æ•ˆæœ</li></ul><h3 id="ğŸ¨-ä¿®æ”¹ä¸»é¢˜é…ç½®">ğŸ¨ ä¿®æ”¹ä¸»é¢˜é…ç½®</h3><ul><li>æ–‡ä»¶<code>_config.butterfly.yml</code>æ–‡ä»¶çš„<code>beautify</code>é…ç½®é¡¹</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">beautify:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  field: post <span class="comment"># site/post</span></span><br><span class="line">  <span class="comment"># title-prefix-icon: &#x27;\f0c1&#x27; åŸå†…å®¹</span></span><br><span class="line">  title-prefix-icon: <span class="string">&#x27;\f863&#x27;</span></span><br><span class="line">  title-prefix-icon-color: <span class="string">&quot;#F47466&quot;</span></span><br></pre></td></tr></table></figure><ul><li>åˆ›å»º  <code>Hexoæ ¹ç›®å½•/source/css/custom-icon.css</code> æ–‡ä»¶ï¼Œå°†ä»£ç å¤åˆ¶ç²˜è´´åˆ°è¯¥æ–‡ä»¶ä¸­ã€‚</li><li><strong>ã€<a href="https://fa.uutool.cn/unicode/5.15.2/">fontawesome çš„ icon å›¾æ ‡ä»£å·</a>ã€‘</strong></li></ul><p><strong>ğŸ§© åˆ›å»ºCSSæ–‡ä»¶ï¼š</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å¯¼å…¥å­—ä½“åº“ */</span></span><br><span class="line"><span class="keyword">@import</span> url(<span class="string">&#x27;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* é£â€®åŸºè½¦â€¬ç¡€æ ·å¼ */</span></span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h1</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h2</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h3</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h4</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h5</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h6</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f863&quot;</span>;                    <span class="comment">/* é£è½¦å›¾æ ‡ */</span></span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&#x27;Font Awesome 5 Free&#x27;</span>;  <span class="comment">/* å­—ä½“åº“ */</span></span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">900</span>;                    <span class="comment">/* å›¾æ ‡ç²—ç»† */</span></span><br><span class="line">  <span class="attribute">display</span>: inline-block;               <span class="comment">/* ç¡®ä¿åŠ¨ç”»ç”Ÿæ•ˆ */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1.2em</span>;                        <span class="comment">/* å›¾â€®å®¹æ ‡â€¬å™¨å®½åº¦ */</span></span><br><span class="line">  <span class="attribute">text-align</span>: center;                  <span class="comment">/* å›¾æ ‡å±…ä¸­ */</span></span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.3s</span> ease;           <span class="comment">/* è¿‡æ¸¡åŠ¨ç”» */</span></span><br><span class="line">  -webkit-<span class="attribute">animation</span>: ccc <span class="number">4s</span> linear infinite;</span><br><span class="line">  <span class="attribute">animation</span>: ccc <span class="number">4s</span> linear infinite;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/* æ–°â€®å®šå¢â€¬ä½å±æ€§ */</span></span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ ‡â€®åŸºé¢˜â€¬ç¡€æ ·å¼ */</span></span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h1</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h3</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h4</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h5</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h6</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;  <span class="comment">/* å®šä½åŸºå‡† */</span></span><br><span class="line">  <span class="attribute">display</span>: block;      <span class="comment">/* æ”¹ä¸ºå—çº§å…ƒç´  */</span></span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">1.8rem</span> <span class="meta">!important</span>;  <span class="comment">/* å·¦ä¾§ç•™å‡ºâ€®æ ‡å›¾â€¬ç©ºé—´ */</span></span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">15px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">0.3s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å„å±‚çº§â€®è½¦é£â€¬é¢œè‰²ä¸å®šâ€®å¾®ä½â€¬è°ƒ */</span></span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h1</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ef50a8</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.3rem</span>;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">0.1rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h2</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fb7061</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.1rem</span>;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">0.1rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h3</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ffbf00</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.95rem</span>;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">0.1rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h4</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#a9e000</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.8rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h5</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#57c850</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.7rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h6</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#5ec1e0</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.66rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ—‹è½¬åŠ¨ç”» */</span></span><br><span class="line"><span class="keyword">@keyframes</span> ccc &#123;</span><br><span class="line">  <span class="number">0%</span> &#123; <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>) <span class="built_in">rotate</span>(<span class="number">0deg</span>); &#125;</span><br><span class="line">  <span class="number">100%</span> &#123; <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>) <span class="built_in">rotate</span>(-<span class="number">360deg</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ ‡é¢˜æ‚¬åœæ•ˆæœ */</span></span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h1</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h2</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h3</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h4</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h5</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#2196f3</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.05</span>);</span><br><span class="line">  <span class="attribute">transition</span>: color <span class="number">0.3s</span> ease, transform <span class="number">0.3s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* é£è½¦â€®åœæ‚¬â€¬ç‰¹æ•ˆ */</span></span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h1</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h2</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h3</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h4</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h5</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">brightness</span>(<span class="number">1.2</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>) <span class="built_in">scale</span>(<span class="number">1.1</span>) <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#2196f3</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.3s</span> ease;</span><br><span class="line">  -webkit-<span class="attribute">animation</span>: ccc <span class="number">2s</span> linear infinite;</span><br><span class="line">  <span class="attribute">animation</span>: ccc <span class="number">2s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç§»åŠ¨ç«¯é€‚é… */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">  <span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h1</span>,</span><br><span class="line">  <span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h2</span>,</span><br><span class="line">  <span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h3</span>,</span><br><span class="line">  <span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h4</span>,</span><br><span class="line">  <span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h5</span>,</span><br><span class="line">  <span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h6</span> &#123;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">1.5rem</span> <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h1</span><span class="selector-pseudo">::before</span> &#123; <span class="attribute">font-size</span>: <span class="number">1.1rem</span> &#125;</span><br><span class="line">  <span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h2</span><span class="selector-pseudo">::before</span> &#123; <span class="attribute">font-size</span>: <span class="number">1.0rem</span> &#125;</span><br><span class="line">  <span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h3</span><span class="selector-pseudo">::before</span> &#123; <span class="attribute">font-size</span>: <span class="number">0.9rem</span> &#125;</span><br><span class="line">  <span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h4</span><span class="selector-pseudo">::before</span> &#123; <span class="attribute">font-size</span>: <span class="number">0.75rem</span> &#125;</span><br><span class="line">  <span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h5</span><span class="selector-pseudo">::before</span> &#123; <span class="attribute">font-size</span>: <span class="number">0.65rem</span> &#125;</span><br><span class="line">  <span class="selector-id">#content-inner</span><span class="selector-class">.layout</span> <span class="selector-tag">h6</span><span class="selector-pseudo">::before</span> &#123; <span class="attribute">font-size</span>: <span class="number">0.6rem</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>â• å¼•å…¥CSSæ–‡ä»¶ï¼š</strong></p><ul><li>åœ¨ <code>_config.butterfly.yml</code> æ–‡ä»¶ä¸­æ‰¾åˆ° <code>inject</code> éƒ¨åˆ†ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span> <span class="comment"># æ³¨å…¥è‡ªå®šä¹‰css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom-icon.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="aplayer-setup"></a></p><h2 id="ğŸµ-äº”ã€å…¨å±€å¸åº•æ’­æ”¾å™¨">ğŸµ äº”ã€å…¨å±€å¸åº•æ’­æ”¾å™¨</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-5">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>æ·»åŠ å…¨å±€éŸ³ä¹æ’­æ”¾å™¨ï¼Œæ”¯æŒæ­Œå•ç®¡ç†ã€æ­Œè¯æ˜¾ç¤ºã€ç¾è§‚çš„æ’­æ”¾æ§åˆ¶ç•Œé¢ã€‚</p><h3 id="ğŸ”§-å®‰è£…æ’ä»¶">ğŸ”§ å®‰è£…æ’ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-tag-aplayer</span><br></pre></td></tr></table></figure><h3 id="âš™ï¸-config-yml-é…ç½®ç¤ºä¾‹">âš™ï¸  <code>_config.yml</code> é…ç½®ç¤ºä¾‹</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aplayer:</span></span><br><span class="line">  <span class="attr">meting:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">asset_inject:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="âš™ï¸-config-butterfly-yml-é…ç½®ç¤ºä¾‹">âš™ï¸  <code>_config.butterfly.yml</code> é…ç½®ç¤ºä¾‹</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aplayerInject:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="ğŸµ-aplayer-çš„-html-é…ç½®æ–‡ä»¶">ğŸµ aplayer çš„ html é…ç½®æ–‡ä»¶</h3><ul><li>åœ¨<code>Hexoæ ¹ç›®å½•\themes\butterfly\layout\includes\head.pug</code>åè¿½åŠ å†…å®¹</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">// æ·»åŠ éŸ³é¢‘æ’­æ”¾å™¨ä»£ç </span><br><span class="line">link(rel=&#x27;stylesheet&#x27;, href=&#x27;https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css&#x27;)</span><br><span class="line">script(src=&#x27;https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js&#x27;)</span><br><span class="line">#aplayer</span><br><span class="line">script.</span><br><span class="line">    const home = &#x27;https://xxx.yyyy.com/&#x27;;</span><br><span class="line">    const songs = [</span><br><span class="line">        &#x27;é‡ç‹¼disco-å®çŸ³Gem&#x27;, </span><br><span class="line">        &#x27;é™¤äº†ç”Ÿæ­»éƒ½æ˜¯æ“¦ä¼¤-ä¾¯æ³½æ¶¦&#x27;, </span><br><span class="line">    ];</span><br><span class="line">    let audios = [];</span><br><span class="line">    // éå†æ­Œæ›²åˆ—è¡¨</span><br><span class="line">    songs.forEach((item) =&gt; &#123;</span><br><span class="line">        const songInfo = item.split(&#x27;-&#x27;);</span><br><span class="line">        audios.push(&#123;</span><br><span class="line">            name: songInfo[0],</span><br><span class="line">            artist: songInfo[1],</span><br><span class="line">            url: home + item + &#x27;/song.mp3&#x27;,</span><br><span class="line">            cover: home + item + &#x27;/cover.jpg&#x27;,</span><br><span class="line">            lrc: home + item + &#x27;/lyric.lrc&#x27;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    const ap = new APlayer(&#123;</span><br><span class="line">        container: document.getElementById(&#x27;aplayer&#x27;),</span><br><span class="line">        fixed: true,</span><br><span class="line">        lrcType: 3,</span><br><span class="line">        audio: audios</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><ul><li>è¯´æ˜</li></ul><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">å®Œæ•´æ­Œæ›²é“¾æ¥ï¼šhttps:<span class="regexp">//</span>xxx.yyyy.com<span class="regexp">/é‡ç‹¼disco-å®çŸ³Gem/</span>lyric.lrc</span><br><span class="line"></span><br><span class="line">â”€â”€ https:<span class="regexp">//</span>xxx.yyyy.com/</span><br><span class="line">   â”œâ”€â”€  é‡ç‹¼disco-å®çŸ³Gem  <span class="comment"># æ­Œæ›²æ–‡ä»¶å¤¹ï¼ˆæ ¹æ®`-`å‰åæ¥åŒ¹é…æ­Œæ‰‹åå’Œæ­Œæ›²åï¼‰</span></span><br><span class="line">        â”œâ”€â”€ song.mp3  <span class="comment"># æ­Œæ›²</span></span><br><span class="line">        â”œâ”€â”€ cover.jpg  <span class="comment"># å°é¢</span></span><br><span class="line">        â””â”€â”€ lyric.lrc  <span class="comment">#æ­Œè¯</span></span><br></pre></td></tr></table></figure><h3 id="ğŸµ-aplyer-éŸ³ä¹æ’­æ”¾å™¨ç¾åŒ–">ğŸµ aplyer éŸ³ä¹æ’­æ”¾å™¨ç¾åŒ–</h3><ul><li>æ·»åŠ ä»£ç åˆ° <code>aplayer.css</code> æ–‡ä»¶</li><li>åˆ›å»º  <code>Hexoæ ¹ç›®å½•/source/css/aplayer.css</code> æ–‡ä»¶ï¼Œå°†ä»£ç å¤åˆ¶ç²˜è´´åˆ°è¯¥æ–‡ä»¶ä¸­ã€‚</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*aplayeræ—¥é—´æ¨¡å¼è°ƒæ•´*/</span></span><br><span class="line"><span class="comment">/*èƒŒæ™¯è‰²*/</span></span><br><span class="line"><span class="selector-class">.aplayer</span>&#123;</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.60</span>)<span class="meta">!important</span>;</span><br><span class="line"><span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.07</span>),<span class="number">0</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">1</span>);</span><br><span class="line"><span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-lrc</span><span class="selector-pseudo">:after</span>,<span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-lrc</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line"><span class="attribute">display</span>: none</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-body</span>&#123;</span><br><span class="line"><span class="attribute">background</span>:<span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.60</span>)<span class="meta">!important</span>;</span><br><span class="line"><span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">07</span>),<span class="number">0</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">1</span>);</span><br><span class="line"><span class="attribute">position</span>: fixed;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*æ¯›ç»ç’ƒæ•ˆæœ*/</span></span><br><span class="line"><span class="selector-class">.aplayer-list</span>&#123;</span><br><span class="line"><span class="attribute">backdrop-filter</span>: <span class="built_in">blur</span>(<span class="number">3px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.aplayer-info</span>&#123;</span><br><span class="line"><span class="attribute">backdrop-filter</span>: <span class="built_in">blur</span>(<span class="number">3px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*æ»šåŠ¨æ¡*/</span></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span>::-webkit-scrollbar &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">5px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span>::-webkit-scrollbar-thumb &#123;</span><br><span class="line"><span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line"><span class="attribute">background-color</span>: <span class="number">#b0e1ff</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span>::-webkit-scrollbar-thumb:hover &#123;</span><br><span class="line"><span class="attribute">background-color</span>: <span class="number">#b0e1ff</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*åœ†è§’*/</span></span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-list</span>&#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">6px</span> <span class="number">6px</span> <span class="number">0</span> <span class="number">0</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-miniswitcher</span>&#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0</span> <span class="number">6px</span> <span class="number">6px</span> <span class="number">0</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span><span class="selector-class">.aplayer-narrow</span> <span class="selector-class">.aplayer-body</span>&#123;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.28s</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">6px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*é€‰ä¸­ä¸æ’­æ”¾ä¸­æ­Œæ›²æ¿€æ´»é¢œè‰²*/</span></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#b0e1ff</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span><span class="selector-class">.aplayer-list-light</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ffdffa</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*aplayeré»‘æš—æ¨¡å¼*/</span></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.aplayer</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">22</span>, <span class="number">22</span>, <span class="number">0.60</span>)<span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line"><span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">07</span>),<span class="number">0</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-body</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">22</span>, <span class="number">22</span>, <span class="number">22</span>, <span class="number">0.60</span>)<span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line"><span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">07</span>),<span class="number">0</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-info</span> <span class="selector-class">.aplayer-controller</span> <span class="selector-class">.aplayer-time</span> <span class="selector-class">.aplayer-icon</span> <span class="selector-tag">path</span>&#123;</span><br><span class="line"><span class="attribute">fill</span>: <span class="number">#d4d4d4</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#407290</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span><span class="selector-class">.aplayer-list-light</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#9c8098</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-info</span> <span class="selector-class">.aplayer-controller</span> <span class="selector-class">.aplayer-time</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#d4d4d4</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span> <span class="selector-class">.aplayer-list-index</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#d4d4d4</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span> <span class="selector-class">.aplayer-list-author</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#d4d4d4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* aplayer æ’­æ”¾å™¨ï¼Œè‡ªåŠ¨ç¼©è¿›éšè— */</span></span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span><span class="selector-class">.aplayer-narrow</span> <span class="selector-class">.aplayer-body</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">66px</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="comment">/* é»˜è®¤â€®å†µæƒ…â€¬ä¸‹ç¼©è¿›å·¦ä¾§66pxï¼Œåªç•™ä¸€ç‚¹ç®­â€®éƒ¨å¤´â€¬åˆ† */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span><span class="selector-class">.aplayer-narrow</span> <span class="selector-class">.aplayer-body</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="comment">/* é¼ æ ‡æ‚¬åœâ€®å·¦æ˜¯â€¬ä¾§ç¼©è¿›å½’é›¶ï¼Œå®Œå…¨æ˜¾ç¤ºæŒ‰é’® */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>â• å¼•å…¥æ ·å¼æ–‡ä»¶ï¼š</strong></p><ul><li>åœ¨ <code>_config.butterfly.yml</code> æ–‡ä»¶ä¸­æ‰¾åˆ° <code>inject</code> éƒ¨åˆ†ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span> <span class="comment">#æ³¨å…¥è‡ªå®šä¹‰css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom-aplayer.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p><strong>é»˜è®¤éšè—æ­Œè¯</strong></p><ul><li>æ·»åŠ ä»£ç åˆ° <code>éšè—æ­Œè¯.js</code> æ–‡ä»¶</li><li>åˆ›å»º <code>Hexoæ ¹ç›®å½•/source/js/éšè—æ­Œè¯.js</code> æ–‡ä»¶ï¼Œå°†ä»£ç å¤åˆ¶ç²˜è´´åˆ°è¯¥æ–‡ä»¶ä¸­ã€‚</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// APlayer é»˜è®¤å…³é—­æ­Œè¯</span><br><span class="line">// åˆ›å»ºä¸€ä¸ª MutationObserver å®ä¾‹ï¼Œç”¨äºç›‘å¬ DOM çš„å˜åŒ–</span><br><span class="line"><span class="selector-tag">var</span> observer = new MutationObserver(function (mutations) &#123;</span><br><span class="line">  // æŸ¥æ‰¾é¡µé¢ä¸­ class ä¸º &quot;aplayer-<span class="attribute">icon</span>-lrc&quot; çš„å…ƒç´ </span><br><span class="line">  <span class="selector-tag">var</span> lrcButton = document<span class="selector-class">.querySelector</span>(&quot;<span class="selector-class">.aplayer-icon-lrc</span>&quot;);</span><br><span class="line">  // å¦‚æœæ‰¾åˆ°äº† lrcButton</span><br><span class="line">  if (lrcButton) &#123;</span><br><span class="line">    // å»¶è¿Ÿ<span class="number">1</span>æ¯«ç§’æ‰§è¡Œç‚¹å‡»æ“ä½œ</span><br><span class="line">    setTimeout(function () &#123;</span><br><span class="line">      lrcButton<span class="selector-class">.click</span>();</span><br><span class="line">    &#125;, <span class="number">1</span>);</span><br><span class="line">    // æ–­å¼€ MutationObserver å®ä¾‹ï¼Œåœæ­¢ç›‘å¬ DOM çš„å˜åŒ–</span><br><span class="line">    observer<span class="selector-class">.disconnect</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// å¼€å§‹è§‚å¯Ÿ <span class="selector-tag">body</span> ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹åŠå…¶å±æ€§å˜åŒ–</span><br><span class="line">observer<span class="selector-class">.observe</span>(document<span class="selector-class">.body</span>, &#123; childList: true, subtree: true &#125;);</span><br></pre></td></tr></table></figure><p><strong>â• å¼•å…¥ <code>éšè—æ­Œè¯.js</code> æ–‡ä»¶</strong></p><ul><li>åœ¨ <code>_config.butterfly.yml</code> æ–‡ä»¶ä¸­æ‰¾åˆ° <code>inject</code> éƒ¨åˆ†ï¼Œå¦‚æœè¯¥éƒ¨åˆ†ä¸å­˜åœ¨ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  bottom:</span><br><span class="line">    - &lt;script defer data-pjax src=<span class="string">&quot;/js/éšè—æ­Œè¯.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><strong>ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="wave-effect"></a></p><h2 id="ğŸŒŠ-å…­ã€æ–‡ç« é¡¶éƒ¨æ³¢æµªæ•ˆæœ">ğŸŒŠ å…­ã€æ–‡ç« é¡¶éƒ¨æ³¢æµªæ•ˆæœ</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-6">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>åœ¨æ–‡ç« é¡¶éƒ¨æ·»åŠ åŠ¨æ€æ³¢æµªæ•ˆæœï¼Œå¢å¼ºè§†è§‰å±‚æ¬¡æ„Ÿï¼Œæå‡é¡µé¢åŠ¨æ€ç¾æ„Ÿã€‚</p><h3 id="ğŸ”§-å®ç°æ­¥éª¤-2">ğŸ”§ å®ç°æ­¥éª¤</h3><p><strong>1. âœï¸ ä¿®æ”¹æ¨¡æ¿æ–‡ä»¶ï¼š</strong></p><ul><li><strong>ä¿®æ”¹ <code>Hexoæ ¹ç›®å½•/themes/butterfly/layout/includes/header/index.pug</code> å¤§æ¦‚ç¬¬ <code>33</code> è¡Œå·¦å³</strong></li></ul><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">    if globalPageType <span class="comment">=== &#x27;post&#x27;</span></span><br><span class="line">      include ./post-info.pug</span><br><span class="line"><span class="addition">+ // butterflyæ–‡ç« é¡¶éƒ¨æ·»åŠ æ³¢æµªæ•ˆæœï¼Œå¼€å§‹</span></span><br><span class="line"><span class="addition">+      section.main-hero-waves-area.waves-area</span></span><br><span class="line"><span class="addition">+        svg.waves-svg(xmlns=&#x27;http://www.w3.org/2000/svg&#x27;, xlink=&#x27;http://www.w3.org/1999/xlink&#x27;, viewBox=&#x27;0 24 150 28&#x27;, preserveAspectRatio=&#x27;none&#x27;, shape-rendering=&#x27;auto&#x27;)</span></span><br><span class="line"><span class="addition">+          defs</span></span><br><span class="line"><span class="addition">+            path#gentle-wave(d=&#x27;M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z&#x27;)</span></span><br><span class="line"><span class="addition">+          g.parallax</span></span><br><span class="line"><span class="addition">+            use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;0&#x27;)</span></span><br><span class="line"><span class="addition">+            use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;3&#x27;)</span></span><br><span class="line"><span class="addition">+            use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;5&#x27;)</span></span><br><span class="line"><span class="addition">+            use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;7&#x27;)</span></span><br><span class="line"><span class="addition">+// butterflyæ–‡ç« é¡¶éƒ¨æ·»åŠ æ³¢æµªæ•ˆæœï¼Œç»“æŸ</span></span><br><span class="line">    else if globalPageType <span class="comment">=== &#x27;home&#x27;</span></span><br><span class="line">      #site-info</span><br><span class="line">        h1#site-title=config.title</span><br></pre></td></tr></table></figure><p><strong>ä¸ºäº†æ–¹ä¾¿å¤åˆ¶ï¼Œæä¾›ä¸€ä»½éœ€è¦ä¿®æ”¹çš„éƒ¨åˆ†ï¼š</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// butterflyæ–‡ç« é¡¶éƒ¨æ·»åŠ æ³¢æµªæ•ˆæœï¼Œå¼€å§‹</span><br><span class="line">      <span class="selector-tag">section</span><span class="selector-class">.main-hero-waves-area</span><span class="selector-class">.waves-area</span></span><br><span class="line">        <span class="selector-tag">svg</span><span class="selector-class">.waves-svg</span>(xmlns=&#x27;http://www.w3.org/<span class="number">2000</span>/svg<span class="string">&#x27;, xlink=&#x27;</span>http://www.w3.org/<span class="number">1999</span>/xlink<span class="string">&#x27;, viewBox=&#x27;</span><span class="number">0</span> <span class="number">24</span> <span class="number">150</span> <span class="number">28</span><span class="string">&#x27;, preserveAspectRatio=&#x27;</span>none<span class="string">&#x27;, shape-rendering=&#x27;</span>auto<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">          defs</span></span><br><span class="line"><span class="string">            path#gentle-wave(d=&#x27;</span>M -<span class="number">160</span> <span class="number">44</span> c <span class="number">30</span> <span class="number">0</span> <span class="number">58</span> -<span class="number">18</span> <span class="number">88</span> -<span class="number">18</span> s <span class="number">58</span> <span class="number">18</span> <span class="number">88</span> <span class="number">18</span> s <span class="number">58</span> -<span class="number">18</span> <span class="number">88</span> -<span class="number">18</span> s <span class="number">58</span> <span class="number">18</span> <span class="number">88</span> <span class="number">18</span> v <span class="number">44</span> h -<span class="number">352</span> Z<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">          g.parallax</span></span><br><span class="line"><span class="string">            use(href=&#x27;</span>#gentle-wave<span class="string">&#x27;, x=&#x27;</span><span class="number">48</span><span class="string">&#x27;, y=&#x27;</span><span class="number">0</span><span class="string">&#x27;)</span></span><br><span class="line"><span class="string">            use(href=&#x27;</span>#gentle-wave<span class="string">&#x27;, x=&#x27;</span><span class="number">48</span><span class="string">&#x27;, y=&#x27;</span><span class="number">3</span><span class="string">&#x27;)</span></span><br><span class="line"><span class="string">            use(href=&#x27;</span>#gentle-wave<span class="string">&#x27;, x=&#x27;</span><span class="number">48</span><span class="string">&#x27;, y=&#x27;</span><span class="number">5</span><span class="string">&#x27;)</span></span><br><span class="line"><span class="string">            use(href=&#x27;</span>#gentle-wave<span class="string">&#x27;, x=&#x27;</span><span class="number">48</span><span class="string">&#x27;, y=&#x27;</span><span class="number">7</span><span class="string">&#x27;)</span></span><br><span class="line"><span class="string">// butterflyæ–‡ç« é¡¶éƒ¨æ·»åŠ æ³¢æµªæ•ˆæœï¼Œç»“æŸ</span></span><br></pre></td></tr></table></figure><p><strong>2. â• åˆ›å»ºæ³¢æµªCSSï¼š</strong></p><p><strong>åˆ›å»º <code>Hexoæ ¹ç›®å½•/source/css/bolang.css</code> æ–‡ä»¶ï¼Œå°†ä»£ç å¤åˆ¶ç²˜è´´åˆ°è¯¥æ–‡ä»¶ä¸­</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ³¢æµªcss */</span></span><br><span class="line"><span class="selector-class">.main-hero-waves-area</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">11px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">5</span>;</span><br><span class="line">  <span class="comment">/* è®¾ç½®åˆå§‹çŠ¶æ€ï¼Œé¿å…é—ªçƒ */</span></span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>); </span><br><span class="line">  <span class="attribute">will-change</span>: transform;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.waves-area</span> <span class="selector-class">.waves-svg</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">5rem</span>;</span><br><span class="line">  <span class="comment">/* è®¾ç½®åˆå§‹çŠ¶æ€ï¼Œé¿å…é—ªçƒ */</span></span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>); </span><br><span class="line">  <span class="attribute">will-change</span>: transform;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Animation */</span></span><br><span class="line"><span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: move-forever <span class="number">25s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.55</span>, <span class="number">0.5</span>, <span class="number">0.45</span>, <span class="number">0.5</span>) infinite;</span><br><span class="line">  <span class="comment">/* è®¾ç½®åˆå§‹çŠ¶æ€ï¼Œé¿å…é—ªçƒ */</span></span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(-<span class="number">90px</span>, <span class="number">0</span>, <span class="number">0</span>); </span><br><span class="line">  <span class="attribute">will-change</span>: transform;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span><span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">2s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">7s</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#f7f9febd</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">3s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">10s</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#f7f9fe82</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span><span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">4s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">13s</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#f7f9fe36</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span><span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">5s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">20s</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#f7f9fe</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* é»‘è‰²æ¨¡å¼èƒŒæ™¯ */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span><span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">2s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">7s</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#18171dc8</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">3s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">10s</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#18171d80</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span><span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">4s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">13s</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#18171d3e</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span><span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">5s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">20s</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#18171d</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> move-forever &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(-<span class="number">90px</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">85px</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Shrinking for mobile*/</span></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.waves-area</span> <span class="selector-class">.waves-svg</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>3. â• å¼•å…¥CSSæ–‡ä»¶ï¼š</strong></p><ul><li>åœ¨ <code>_config.butterfly.yml</code> æ–‡ä»¶ä¸­æ‰¾åˆ° <code>inject</code> éƒ¨åˆ†ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span> <span class="comment">#æ³¨å…¥è‡ªå®šä¹‰css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/bolang.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="title-center"></a></p><h2 id="ğŸ“-ä¸ƒã€æ–‡ç« æ ‡é¢˜å±…ä¸­">ğŸ“ ä¸ƒã€æ–‡ç« æ ‡é¢˜å±…ä¸­</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-7">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>å°†æ–‡ç« æ ‡é¢˜åŠå…¶ç›¸å…³ä¿¡æ¯å±…ä¸­æ˜¾ç¤ºï¼Œæå‡é¡µé¢æ’ç‰ˆç¾è§‚åº¦ã€‚</p><h3 id="ğŸ”§-å®ç°æ–¹æ³•-2">ğŸ”§ å®ç°æ–¹æ³•</h3><ul><li>åšå®¢æ ¹ç›®å½•<code>\themes\butterfly\source\css_layout\head.styl</code></li><li>è¯¥ä»£ç å—åœ¨ç¬¬100è¡Œå·¦å³</li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#post-info</span></span><br><span class="line">  <span class="attribute">position</span>: absolute</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">100px</span>  //æ–‡ç« ä¿¡æ¯è·ç¦»æ–‡ç« å—çš„é«˜åº¦.æ”¹ä¸º<span class="number">100px</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">8%</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">  <span class="attribute">text-align</span>: center</span><br></pre></td></tr></table></figure><hr><p><a id="category-magnets"></a></p><h2 id="ğŸ§²-å…«ã€é¦–é¡µåˆ†ç±»ç£è´´">ğŸ§² å…«ã€é¦–é¡µåˆ†ç±»ç£è´´</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-8">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>ä½¿ç”¨ç£è´´å¼å¸ƒå±€å±•ç¤ºåˆ†ç±»æ ‡ç­¾ï¼Œæ”¯æŒè‡ªå®šä¹‰å›¾æ ‡å’Œæ‚¬åœæ•ˆæœï¼Œå¢å¼ºé¦–é¡µè§†è§‰å¸å¼•åŠ›ã€‚</p><h3 id="ğŸ”§-å®‰è£…æ’ä»¶-2">ğŸ”§ å®‰è£…æ’ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-magnet --save</span><br></pre></td></tr></table></figure><ul><li><strong>å¸è½½æ’ä»¶</strong><ul><li>æ³¨æ„ï¼Œä¸€å®šè¦åŠ  <code>--save</code>ï¼Œä¸ç„¶æœ¬åœ°é¢„è§ˆçš„æ—¶å€™å¯èƒ½ä¸ä¼šæ˜¾ç¤ºï¼ï¼ï¼</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-magnet --save --package-lock-only</span><br></pre></td></tr></table></figure><h3 id="âš™ï¸-é…ç½®ç¤ºä¾‹-2">âš™ï¸ é…ç½®ç¤ºä¾‹</h3><ul><li>åœ¨ç½‘ç«™é…ç½®æ–‡ä»¶<code>_config.yml</code>æ–°å¢ä»¥ä¸‹é¡¹ (æ³¨æ„<code>ä¸æ˜¯ä¸»é¢˜é…ç½®æ–‡ä»¶</code>)ï¼Œè¿™é‡Œçš„åˆ†ç±»åå­—å¿…é¡»å’Œä½ æ–‡ç« çš„åˆ†ç±»åå­—ä¸€ä¸€å¯¹åº”ï¼š</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">magnet:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">categories</span></span><br><span class="line">  <span class="attr">devide:</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">æ•™ç¨‹</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">å°å†°ã®é­”æ”¹æ•™ç¨‹</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">ğŸ“š</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">æ¸¸æˆè¯„æµ‹</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">å°å†°ã®æ¸¸æˆè¯„æµ‹</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">ğŸ®</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">ç”Ÿæ´»è¶£é—»</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">å°å†°ã®ç”Ÿæ´»è¶£é—»</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">ğŸ±â€ğŸ‘“</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">vue</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">å°å†°ã®ç¼–ç¨‹å­¦ä¹ </span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">ğŸ‘©â€ğŸ’»</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">å­¦ä¹ </span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">å°å†°ã®è¯»ä¹¦ç¬”è®°</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">ğŸ“’</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">éšæƒ³</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">å°å†°ã®èƒ¡æ€ä¹±æƒ³</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">ğŸ’¡</span></span><br><span class="line">  <span class="attr">color_setting:</span></span><br><span class="line">    <span class="attr">text_color:</span> <span class="string">black</span></span><br><span class="line">    <span class="attr">text_hover_color:</span> <span class="string">white</span></span><br><span class="line">    <span class="attr">background_color:</span> <span class="string">&quot;#f2f2f2&quot;</span></span><br><span class="line">    <span class="attr">background_hover_color:</span> <span class="string">&quot;#b30070&quot;</span></span><br><span class="line">  <span class="attr">layout:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">temple_html:</span> <span class="string">&#x27;&lt;div class=&quot;recent-post-item&quot; style=&quot;width:100%;height: auto&quot;&gt;&lt;div id=&quot;catalog_magnet&quot;&gt;$&#123;temple_html_item&#125;&lt;/div&gt;&lt;/div&gt;&#x27;</span></span><br><span class="line">  <span class="attr">plus_style:</span> <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure><p><strong>é…ç½®é¡¹è¯´æ˜</strong></p><ul><li>é…ç½®é¡¹çš„å«ä¹‰ï¼š</li><li>enable<ul><li>å‚æ•°ï¼štrue/false</li><li>å«ä¹‰ï¼šæ˜¯å¦å¼€å¯æ’ä»¶</li></ul></li><li>enable_page<ul><li>å‚æ•°ï¼š/</li><li>å«ä¹‰ï¼šè·¯ç”±åœ°å€ï¼Œå¦‚ / ä»£è¡¨ä¸»é¡µã€‚/me/ ä»£è¡¨è‡ªæˆ‘ä»‹ç»é¡µç­‰ç­‰</li></ul></li><li>priority<ul><li>å‚æ•°ï¼š1</li><li>å«ä¹‰ï¼šæ’ä»¶çš„å æ”¾é¡ºåºï¼Œæ•°å­—è¶Šå¤§ï¼Œå æ”¾çº¦é å‰ã€‚</li></ul></li><li>type<ul><li>å‚æ•°ï¼šcategories/tags</li><li>å«ä¹‰ï¼šé€‰æ‹©ç­›é€‰åˆ†ç±»è¿˜æ˜¯æ ‡ç­¾</li></ul></li><li>devide<ul><li>å‚æ•°ï¼š2</li><li>å«ä¹‰ï¼šè¡¨ç¤ºåˆ†éš”çš„åˆ—æ•°ï¼Œ2 è¡¨ç¤ºåˆ†ä¸ºä¸¤åˆ—å±•ç¤º</li></ul></li><li>display<ul><li>å‚æ•°ï¼š</li></ul></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">æ•™ç¨‹</span> <span class="comment"># è¿™é‡Œæ˜¯tagsæˆ–è€…categoriesçš„åç§°  </span></span><br><span class="line"> <span class="attr">display_name:</span> <span class="string">å°å†°ã®é­”æ”¹æ•™ç¨‹</span> <span class="comment"># è¿™é‡Œæ˜¯æ›¿æ¢çš„åç§°  </span></span><br><span class="line"> <span class="attr">icon:</span> <span class="string">ğŸ“š</span> <span class="comment"># è¿™é‡Œæ˜¯å±•ç¤ºçš„å›¾æ ‡</span></span><br></pre></td></tr></table></figure><ul><li>å«ä¹‰ï¼šé…ç½®é¡¹ï¼Œå¯è‡ªè¡Œè®¾ç½®ï¼ŒæŒ‰ç…§è®¾ç½®çš„é¡ºåºå±•ç¤º</li><li>color_setting<ul><li>å‚æ•°ï¼š</li></ul></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">text_color:</span> <span class="string">black</span> <span class="comment"># æ–‡å­—é»˜è®¤é¢œè‰²  </span></span><br><span class="line"><span class="attr">text_hover_color:</span> <span class="string">white</span> <span class="comment"># æ–‡å­—é¼ æ ‡æ‚¬æµ®é¢œè‰²  </span></span><br><span class="line"><span class="attr">background_color:</span> <span class="string">&quot;#f2f2f2&quot;</span> <span class="comment"># æ–‡å­—èƒŒæ™¯é»˜è®¤é¢œè‰²  </span></span><br><span class="line"><span class="attr">background_hover_color:</span> <span class="string">&quot;#b30070&quot;</span> <span class="comment"># æ–‡å­—èƒŒæ™¯æ‚¬æµ®é¢œè‰²</span></span><br></pre></td></tr></table></figure><ul><li>å«ä¹‰ï¼šé¢œè‰²é…ç½®é¡¹ï¼Œå¯è‡ªè¡Œè®¾ç½®</li><li>layout</li><li>å‚æ•°ï¼štype; ï¼ˆclass&amp;idï¼‰</li><li>å‚æ•°ï¼šname;</li><li>å‚æ•°ï¼šindexï¼›ï¼ˆæ•°å­—ï¼‰</li><li>å«ä¹‰ï¼šå¦‚æœè¯´ magnet æ˜¯ä¸€å¹…ç”»ï¼Œé‚£ä¹ˆè¿™ä¸ª layout å°±æ˜¯æŒ‡å®šäº†å“ªé¢å¢™æ¥æŒ‚ç”»  è€Œåœ¨ HTML çš„æ˜¯ä¸–ç•Œé‡Œæœ‰ä¸¤ç§å¢™åˆ†åˆ« type ä¸º id å’Œ classã€‚  å…¶ä¸­åœ¨å®šä¹‰ class çš„æ—¶å€™ä¼šå‡ºç°å¤šä¸ª class çš„æƒ…å†µï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨ indexï¼Œç¡®å®šæ˜¯å“ªä¸€ä¸ªã€‚  æœ€åå¢™çš„åå­—å³æ˜¯ name;</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;æˆ‘æ˜¯å¢™&quot;</span> <span class="attr">id</span>=<span class="string">&quot;recent-posts&quot;</span>&gt;</span>  </span><br><span class="line"> <span class="comment">&lt;!-- id=&gt;type  recent-posts=&gt;name    --&gt;</span>  </span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;æˆ‘æ˜¯ç”»æ¡†&quot;</span>&gt;</span>  </span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;æˆ‘æ˜¯çº¸&quot;</span>&gt;</span>  </span><br><span class="line"> <span class="comment">&lt;!--è¿™é‡Œé€šè¿‡jsæŒ‚è½½magnetï¼Œä¹Ÿå°±æ˜¯ç”»ç”»--&gt;</span>  </span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å‚æ•°ï¼šhtml æ¨¡æ¿å­—æ®µ<br>å«ä¹‰ï¼šåŒ…å«æŒ‚è½½å®¹å™¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;recent-post-item&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%;height: auto&quot;</span>&gt;</span> <span class="comment">&lt;!--æ–‡ç« å®¹å™¨--&gt;</span>  </span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;catalog_magnet&quot;</span>&gt;</span>  <span class="comment">&lt;!--æŒ‚è½½å®¹å™¨--&gt;</span>  </span><br><span class="line"> $&#123;temple_html_item&#125;  </span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>plus_style</li><li>å‚æ•°ï¼šâ€œâ€  å«ä¹‰ï¼šæä¾›å¯è‡ªå®šä¹‰çš„ styleï¼Œå¦‚åŠ å…¥é»‘å¤œæ¨¡å¼ã€‚</li></ul><p><strong>ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><p><strong>ä¿®å¤é»‘å¤œæ¨¡å¼</strong></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é»‘å¤œæ¨¡å¼çœ‹èµ·æ¥ç‰¹åˆ«çš„åˆ«æ‰­ï¼Œå› æ­¤è¿˜è¦åšä¸€ä¸‹é»‘å¤œæ¨¡å¼çš„é¢œè‰²é€‚é…ï¼Œåœ¨<code>custom.css</code>æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç é€‚é…é»‘å¤œæ¨¡å¼(å…·ä½“é¢œè‰²å¯ä»¥è‡ªå·±è°ƒèŠ‚)ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å°å†°åˆ†ç±»åˆ†ç±»ç£é“é»‘å¤œæ¨¡å¼é€‚é… */</span>  </span><br><span class="line"><span class="comment">/* ä¸€èˆ¬çŠ¶æ€ */</span>  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.magnet_link_context</span> &#123;  </span><br><span class="line"> <span class="attribute">background</span>: <span class="number">#1e1e1e</span>;  </span><br><span class="line"> <span class="attribute">color</span>: antiquewhite;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">/* é¼ æ ‡æ‚¬æµ®çŠ¶æ€ */</span>  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.magnet_link_context</span><span class="selector-pseudo">:hover</span> &#123;  </span><br><span class="line"> <span class="attribute">background</span>: <span class="number">#3ecdf1</span>;  </span><br><span class="line"> <span class="attribute">color</span>: <span class="number">#f2f2f2</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p><a id="dark-mode-animation"></a></p><h2 id="ğŸŒ™-ä¹ã€å¤œé—´æ¨¡å¼åŠ¨ç”»">ğŸŒ™ ä¹ã€å¤œé—´æ¨¡å¼åŠ¨ç”»</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-9">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>ä¸ºæ˜æš—æ¨¡å¼åˆ‡æ¢æ·»åŠ å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼Œå¢å¼ºç•Œé¢äº¤äº’æ„Ÿã€‚</p><h3 id="ğŸ”§-å®ç°æ­¥éª¤-3">ğŸ”§ å®ç°æ­¥éª¤</h3><p><strong>1. â• åˆ›å»º svg æ–‡ä»¶</strong></p><ul><li>æ–°å»º<code>åšå®¢æ ¹ç›®å½•\themes\butterfly\layout\includes\custom\sun_moon.pug</code>,è¿™éƒ¨åˆ†å…¶å®å®è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªsvgæ–‡ä»¶ï¼Œé€šè¿‡jsæ“ä½œå®ƒçš„æ—‹è½¬æ˜¾éšï¼Œæ·¡å…¥æ·¡å‡ºå®ç°åŠ¨ç”»æ•ˆæœã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">svg(aria-hidden=&#x27;true&#x27;, style=&#x27;position:absolute; overflow:hidden; width:0; height:0&#x27;)</span><br><span class="line">  symbol#icon-sun(viewBox=&#x27;0 0 1024 1024&#x27;)</span><br><span class="line">    path(d=&#x27;M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z&#x27;, fill=&#x27;#FFD878&#x27;, p-id=&#x27;8420&#x27;)</span><br><span class="line">    path(d=&#x27;M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z&#x27;, fill=&#x27;#FFE4A9&#x27;, p-id=&#x27;8421&#x27;)</span><br><span class="line">    path(d=&#x27;M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z&#x27;, fill=&#x27;#4D5152&#x27;, p-id=&#x27;8422&#x27;)</span><br><span class="line">    path(d=&#x27;M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z&#x27;, fill=&#x27;#4D5152&#x27;, p-id=&#x27;8423&#x27;)</span><br><span class="line">  symbol#icon-moon(viewBox=&#x27;0 0 1024 1024&#x27;)</span><br><span class="line">    path(d=&#x27;M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z&#x27;, fill=&#x27;#FFB531&#x27;, p-id=&#x27;11345&#x27;)</span><br><span class="line">    path(d=&#x27;M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z&#x27;, fill=&#x27;#030835&#x27;, p-id=&#x27;11346&#x27;)</span><br></pre></td></tr></table></figure><p><strong>2. â• åˆ›å»º <code>styl</code>åŠ¨ç”»æ–‡ä»¶</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">Cuteen_DarkSky</span>,</span><br><span class="line">.<span class="property">Cuteen_DarkSky</span>:before</span><br><span class="line">  content <span class="string">&#x27;&#x27;</span></span><br><span class="line">  position fixed</span><br><span class="line">  left <span class="number">0</span></span><br><span class="line">  right <span class="number">0</span></span><br><span class="line">  top <span class="number">0</span></span><br><span class="line">  bottom <span class="number">0</span></span><br><span class="line">  z-index <span class="number">88888888</span></span><br><span class="line"></span><br><span class="line">.<span class="property">Cuteen_DarkSky</span></span><br><span class="line">  background linear-<span class="title function_">gradient</span>(to top, #f8cd71 <span class="number">0</span>, #5bfde9 <span class="number">80</span>%)</span><br><span class="line">  &amp;:before</span><br><span class="line">    transition 2s ease all</span><br><span class="line">    opacity <span class="number">0</span></span><br><span class="line">    background linear-<span class="title function_">gradient</span>(to top, #30cfd0 <span class="number">0</span>, #<span class="number">330867</span> <span class="number">100</span>%)</span><br><span class="line"></span><br><span class="line">.<span class="property">DarkMode</span></span><br><span class="line">  .<span class="property">Cuteen_DarkSky</span></span><br><span class="line">    &amp;:before</span><br><span class="line">      opacity <span class="number">1</span></span><br><span class="line"></span><br><span class="line">.<span class="property">Cuteen_DarkPlanet</span></span><br><span class="line">  z-index <span class="number">99999999</span></span><br><span class="line">  position fixed</span><br><span class="line">  left -<span class="number">50</span>%</span><br><span class="line">  top -<span class="number">50</span>%</span><br><span class="line">  width <span class="number">200</span>%</span><br><span class="line">  height <span class="number">200</span>%</span><br><span class="line">  -webkit-animation <span class="title class_">CuteenPlanetMove</span> 2s cubic-<span class="title function_">bezier</span>(<span class="number">0.7</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">  animation <span class="title class_">CuteenPlanetMove</span> 2s cubic-<span class="title function_">bezier</span>(<span class="number">0.7</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">  transform-origin center bottom</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@-webkit-keyframes <span class="title class_">CuteenPlanetMove</span> &#123;</span><br><span class="line">  <span class="number">0</span>% &#123;</span><br><span class="line">    <span class="attr">transform</span>: <span class="title function_">rotate</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    <span class="attr">transform</span>: <span class="title function_">rotate</span>(360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes <span class="title class_">CuteenPlanetMove</span> &#123;</span><br><span class="line">  <span class="number">0</span>% &#123;</span><br><span class="line">    <span class="attr">transform</span>: <span class="title function_">rotate</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    <span class="attr">transform</span>: <span class="title function_">rotate</span>(360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">Cuteen_DarkPlanet</span></span><br><span class="line">  #sun</span><br><span class="line">    position absolute</span><br><span class="line">    border-radius <span class="number">100</span>%</span><br><span class="line">    left <span class="number">44</span>%</span><br><span class="line">    top <span class="number">30</span>%</span><br><span class="line">    height 6rem</span><br><span class="line">    width 6rem</span><br><span class="line">    background #ffee94</span><br><span class="line">    box-shadow <span class="number">0</span> <span class="number">0</span> 40px #ffee94</span><br><span class="line">    <span class="comment">// opacity 0</span></span><br><span class="line"></span><br><span class="line">  #moon</span><br><span class="line">    position absolute</span><br><span class="line">    border-radius <span class="number">100</span>%</span><br><span class="line">    left <span class="number">44</span>%</span><br><span class="line">    top <span class="number">30</span>%</span><br><span class="line">    position absolute</span><br><span class="line">    border-radius <span class="number">100</span>%</span><br><span class="line">    height 6rem</span><br><span class="line">    width 6rem</span><br><span class="line">    box-shadow -<span class="number">1.</span>8em <span class="number">1.</span>8em <span class="number">0</span> <span class="number">0.</span>2em #fff</span><br><span class="line">    <span class="comment">// opacity 1</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// &amp;:after</span></span><br><span class="line">  <span class="comment">//   position absolute</span></span><br><span class="line">  <span class="comment">//   left 42%</span></span><br><span class="line">  <span class="comment">//   top 30%</span></span><br><span class="line">  <span class="comment">//   width 6rem</span></span><br><span class="line">  <span class="comment">//   height 6rem</span></span><br><span class="line">  <span class="comment">//   border-radius 50%</span></span><br><span class="line">  <span class="comment">//   content &#x27;&#x27;</span></span><br><span class="line">  <span class="comment">//   background #ffef9e</span></span><br><span class="line">  <span class="comment">//   box-shadow 0 0 30px #ffef9e</span></span><br><span class="line"></span><br><span class="line">.<span class="property">search</span></span><br><span class="line">  span</span><br><span class="line">    display none</span><br><span class="line"></span><br><span class="line">.<span class="property">menus_item</span></span><br><span class="line">  a</span><br><span class="line">    text-decoration none!important</span><br><span class="line">    </span><br><span class="line"><span class="comment">//æŒ‰é’®ç›¸å…³ï¼Œå¯¹ä¾§æ æŒ‰é’®åšè¿‡é­”æ”¹çš„å¯ä»¥è°ƒæ•´è¿™é‡Œçš„æ•°å€¼</span></span><br><span class="line">.<span class="property">icon</span>-V</span><br><span class="line">  padding 5px</span><br></pre></td></tr></table></figure><p><strong>3. â•åˆ›å»ºJSæ–‡ä»¶</strong></p><ul><li>æ–°å»º<code>åšå®¢æ ¹ç›®å½•\themes\butterfly\source\js\sun_moon.js</code>,å»é™¤äº†å†—ä½™ä»£ç ï¼Œå»jquery</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ saveToLocal å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> saveToLocal = &#123;</span><br><span class="line">    <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params">key, value, expiration</span>) &#123;</span><br><span class="line">        <span class="comment">// å­˜å‚¨æ•°æ®æ—¶å°†æ•°æ®è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="keyword">const</span> data = &#123; <span class="attr">value</span>: value, <span class="attr">expiration</span>: expiration &#125;;</span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(key, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data));</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params">key</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> storedData = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(key);</span><br><span class="line">        <span class="keyword">if</span> (storedData) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">const</span> parsedData = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(storedData);</span><br><span class="line">                <span class="comment">// æ£€æŸ¥æ•°æ®æ˜¯å¦è¿‡æœŸ</span></span><br><span class="line">                <span class="keyword">if</span> (parsedData.<span class="property">expiration</span> &amp;&amp; <span class="title class_">Date</span>.<span class="title function_">now</span>() &gt; parsedData.<span class="property">expiration</span>) &#123;</span><br><span class="line">                    <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(key);</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> parsedData.<span class="property">value</span>;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;è§£æ JSON æ•°æ®æ—¶å‡ºé”™:&#x27;</span>, error);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">switchNightMode</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="title function_">insertAdjacentHTML</span>(<span class="string">&#x27;beforeend&#x27;</span>, <span class="string">&#x27;&lt;div class=&quot;Cuteen_DarkSky&quot;&gt;&lt;div class=&quot;Cuteen_DarkPlanet&quot;&gt;&lt;div id=&quot;sun&quot;&gt;&lt;/div&gt;&lt;div id=&quot;moon&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#x27;</span>);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">contains</span>(<span class="string">&#x27;DarkMode&#x27;</span>)) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;DarkMode&#x27;</span>);</span><br><span class="line">            <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;isDark&#x27;</span>, <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-moon&#x27;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;DarkMode&#x27;</span>);</span><br><span class="line">            <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;isDark&#x27;</span>, <span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-sun&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="property">style</span>.<span class="property">transition</span> = <span class="string">&#x27;opacity 3s&#x27;</span>;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="title function_">remove</span>();</span><br><span class="line">            &#125;, <span class="number">1000</span>);</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">const</span> nowMode = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>) === <span class="string">&#x27;dark&#x27;</span> ? <span class="string">&#x27;dark&#x27;</span> : <span class="string">&#x27;light&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span> (nowMode === <span class="string">&#x27;light&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// å…ˆè®¾ç½®å¤ªé˜³æœˆäº®é€æ˜åº¦</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sun&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;moon&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sun&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;moon&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="title function_">activateDarkMode</span>();</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>, <span class="number">2</span>);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-sun&#x27;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// å…ˆè®¾ç½®å¤ªé˜³æœˆäº®é€æ˜åº¦</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sun&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;moon&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sun&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;moon&quot;</span>).<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="title function_">activateLightMode</span>();</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>, <span class="number">2</span>);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;DarkMode&#x27;</span>);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-moon&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// handle some cases</span></span><br><span class="line">    <span class="keyword">typeof</span> utterancesTheme === <span class="string">&#x27;function&#x27;</span> &amp;&amp; <span class="title function_">utterancesTheme</span>();</span><br><span class="line">    <span class="keyword">typeof</span> <span class="variable constant_">FB</span> === <span class="string">&#x27;object&#x27;</span> &amp;&amp; <span class="variable language_">window</span>.<span class="title function_">loadFBComment</span>();</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">DISQUS</span> &amp;&amp; <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;disqus_thread&#x27;</span>).<span class="property">children</span>.<span class="property">length</span> &amp;&amp; <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">window</span>.<span class="title function_">disqusReset</span>(), <span class="number">200</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ  activateLightMode å‡½æ•°å®šä¹‰</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">activateLightMode</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œå¯ä»¥æ·»åŠ åˆ‡æ¢åˆ°ç™½å¤©æ¨¡å¼çš„å…·ä½“ä»£ç </span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">setAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>);</span><br><span class="line">    <span class="comment">// å¯ä»¥æ·»åŠ å…¶ä»–ç™½å¤©æ¨¡å¼çš„æ ·å¼ä¿®æ”¹ä»£ç </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ  activateDarkMode å‡½æ•°å®šä¹‰</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">activateDarkMode</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œå¯ä»¥æ·»åŠ åˆ‡æ¢åˆ°å¤œé—´æ¨¡å¼çš„å…·ä½“ä»£ç </span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">setAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>);</span><br><span class="line">    <span class="comment">// å¯ä»¥æ·»åŠ å…¶ä»–å¤œé—´æ¨¡å¼çš„æ ·å¼ä¿®æ”¹ä»£ç </span></span><br></pre></td></tr></table></figure><p><strong>4. â• å¼•å…¥åŠ¨ç”»æ–‡ä»¶ï¼š</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">defer</span> <span class="string">data-pjax</span> <span class="string">src=&quot;/js/sun_moon.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p><strong>5. âœï¸ ä¿®æ”¹ç›¸å…³æ–‡ä»¶</strong></p><ul><li>ä¿®æ”¹<code>åšå®¢æ ¹ç›®å½•\themes\butterfly\layout\includes\head.pug</code>,åœ¨æ–‡ä»¶æœ«ä½åŠ ä¸Šä¸€è¡Œ</li></ul><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> //- global config  </span><br><span class="line"> !=partial(&#x27;includes/head/config&#x27;, &#123;&#125;, &#123;cache: true&#125;)  </span><br><span class="line">  </span><br><span class="line"> include ./head/config_site.pug  </span><br><span class="line"> include ./head/noscript.pug  </span><br><span class="line">  </span><br><span class="line"> !=fragment_cache(&#x27;injectHeadJs&#x27;, function()&#123;return inject_head_js()&#125;)  </span><br><span class="line">  </span><br><span class="line"> !=fragment_cache(&#x27;injectHead&#x27;, function()&#123;return injectHtml(theme.inject.head)&#125;)  </span><br><span class="line"><span class="addition">+ include ./custom/sun_moon.pug</span></span><br></pre></td></tr></table></figure><p><strong>ä¿®æ”¹<code>åšå®¢æ ¹ç›®å½•\themes\butterfly\layout\includes\rightside.pug</code>,æŠŠåŸæœ¬çš„æ˜¼å¤œåˆ‡æ¢æŒ‰é’®æ›¿æ¢æ‰</strong></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> when &#x27;translate&#x27;  </span><br><span class="line"> if translate.enable  </span><br><span class="line"> button#translateLink(type=&quot;button&quot; title=_p(&#x27;rightside.translate_title&#x27;))= translate.default  </span><br><span class="line"> when &#x27;darkmode&#x27;  </span><br><span class="line"> if darkmode.enable &amp;&amp; darkmode.button  </span><br><span class="line"><span class="deletion">-     button#darkmode(type=&quot;button&quot; title=_p(&#x27;rightside.night_mode_title&#x27;))  </span></span><br><span class="line"><span class="deletion">-       i.fas.fa-adjust  </span></span><br><span class="line"><span class="addition">+     a.icon-V.hidden(onclick=&#x27;switchNightMode()&#x27;,  title=_p(&#x27;rightside.night_mode_title&#x27;))  </span></span><br><span class="line"><span class="addition">+       svg(width=&#x27;25&#x27;, height=&#x27;25&#x27;, viewBox=&#x27;0 0 1024 1024&#x27;)  </span></span><br><span class="line"><span class="addition">+         use#modeicon(xlink:href=&#x27;#icon-moon&#x27;)</span></span><br></pre></td></tr></table></figure><p><strong>6. ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="colorful-icons"></a></p><h2 id="ğŸ¨-åã€å¯¼èˆªæ å¤šå½©å›¾æ ‡">ğŸ¨ åã€å¯¼èˆªæ å¤šå½©å›¾æ ‡</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-10">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>ä½¿ç”¨é˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“ä¸ºå¯¼èˆªæ æ·»åŠ å¤šå½©å›¾æ ‡ï¼Œæ”¯æŒåŠ¨æ€æ•ˆæœå’Œè‡ªå®šä¹‰æ ·å¼ã€‚</p><h3 id="ğŸ”§-å®ç°æ­¥éª¤-4">ğŸ”§ å®ç°æ­¥éª¤</h3><h4 id="1-â•-å¼•å…¥iconfontå›¾æ ‡">1. â• å¼•å…¥iconfontå›¾æ ‡</h4><p>è§ï¼š<a href="https://akilar.top/posts/d2ebecef/">Iconfont Inject</a></p><p><strong>æ–°å»ºå›¾æ ‡é¡¹ç›®</strong></p><ol><li><p>è®¿é—®<a href="https://www.iconfont.cn/">é˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“</a>,æ³¨å†Œç™»å½•ã€‚</p></li><li><p>æœç´¢è‡ªå·±å¿ƒä»ªçš„å›¾æ ‡ï¼Œç„¶åé€‰æ‹©<strong>æ·»åŠ å…¥åº“</strong>ï¼ŒåŠ åˆ°è´­ç‰©è½¦ã€‚</p></li><li><p>é€‰æ‹©å®Œæ¯•åç‚¹å‡»å³ä¸Šè§’çš„è´­ç‰©è½¦å›¾æ ‡ï¼Œæ‰“å¼€ä¾§æ ï¼Œé€‰æ‹©æ·»åŠ åˆ°é¡¹ç›®ï¼Œå¦‚æœæ²¡æœ‰é¡¹ç›®å°±æ–°å»ºä¸€ä¸ªã€‚</p><p><img src="https://s1.vika.cn/space/2022/10/29/91ec7f6432274b42b50698ef554a2b91" alt="p4"></p></li><li><p>å¯ä»¥é€šè¿‡ä¸Šæ–¹é¡¶æ èœå•-&gt;èµ„æºç®¡ç†-&gt;æˆ‘çš„é¡¹ç›®ï¼Œæ‰¾åˆ°ä¹‹å‰æ·»åŠ çš„å›¾æ ‡é¡¹ç›®ã€‚(ç°åœ¨çš„iconfontå¯ä»¥åœ¨å›¾æ ‡åº“çš„é¡¹ç›®è®¾ç½®é‡Œç›´æ¥æ‰“å¼€å½©è‰²è®¾ç½®ï¼Œç„¶åé‡‡ç”¨fontclassçš„å¼•ç”¨æ–¹å¼å³å¯ä½¿ç”¨å¤šå½©å›¾æ ‡ã€‚ä½†æ˜¯<strong>å•ä¸€é¡¹ç›®å½©è‰²å›¾æ ‡ä¸Šé™æ˜¯40ä¸ªå›¾æ ‡</strong>ï¼Œé…Œæƒ…é‡‡ç”¨ã€‚)</p><p><img src="https://s1.vika.cn/space/2022/10/29/ed3f516f1162418faec46808103d3840" alt="image-20221029212836645"></p><p><img src="https://s1.vika.cn/space/2022/10/29/a1984c415cb7442ba088e7a489cb2d8a" alt="image-20221029212857202"></p></li></ol><p><strong>å¼•å…¥å›¾æ ‡</strong></p><p>çº¿ä¸Šå¼•å…¥æ–¹æ¡ˆï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯å®˜æ–¹æ–‡æ¡£ä¸­æœ€ä¾¿æ·çš„<code>font-class</code>æ–¹æ¡ˆã€‚è¿™ä¸€æ–¹æ¡ˆå¶å°”ä¼šå‡ºç°å›¾æ ‡åŠ è½½ä¸å‡ºçš„æƒ…å†µã€‚ä½†æ˜¯ä¾¿äºéšæ—¶å¯¹å›¾æ ‡åº“è¿›è¡Œå‡çº§ï¼Œæ¢ä¸€ä¸‹åœ¨çº¿é“¾æ¥å³å¯ï¼Œé€‚åˆæ–°æ‰‹ä½¿ç”¨ã€‚æœ€æ–°ç‰ˆæœ¬çš„iconfontæ”¯æŒç›´æ¥åœ¨é¡¹ç›®è®¾ç½®ä¸­å¼€å¯å½©è‰²å›¾æ ‡ï¼Œä»è€Œå®ç°ç›´æ¥ç”¨classæ·»åŠ å¤šå½©è‰²å›¾æ ‡ã€‚ï¼ˆæ¨èç›´æ¥ç”¨è¿™ä¸ªå³å¯ï¼‰</p><ol><li>åœ¨<code>[BlogRoot]\themes\butterfly\source\css\custom.css</code>ä¸­å¡«å†™å¦‚ä¸‹å†…å®¹ï¼Œå¼•å…¥Unicodeå’ŒFont-classçš„çº¿ä¸Šèµ„æºï¼š</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&quot;//at.alicdn.com/t/font_2264842_b004iy0kk2b.css&quot;</span>;</span><br></pre></td></tr></table></figure><p>æ›´æ¨èåœ¨åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶<code>inject</code>é…ç½®é¡¹è¿›è¡Œå…¨å±€å¼•å…¥ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;//at.alicdn.com/t/font_2264842_b004iy0kk2b.css&quot;</span> <span class="string">media=&quot;defer&quot;</span> <span class="string">onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">src=&quot;//at.alicdn.com/t/font_2264842_b004iy0kk2b.js&quot;&gt;&lt;/script&gt;</span> </span><br></pre></td></tr></table></figure><p>åŒæ—¶å¯ä»¥åœ¨è‡ªå®šä¹‰<code>CSS</code>ä¸­æ·»åŠ å¦‚ä¸‹æ ·å¼æ¥æ§åˆ¶å›¾æ ‡é»˜è®¤å¤§å°å’Œé¢œè‰²ç­‰å±æ€§ï¼ˆ<strong>è‹¥å·²ç»åœ¨é¡¹ç›®è®¾ç½®ä¸­å‹¾é€‰äº†å½©è‰²é€‰é¡¹ï¼Œåˆ™æ— éœ€å†å®šä¹‰å›¾æ ‡é¢œè‰²</strong>ï¼‰ï¼Œå†™æ³•ä¸å­—ä½“æ ·å¼ç±»ä¼¼ï¼Œè¿™ææ€•ä¹Ÿæ˜¯å®ƒè¢«ç§°ä¸º<code>iconfont</code>ï¼ˆå›¾æ ‡å­—ä½“ï¼‰çš„åŸå› :</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.iconfont</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;iconfont&quot;</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="comment">/* è¿™é‡Œå¯ä»¥è‡ªå®šä¹‰å›¾æ ‡å¤§å° */</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">3em</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  -webkit-<span class="attribute">font-smoothing</span>: antialiased;</span><br><span class="line">  -moz-osx-<span class="attribute">font-smoothing</span>: grayscale;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥é€šè¿‡è‡ªå·±çš„é˜¿é‡Œå›¾æ ‡åº“çš„font-classæ–¹æ¡ˆæŸ¥è¯¢å¤åˆ¶ç›¸åº”çš„<code>icon-xxxx</code>ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-rat&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-ox&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-tiger&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-rabbit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-dragon&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-snake&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-horse&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-goat&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-monkey&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-rooster&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-dog&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-boar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-ğŸ¨-èœå•æ å¤šè‰²åŠ¨æ€å›¾æ ‡">2. ğŸ¨ èœå•æ å¤šè‰²åŠ¨æ€å›¾æ ‡</h4><p>è¯¦è§ï¼š<a href="https://akilar.top/posts/23fdf850/">ç³–æœå±‹å¾®è°ƒåˆé›†</a></p><p>ç›¸æ¯”äºé™æ€çš„å›¾æ ‡ï¼Œä¸ªäººæ›´å–œæ¬¢åŠ¨æ€çš„ï¼Œå› æ­¤ä¸€æ­¥åˆ°ä½ï¼</p><p>å‰ç½®æ•™ç¨‹ï¼š<a href="https://akilar.top/posts/d2ebecef/">Hexoå¼•å…¥é˜¿é‡ŒçŸ¢é‡å›¾æ ‡åº“-iconfont inject</a>å’Œ<a href="https://akilar.top/posts/615e2dec/#%E5%8A%A8%E6%80%81%E6%A0%87%E7%AD%BE-anima">åŸºäºButterflyçš„å¤–æŒ‚æ ‡ç­¾å¼•å…¥-Tag Plugins Plus</a>ä¸­å…³äº<code>åŠ¨æ€æ ‡ç­¾anima</code>çš„å†…å®¹ã€‚è¯·ç¡®ä¿æ‚¨å·²ç»å®Œæˆäº†å‰ç½®æ•™ç¨‹ï¼Œå¹¶å®ç°äº†åœ¨æ–‡ç« ä¸­ä½¿ç”¨<code>symbol</code>å†™æ³•æ¥å¼•å…¥<code>iconfont</code>å›¾æ ‡ã€‚åŒæ—¶å¼•å…¥äº†<code>fontawesome_animation</code>çš„å‰ç½®ä¾èµ–ã€‚<br>ä¸»è¦æ£€æŸ¥æ‚¨çš„<code>inject</code>é…ç½®é¡¹ä¸­æ˜¯å¦æœ‰è¿™ä¸¤ä¸ªä¾èµ–</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="comment">#åŠ¨ç”»æ ‡ç­¾animaçš„ä¾èµ–</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css&quot;</span>  <span class="string">media=&quot;defer&quot;</span> <span class="string">onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="comment"># é˜¿é‡ŒçŸ¢é‡å›¾æ ‡,è¿™ä¸²æ˜¯æˆ‘çš„å›¾æ ‡åº“ï¼Œä½ çš„é“¾æ¥ä¼šæœ‰æ‰€ä¸åŒã€‚</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">src=&quot;//at.alicdn.com/t/font_2032782_ev6ytrh30f.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>æ›¿æ¢<code>[BlogRoot]\themes\butterfly\layout\includes\header\menu_item.pug</code>ä¸ºä»¥ä¸‹ä»£ç ï¼Œæœ¬æ–¹æ¡ˆé»˜è®¤ä½¿ç”¨è§‚æ„Ÿæœ€ä½³çš„æ‚¬åœçˆ¶å…ƒç´ è§¦å‘å­å…ƒç´ åŠ¨ç”»æ•ˆæœï¼Œé»˜è®¤åŠ¨ç”»ä¸º<code>faa-tada</code>ã€‚æ³¨æ„ï¼šå¯ä»¥æŠŠä¹‹å‰çš„ä»£ç æ³¨é‡Šæ‰ï¼Œå†åœ¨åé¢åŠ ä¸Šå¦‚ä¸‹ä»£ç ï¼Œä»¥ä¾¿äºå›æ»šï¼Œæ­¤ä»£ç åœ¨<code>butterfly 4.3.1</code> ä¸Šå¯ä»¥è¿è¡Œå¹¶ä¿ç•™hideå­—æ®µéšè—å­èœå•çš„åŠŸèƒ½ï¼Œå…¶ä»–ç‰ˆæœ¬è‡ªè¡Œæµ‹è¯•ã€‚ä»£ç çš„æœ¬è´¨å¹¶ä¸å¤æ‚ï¼Œå°±æ˜¯æ‰«æé…ç½®æ–‡ä»¶å¯¹åº”çš„é…ç½®é¡¹ï¼Œç„¶åæ ¹æ®<code>||</code>çš„åˆ†å‰²æ ‡å¿—ç­›é€‰å‡ºå¯¹åº”çš„å›¾æ ‡åç§°ã€å¯¹åº”é“¾æ¥ç­‰ï¼Œä»è€Œæ¸²æŸ“å‡ºhtmlé¡µé¢ã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> theme.menu</span><br><span class="line">  .menus_items</span><br><span class="line">    each value, label <span class="keyword">in</span> theme.menu</span><br><span class="line">      <span class="keyword">if</span> typeof value !== <span class="string">&#x27;object&#x27;</span></span><br><span class="line">        .menus_item</span><br><span class="line">          - const valueArray = value.split(<span class="string">&#x27;||&#x27;</span>)</span><br><span class="line">          a.site-page.faa-parent.animated-hover(<span class="attribute">href</span>=url_for(trim(value.split(&#x27;||&#x27;)[0])))</span><br><span class="line">            <span class="keyword">if</span> valueArray[1]</span><br><span class="line">              i.fa-fw(<span class="attribute">class</span>=trim(valueArray[1]))</span><br><span class="line">              - var icon_value = trim(value.split(<span class="string">&#x27;||&#x27;</span>)[1])</span><br><span class="line">              - var anima_value = value.split(<span class="string">&#x27;||&#x27;</span>)[2] ? trim(value.split(<span class="string">&#x27;||&#x27;</span>)[2]) : <span class="string">&#x27;faa-tada&#x27;</span></span><br><span class="line">              <span class="keyword">if</span> icon_value.substring(0,2)==<span class="string">&quot;fa&quot;</span>      </span><br><span class="line">                i.fa-fw(<span class="attribute">class</span>=icon_value + <span class="string">&#x27; &#x27;</span> + anima_value)</span><br><span class="line">              <span class="keyword">else</span> <span class="keyword">if</span> icon_value.substring(0,4)==<span class="string">&quot;icon&quot;</span>          </span><br><span class="line">                svg.icon(<span class="attribute">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attribute">class</span>=anima_value)</span><br><span class="line">                  use(xlink:<span class="attribute">href</span>=`#`+ icon_value)</span><br><span class="line">            <span class="attribute">span</span>=<span class="string">&#x27; &#x27;</span>+label</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        .menus_item</span><br><span class="line">          - const labelArray = label.split(<span class="string">&#x27;||&#x27;</span>)</span><br><span class="line">          - const hideClass = labelArray[3] &amp;&amp; trim(labelArray[3]) === <span class="string">&#x27;hide&#x27;</span> ? <span class="string">&#x27;hide&#x27;</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">          a.site-page.group.faa-parent.animated-hover(<span class="attribute">class</span>=`$&#123;hideClass&#125;` <span class="attribute">href</span>=<span class="string">&#x27;javascript:void(0);&#x27;</span>)</span><br><span class="line">            <span class="keyword">if</span> labelArray[1]</span><br><span class="line">              - var icon_label = trim(label.split(<span class="string">&#x27;||&#x27;</span>)[1])</span><br><span class="line">              - var anima_label = label.split(<span class="string">&#x27;||&#x27;</span>)[2] ? trim(label.split(<span class="string">&#x27;||&#x27;</span>)[2]) : <span class="string">&#x27;faa-tada&#x27;</span></span><br><span class="line">              <span class="keyword">if</span> icon_label.substring(0,2)==<span class="string">&quot;fa&quot;</span>      </span><br><span class="line">                i.fa-fw(<span class="attribute">class</span>=icon_label + <span class="string">&#x27; &#x27;</span> + anima_label)</span><br><span class="line">              <span class="keyword">else</span> <span class="keyword">if</span> icon_label.substring(0,4)==<span class="string">&quot;icon&quot;</span>    </span><br><span class="line">                svg.icon(<span class="attribute">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attribute">class</span>=anima_label)</span><br><span class="line">                  use(xlink:<span class="attribute">href</span>=`#`+ icon_label)</span><br><span class="line">            <span class="attribute">span</span>=<span class="string">&#x27; &#x27;</span>+ trim(labelArray[0])</span><br><span class="line">            i.fas.fa-chevron-down</span><br><span class="line">          ul.menus_item_child</span><br><span class="line">            each val,lab <span class="keyword">in</span> value </span><br><span class="line">              - const valArray = val.split(<span class="string">&#x27;||&#x27;</span>)</span><br><span class="line">              li</span><br><span class="line">                a.site-page.child.faa-parent.animated-hover(<span class="attribute">href</span>=url_for(trim(val.split(&#x27;||&#x27;)[0])))</span><br><span class="line">                  <span class="keyword">if</span> valArray[1]</span><br><span class="line">                    - var icon_val = trim(val.split(<span class="string">&#x27;||&#x27;</span>)[1])</span><br><span class="line">                    - var anima_val = val.split(<span class="string">&#x27;||&#x27;</span>)[2] ? trim(val.split(<span class="string">&#x27;||&#x27;</span>)[2]) : <span class="string">&#x27;faa-tada&#x27;</span></span><br><span class="line">                    <span class="keyword">if</span> icon_val.substring(0,2)==<span class="string">&quot;fa&quot;</span>      </span><br><span class="line">                      i.fa-fw(<span class="attribute">class</span>=icon_val + <span class="string">&#x27; &#x27;</span> + anima_val)</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> icon_val.substring(0,4)==<span class="string">&quot;icon&quot;</span></span><br><span class="line">                      svg.icon(<span class="attribute">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attribute">class</span>=anima_val)</span><br><span class="line">                        use(xlink:<span class="attribute">href</span>=`#`+ icon_val)                    </span><br><span class="line">                  <span class="attribute">span</span>=<span class="string">&#x27; &#x27;</span>+ lab</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹æ˜¯å¡«å†™ç¤ºä¾‹ï¼Œåœ¨<code>[BlogRoot]\_config.butterfly.yml</code>ä¸­ä¿®æ”¹ã€‚<code>icon-xxx</code>å­—æ ·çš„ä¸º<code>iconfont</code>çš„<code>symbol</code>å¼•å…¥æ–¹æ¡ˆçš„<code>id</code>å€¼ï¼Œå¯ä»¥åœ¨ä½ çš„<code>iconfont</code>å›¾æ ‡åº“å†…æŸ¥è¯¢ï¼Œå…¶ä¸­hideå±æ€§ä¹Ÿæ˜¯å¯ä»¥ç”¨çš„ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">é¦–é¡µ:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">icon-home</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">  <span class="string">æ–‡ç« </span> <span class="string">||</span> <span class="string">icon--article</span> <span class="string">||</span> <span class="string">faa-tada</span> <span class="string">||</span> <span class="attr">hide:</span></span><br><span class="line">    <span class="string">å½’æ¡£:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">icon-guidang1</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">    <span class="string">æ ‡ç­¾:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">icon-sekuaibiaoqian</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">    <span class="string">åˆ†ç±»:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">icon-fenlei</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">    <span class="string">éšä¾¿é€›é€›:</span> <span class="string">javascript:randomPost();</span> <span class="string">||</span> <span class="string">icon-zuji1</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br></pre></td></tr></table></figure><p>è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„åŠ¨æ€å›¾æ ‡æ˜¯<code>svg.icon</code>çš„æ ‡ç­¾ï¼Œå› æ­¤ä¸Šé¢è°ƒèŠ‚<code>.iconfont</code>çš„csså¹¶ä¸ä½¿ç”¨ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è‡ªå®šä¹‰æ ·å¼æ–‡ä»¶<code>custom.css</code>é‡ŒåŠ ä¸Šä¸€äº›æ ·å¼æ¥é™åˆ¶å›¾æ ‡çš„å¤§å°å’Œé¢œè‰²ç­‰ï¼Œå…·ä½“å¤§å°è‡ªè¡Œè°ƒèŠ‚ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">svg</span><span class="selector-class">.icon</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1.28em</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1.28em</span>;</span><br><span class="line">  <span class="attribute">vertical-align</span>: -<span class="number">0.15em</span>;</span><br><span class="line">  <span class="attribute">fill</span>: currentColor;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-â•-æ·»åŠ æŒ‰é’®">3. â• æ·»åŠ æŒ‰é’®</h4><p><strong>ä¿®æ”¹<code>&quot;åšå®¢æ ¹ç›®å½•\themes\butterfly\layout\includes\header\nav.pug&quot;</code></strong></p><p><strong>1. ä¿®æ”¹æœç´¢æŒ‰é’®å›¾æ ‡ï¼š</strong></p><ul><li>å›¾æ ‡<code>icon-a-044_sousuo</code>ä¿®æ”¹ä¸ºè‡ªå·±çš„ï¼Œ<code>width: 2.2em; height: 2.2em;</code>ä¿®æ”¹å¤§å°</li><li>æŠŠä»¥ä¸‹è¯­å¥åˆ é™¤æˆ–æ³¨é‡Šæ‰å³å¯ï¼Œæœç´¢ä¸¤ä¸ªå­—å°±ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥(è¿™ç§è¯­å¥ç»Ÿä¸€å†™æ³•æ˜¯ç›´æ¥åˆ é™¤<code>+</code>å°±å¯ä»¥ï¼Œä¸ç”¨è¡¥ç©ºæ ¼)ã€‚</li></ul><p><strong>2. å¼•å…¥æ˜æš—æ¨¡å¼åˆ‡æ¢å›¾æ ‡ï¼š</strong></p><ul><li>å¤ªé˜³å›¾æ ‡ï¼š``icon-sun<code>ï¼Œæœˆäº®å›¾æ ‡ï¼š</code>icon-moon<code>ã€‚æˆ‘çš„é»˜è®¤æ˜¯é»‘æš—æ¨¡å¼ï¼Œé€‰æ‹©å¤ªé˜³å›¾æ ‡ </code>use#modeicon(xlink:href=â€˜#icon-shezhiâ€™)`</li></ul><p><strong>3. ä¿®æ”¹èœå•æŒ‰é’®å›¾æ ‡ï¼š</strong></p><ul><li>å›¾æ ‡<code>icon-shezhi</code>ä¿®æ”¹ä¸ºè‡ªå·±çš„ï¼Œ<code>width: 1.6em; height: 1.6em;</code>ä¿®æ”¹å¤§å°</li></ul><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">  #menus</span><br><span class="line">    if theme.search.use</span><br><span class="line">      #search-button</span><br><span class="line">        span.site-page.social-icon.search</span><br><span class="line"><span class="deletion">-          - i.fas.fa-search.fa-fw //- åŸä¸»é¢˜ï¼Œæœç´¢æŒ‰é’®å›¾æ ‡</span></span><br><span class="line"><span class="deletion">-          span= &#x27; &#x27; + _p(&#x27;search.title&#x27;) //- å»é™¤æœç´¢å­—æ ·</span></span><br><span class="line"><span class="addition">+          a.site-page.social-icon.search.faa-parent.animated-hover(title=&quot;æœç´¢&quot;)</span></span><br><span class="line"><span class="addition">+            svg.faa-tada.icon(aria-hidden=&quot;true&quot;, style=&quot;height:2.9em;width:2.9em&quot;)</span></span><br><span class="line"><span class="addition">+              use(xlink:href=&#x27;#icon-a-044_sousuo&#x27;)</span></span><br><span class="line">    if theme.menu</span><br><span class="line">      != partial(&#x27;includes/header/menu_item&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"><span class="addition">+      a.sun_moon.faa-parent.animated-hover(onclick=&#x27;switchNightMode()&#x27;, title=&#x27;æ˜æš—æ¨¡å¼&#x27;, id=&#x27;nightmode-button&#x27;)</span></span><br><span class="line"><span class="addition">+        svg.faa-tada(aria-hidden=&quot;true&quot;, style=&quot;width: 1.6em; height: 1.6em;&quot;)</span></span><br><span class="line"><span class="addition">+          use#modeicon(xlink:href=&#x27;#icon-sun&#x27;)</span></span><br><span class="line"></span><br><span class="line">      #toggle-menu</span><br><span class="line">        span.site-page</span><br><span class="line"><span class="deletion">-          - i.fas.fa-bars.fa-fw  //- åŸä¸»é¢˜ï¼Œèœå•æŒ‰é’®å›¾æ ‡</span></span><br><span class="line"><span class="addition">+          a.site-page.faa-parent.animated-hover(title=&quot;èœå•&quot;)</span></span><br><span class="line"><span class="addition">+            svg.faa-tada(aria-hidden=&quot;true&quot;, style=&quot;width: 1.6em; height: 1.6em;&quot;)</span></span><br><span class="line"><span class="addition">+              use#modeicon(xlink:href=&#x27;#icon-shezhi&#x27;)</span></span><br></pre></td></tr></table></figure><p><strong>å®Œæ•´çš„<code> #menuséƒ¨åˆ†</code>ä»£ç </strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#menus</span><br><span class="line">  if theme.search.use</span><br><span class="line">    #search-button</span><br><span class="line">      span.site-page.social-icon.search</span><br><span class="line">        //- i.fas.fa-search.fa-fw</span><br><span class="line">        //- span= &#x27; &#x27; + _p(&#x27;search.title&#x27;)</span><br><span class="line">        //- æ›´æ¢æœç´¢æŒ‰é’®å›¾æ ‡</span><br><span class="line">        a.site-page.social-icon.search.faa-parent.animated-hover(title=&quot;æœç´¢&quot;)</span><br><span class="line">          svg.faa-tada.icon(aria-hidden=&quot;true&quot;, style=&quot;height:2.9em;width:2.9em&quot;)</span><br><span class="line">            use(xlink:href=&#x27;#icon-a-044_sousuo&#x27;)</span><br><span class="line">  if theme.menu</span><br><span class="line">    != partial(&#x27;includes/header/menu_item&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">    //- å¼•å…¥æ˜æš—æ¨¡å¼åˆ‡æ¢æŒ‰é’®</span><br><span class="line">    a.sun_moon.faa-parent.animated-hover(onclick=&#x27;switchNightMode()&#x27;, title=&#x27;æ˜æš—æ¨¡å¼&#x27;, id=&#x27;nightmode-button&#x27;)</span><br><span class="line">      svg.faa-tada(aria-hidden=&quot;true&quot;, style=&quot;width: 1.6em; height: 1.6em;&quot;)</span><br><span class="line">        use#modeicon(xlink:href=&#x27;#icon-sun&#x27;)</span><br><span class="line"></span><br><span class="line">    #toggle-menu</span><br><span class="line">      span.site-page</span><br><span class="line">        //- i.fas.fa-bars.fa-fw</span><br><span class="line">        //- æ›´æ¢èœå•æŒ‰é’®å›¾æ ‡</span><br><span class="line">        a.site-page.faa-parent.animated-hover(title=&quot;èœå•&quot;)</span><br><span class="line">          svg.faa-tada(aria-hidden=&quot;true&quot;, style=&quot;width: 1.6em; height: 1.6em;&quot;)</span><br><span class="line">            use#modeicon(xlink:href=&#x27;#icon-shezhi&#x27;)</span><br></pre></td></tr></table></figure><h4 id="4-ğŸš€-æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š">4. ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl; hexo s</span><br></pre></td></tr></table></figure><h2 id="å¯¼èˆªæ å¼•å…¥å›¾æ ‡">å¯¼èˆªæ å¼•å…¥å›¾æ ‡</h2><ul><li><strong>ä¿®æ”¹<code>&quot;åšå®¢æ ¹ç›®å½•\themes\butterfly\layout\includes\header\nav.pug&quot;</code></strong></li></ul><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">nav#nav</span><br><span class="line">  span#blog-info</span><br><span class="line">    a.nav-site-title(href=url_for(&#x27;/&#x27;))</span><br><span class="line">      if theme.nav.logo</span><br><span class="line">        img.site-icon(src=url_for(theme.nav.logo) alt=&#x27;Logo&#x27;)</span><br><span class="line">      if theme.nav.display_title</span><br><span class="line">        span.site-name=config.title</span><br><span class="line">    if globalPageType <span class="comment">=== &#x27;post&#x27;</span></span><br><span class="line">      a.nav-page-title(href=url_for(&#x27;/&#x27;))</span><br><span class="line">        span.site-name=(page.title || config.title)</span><br><span class="line"></span><br><span class="line">  #menus</span><br><span class="line">    if theme.search.use</span><br><span class="line">      #search-button</span><br><span class="line">        span.site-page.social-icon.search</span><br><span class="line"><span class="deletion">-          //- i.fas.fa-search.fa-fw</span></span><br><span class="line"><span class="addition">+          //- æ›´æ¢æœç´¢æŒ‰é’®å›¾æ ‡</span></span><br><span class="line"><span class="addition">+          a.site-page.social-icon.search.faa-parent.animated-hover(title=&quot;æœç´¢&quot;)</span></span><br><span class="line"><span class="addition">+            svg.faa-tada.search(aria-hidden=&quot;true&quot;, style=&quot;height:2.9em;width:2.9em&quot;)</span></span><br><span class="line"><span class="addition">+              use(xlink:href=&#x27;#icon-a-044_sousuo&#x27;)</span></span><br><span class="line"><span class="deletion">-          //- span= &#x27; &#x27; + _p(&#x27;search.title&#x27;)</span></span><br><span class="line">    if theme.menu</span><br><span class="line">      != partial(&#x27;includes/header/menu_item&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"><span class="addition">+      //- å¼•å…¥åˆ‡æ¢å£çº¸æŒ‰é’®</span></span><br><span class="line"><span class="addition">+      a.site-page.faa-parent.animated-hover(onclick=&#x27;toggleWinbox()&#x27; title=&#x27;åˆ‡æ¢å£çº¸&#x27;)</span></span><br><span class="line"><span class="addition">+        svg.faa-tada.bizhi(aria-hidden=&quot;true&quot;, style=&quot;height:2em;width:2em&quot;)</span></span><br><span class="line"><span class="addition">+          use(xlink:href=&#x27;#icon-a-zhaopiantupianxiangce&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+      //- å¼•å…¥æ˜æš—æ¨¡å¼åˆ‡æ¢æŒ‰é’®</span></span><br><span class="line"><span class="addition">+      a.sun_moon.faa-parent.animated-hover(onclick=&#x27;switchNightMode()&#x27;, title=&#x27;æ˜æš—æ¨¡å¼&#x27;, id=&#x27;nightmode-button&#x27;)</span></span><br><span class="line"><span class="addition">+        svg.faa-tada.mingan(aria-hidden=&quot;true&quot;, style=&quot;width: 1.6em; height: 1.6em;&quot;)</span></span><br><span class="line"><span class="addition">+          use#modeicon(xlink:href=&#x27;#icon-sun&#x27;)</span></span><br><span class="line"></span><br><span class="line">      #toggle-menu</span><br><span class="line">        span.site-page</span><br><span class="line"><span class="deletion">-          //- i.fas.fa-bars.fa-fw</span></span><br><span class="line"><span class="addition">+          //- æ›´æ¢èœå•æŒ‰é’®å›¾æ ‡</span></span><br><span class="line"><span class="addition">+          a.site-page.faa-parent.animated-hover(title=&quot;èœå•&quot;)</span></span><br><span class="line"><span class="addition">+            svg.faa-tada.chaidan(aria-hidden=&quot;true&quot;, style=&quot;width: 1.6em; height: 1.6em;&quot;)</span></span><br><span class="line"><span class="addition">+              use#modeicon(xlink:href=&#x27;#icon-shezhi&#x27;)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>1. åŸºæœ¬ç»“æ„</strong></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Puga.site-page.faa-parent.animated-hover(<span class="attribute">onclick</span>=<span class="string">&#x27;toggleWinbox()&#x27;</span> <span class="attribute">title</span>=<span class="string">&#x27;åˆ‡æ¢å£çº¸&#x27;</span>)</span><br><span class="line">  svg.faa-tada.bizhi(<span class="attribute">aria-hidden</span>=<span class="string">&quot;true&quot;</span>, <span class="attribute">style</span>=<span class="string">&quot;height:2em;width:2em&quot;</span>)</span><br></pre></td></tr></table></figure><ul><li>è¿™æ˜¯ä¸€ä¸ª <code>&lt;a&gt;</code> é“¾æ¥å…ƒç´ ï¼ŒåŒ…å«ä¸€ä¸ªåµŒå¥—çš„ <code>&lt;svg&gt;</code> å›¾æ ‡ã€‚</li><li>ä½¿ç”¨äº† <strong>Pug çš„åµŒå¥—è¯­æ³•</strong>ï¼Œé€šè¿‡ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»ã€‚</li></ul><p><strong>2. é“¾æ¥å±æ€§</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a.site-page.faa-parent.animated-hover(onclick=&#x27;toggleWinbox()&#x27; title=&#x27;åˆ‡æ¢å£çº¸&#x27;)</span><br></pre></td></tr></table></figure><ul><li>ç±»åï¼š<ul><li><code>.site-page</code>ï¼šåŸºç¡€æ ·å¼ç±»ï¼ˆå¯èƒ½å®šä¹‰é“¾æ¥çš„å¤–è§‚ï¼‰ã€‚</li><li><code>.faa-parent</code>ï¼šFont Awesome Animation çš„çˆ¶å®¹å™¨ç±»ï¼ˆç”¨äºå­å…ƒç´ åŠ¨ç”»ï¼‰ã€‚</li><li><code>.animated-hover</code>ï¼šè‡ªå®šä¹‰æ‚¬åœåŠ¨ç”»æ•ˆæœçš„ç±»ã€‚</li></ul></li><li>äº‹ä»¶ï¼š<ul><li><code>onclick='toggleWinbox()'</code>ï¼šç‚¹å‡»æ—¶è°ƒç”¨ JavaScript å‡½æ•° <code>toggleWinbox()</code>ï¼ˆå¯èƒ½æ˜¯æ§åˆ¶å¼¹çª—/å£çº¸åˆ‡æ¢çš„é€»è¾‘ï¼‰ã€‚</li></ul></li><li>æç¤ºæ–‡æœ¬ï¼š<ul><li><code>title='åˆ‡æ¢å£çº¸'</code>ï¼šé¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºçš„å·¥å…·æç¤ºï¼ˆâ€œåˆ‡æ¢å£çº¸â€ï¼‰ã€‚</li></ul></li></ul><p><strong>3. SVG å›¾æ ‡</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svg.faa-tada.bizhi(aria-hidden=&quot;true&quot;, style=&quot;height:2em;width:2em&quot;)</span><br></pre></td></tr></table></figure><ul><li><p>ç±»åï¼š</p><ul><li><code>.faa-tada</code>ï¼šFont Awesome Animation çš„â€œæŠ–åŠ¨â€åŠ¨ç”»æ•ˆæœã€‚</li><li><code>.bizhi</code>ï¼šè‡ªå®šä¹‰ç±»ï¼ˆå¯èƒ½ç”¨äºæ ·å¼è¦†ç›–ï¼Œ<code>bizhi</code> æ˜¯ä¸­æ–‡â€œå£çº¸â€çš„æ‹¼éŸ³ï¼‰ã€‚</li></ul></li><li><p>æ— éšœç¢ï¼š</p><ul><li><code>aria-hidden=&quot;true&quot;</code>ï¼šå¯¹å±å¹•é˜…è¯»å™¨éšè—ï¼ˆå› å›¾æ ‡ä»…ä¸ºè£…é¥°ï¼‰ã€‚</li></ul></li><li><p>å°ºå¯¸ï¼š</p><ul><li><code>style=&quot;height:2em;width:2em&quot;</code>ï¼šå¼ºåˆ¶å®½é«˜ä¸º <code>2em</code>ï¼ˆç»§æ‰¿çˆ¶å…ƒç´ å­—ä½“å¤§å°ï¼‰ã€‚</li></ul></li></ul><p><strong>4. ç”Ÿæˆçš„å®é™… HTML</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HTML<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;site-page faa-parent animated-hover&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;toggleWinbox()&quot;</span> <span class="attr">title</span>=<span class="string">&quot;åˆ‡æ¢å£çº¸&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;faa-tada bizhi&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height:2em;width:2em&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>5. å…³é”®åŠŸèƒ½</strong></p><ol><li><strong>ç‚¹å‡»äº‹ä»¶</strong>ï¼š ç‚¹å‡»åä¼šè§¦å‘ <code>toggleWinbox()</code>ï¼ˆå¯èƒ½æ˜¯åˆ‡æ¢å£çº¸å¼¹çª—æˆ–å£çº¸æœ¬èº«çš„å‡½æ•°ï¼‰ã€‚</li><li>åŠ¨ç”»æ•ˆæœï¼š<ul><li><code>faa-parent</code> + <code>faa-tada</code> ç»„åˆä¼šè®© SVG å›¾æ ‡æŒç»­æŠ–åŠ¨ï¼ˆç±»ä¼¼ Font Awesome çš„åŠ¨ç”»æ•ˆæœï¼‰ã€‚</li><li><code>animated-hover</code> å¯èƒ½æ·»åŠ äº†æ‚¬åœæ—¶çš„è¿‡æ¸¡æ•ˆæœï¼ˆå¦‚é¢œè‰²å˜åŒ–ï¼‰ã€‚</li></ul></li><li><strong>å›½é™…åŒ–</strong>ï¼š <code>title=&quot;åˆ‡æ¢å£çº¸&quot;</code> æç¤ºä¸­æ–‡ç”¨æˆ·ï¼Œä½†ä»£ç æœ¬èº«æ˜¯è¯­è¨€æ— å…³çš„ã€‚</li></ol><p><strong>6. å¯èƒ½çš„ä¾èµ–åº“</strong></p><ul><li><strong>Font Awesome Animation</strong>ï¼šæä¾› <code>faa-*</code> åŠ¨ç”»ç±»ã€‚</li><li><strong>Winbox.js</strong>ï¼šå¦‚æœ <code>toggleWinbox()</code> æ˜¯æ§åˆ¶å¼¹çª—ï¼Œå¯èƒ½ç”¨åˆ°æ­¤åº“ã€‚</li><li><strong>è‡ªå®šä¹‰ CSS</strong>ï¼š<code>.site-page</code>ã€<code>.bizhi</code> ç­‰ç±»éœ€è¦é¢å¤–æ ·å¼æ–‡ä»¶æ”¯æŒã€‚</li></ul><blockquote><p><strong>å®Œæ•´æ·»åŠ ä»£ç </strong></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">nav#nav</span><br><span class="line">  span#blog-info</span><br><span class="line">    a.nav-site-title(href=url_for(&#x27;/&#x27;))</span><br><span class="line">      if theme.nav.logo</span><br><span class="line">        img.site-icon(src=url_for(theme.nav.logo) alt=&#x27;Logo&#x27;)</span><br><span class="line">      if theme.nav.display_title</span><br><span class="line">        span.site-name=config.title</span><br><span class="line">    if globalPageType === &#x27;post&#x27;</span><br><span class="line">      a.nav-page-title(href=url_for(&#x27;/&#x27;))</span><br><span class="line">        span.site-name=(page.title || config.title)</span><br><span class="line"></span><br><span class="line">  #menus</span><br><span class="line">    if theme.search.use</span><br><span class="line">      #search-button</span><br><span class="line">        span.site-page.social-icon.search</span><br><span class="line">          //- i.fas.fa-search.fa-fw</span><br><span class="line">          //- æ›´æ¢æœç´¢æŒ‰é’®å›¾æ ‡</span><br><span class="line">          a.site-page.social-icon.search.faa-parent.animated-hover(title=&quot;æœç´¢&quot;)</span><br><span class="line">            svg.faa-tada.search(aria-hidden=&quot;true&quot;, style=&quot;height:2.9em;width:2.9em&quot;)</span><br><span class="line">              use(xlink:href=&#x27;#icon-a-044_sousuo&#x27;)</span><br><span class="line">          //- span= &#x27; &#x27; + _p(&#x27;search.title&#x27;)</span><br><span class="line">    if theme.menu</span><br><span class="line">      != partial(&#x27;includes/header/menu_item&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">      //- å¼•å…¥åˆ‡æ¢å£çº¸æŒ‰é’®</span><br><span class="line">      a.site-page.faa-parent.animated-hover(onclick=&#x27;toggleWinbox()&#x27; title=&#x27;åˆ‡æ¢å£çº¸&#x27;)</span><br><span class="line">        svg.faa-tada.bizhi(aria-hidden=&quot;true&quot;, style=&quot;height:2em;width:2em&quot;)</span><br><span class="line">          use(xlink:href=&#x27;#icon-a-zhaopiantupianxiangce&#x27;)</span><br><span class="line">      //- å¼•å…¥æ˜æš—æ¨¡å¼åˆ‡æ¢æŒ‰é’®</span><br><span class="line">      a.sun_moon.faa-parent.animated-hover(onclick=&#x27;switchNightMode()&#x27;, title=&#x27;æ˜æš—æ¨¡å¼&#x27;, id=&#x27;nightmode-button&#x27;)</span><br><span class="line">        svg.faa-tada.mingan(aria-hidden=&quot;true&quot;, style=&quot;width: 1.6em; height: 1.6em;&quot;)</span><br><span class="line">          use#modeicon(xlink:href=&#x27;#icon-sun&#x27;)</span><br><span class="line"></span><br><span class="line">      #toggle-menu</span><br><span class="line">        span.site-page</span><br><span class="line">          //- i.fas.fa-bars.fa-fw</span><br><span class="line">          //- æ›´æ¢èœå•æŒ‰é’®å›¾æ ‡</span><br><span class="line">          a.site-page.faa-parent.animated-hover(title=&quot;èœå•&quot;)</span><br><span class="line">            svg.faa-tada.chaidan(aria-hidden=&quot;true&quot;, style=&quot;width: 1.6em; height: 1.6em;&quot;)</span><br><span class="line">              use#modeicon(xlink:href=&#x27;#icon-shezhi&#x27;)</span><br></pre></td></tr></table></figure><hr><p><a id="neon-effects"></a></p><h2 id="ğŸ’«-åä¸€ã€é»‘å¤œéœ“è™¹ç¯æ•ˆæœ">ğŸ’« åä¸€ã€é»‘å¤œéœ“è™¹ç¯æ•ˆæœ</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-11">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>ä¸ºç½‘ç«™æ ‡é¢˜å’Œå‰¯æ ‡é¢˜æ·»åŠ éœ“è™¹ç¯æ•ˆæœï¼Œåœ¨é»‘æš—æ¨¡å¼ä¸‹ç‰¹åˆ«é†’ç›®ï¼Œå¢å¼ºè§†è§‰å†²å‡»åŠ›ã€‚</p><h3 id="ğŸ”§-å®ç°æ–¹æ³•-3">ğŸ”§ å®ç°æ–¹æ³•</h3><h4 id="1-â•-åˆ›å»ºéœ“è™¹ç¯æ•ˆæœCSSï¼š">1. â• åˆ›å»ºéœ“è™¹ç¯æ•ˆæœCSSï¼š</h4><ul><li>è¯¦è§ï¼š<a href="https://www.fomal.cc/posts/eec9786.html">é»‘å¤œéœ“è™¹ç¯2.0ï¼ˆçº¯CSSå®ç°ï¼‰</a></li><li><strong>åˆ›å»º <code>Hexoæ ¹ç›®å½•/source/css/custom.css</code> æ–‡ä»¶ï¼Œå°†ä»£ç å¤åˆ¶ç²˜è´´åˆ°è¯¥æ–‡ä»¶ä¸­</strong></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ—¥é—´æ¨¡å¼ç”Ÿæ•ˆ */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#site-name</span>,</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#site-title</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: light_15px_dark <span class="number">10s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#site-subtitle</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: light_10px_dark <span class="number">10s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#post-info</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: light_15px_light <span class="number">10s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å¤œé—´æ¨¡å¼ç”Ÿæ•ˆ */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#site-name</span>,</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#site-title</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: light_15px_dark <span class="number">10s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#site-subtitle</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: light_10px_dark <span class="number">10s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#post-info</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: light_15px_light <span class="number">10s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ—¥é—´æ¨¡å¼å…³é”®å¸§æè¿° */</span></span><br><span class="line"><span class="keyword">@keyframes</span> light_15px_light &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.95</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">25%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#11ee5e</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f14747</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.95</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">75%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1a247</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.95</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> light_10px_light &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.95</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">25%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#11ee5e</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f14747</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.95</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">75%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1a247</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.95</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> light_5px_light &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.95</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">25%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#11ee5e</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f14747</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.95</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">75%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1a247</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.95</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å¤œé—´æ¨¡å¼å…³é”®å¸§æè¿° */</span></span><br><span class="line"><span class="keyword">@keyframes</span> light_15px_dark &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">3deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">12.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#11ee5e</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">25%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f14747</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">3deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">37.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1a247</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1ee47</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">3deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">62.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#b347f1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">75%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#002afa</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">3deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">87.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#ed709b</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">3deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> light_10px_dark &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">3deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">12.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#11ee5e</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">25%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f14747</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">3deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">37.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1a247</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1ee47</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">3deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">62.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#b347f1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">75%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#002afa</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">3deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">87.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#ed709b</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">3deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> light_5px_dark &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">3deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">12.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#11ee5e</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">25%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f14747</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">3deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">37.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1a247</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#f1ee47</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">3deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">62.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#b347f1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">75%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#002afa</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">3deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">87.5%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#ed709b</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">#5636ed</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">3deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-â•-å¼•å…¥-custom-css-æ–‡ä»¶">2. â• å¼•å…¥ <code>custom.css</code> æ–‡ä»¶</h4><ul><li>åœ¨ <code>_config.butterfly.yml</code> æ–‡ä»¶ä¸­æ‰¾åˆ° <code>inject</code> éƒ¨åˆ†ï¼Œå¦‚æœè¯¥éƒ¨åˆ†ä¸å­˜åœ¨ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span> <span class="comment"># æ³¨å…¥è‡ªå®šä¹‰css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-ğŸš€-æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š">3. ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="global-rounded"></a></p><h2 id="ğŸ”²-åäºŒã€å…¨å±€åœ†è§’è®¾è®¡">ğŸ”² åäºŒã€å…¨å±€åœ†è§’è®¾è®¡</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-12">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>ä¸ºé¡µé¢å…ƒç´ ç»Ÿä¸€æ·»åŠ åœ†è§’è®¾è®¡ï¼Œè¥é€ æŸ”å’Œç°ä»£çš„è§†è§‰é£æ ¼ï¼Œæå‡æ•´ä½“ç¾è§‚åº¦ã€‚</p><h3 id="ğŸ”§-å®ç°æ–¹æ³•-4">ğŸ”§ å®ç°æ–¹æ³•</h3><ul><li><strong>åˆ›å»º <code>Hexoæ ¹ç›®å½•/source/css/å…¨å±€åœ†è§’.css</code> æ–‡ä»¶ï¼Œå°†ä»£ç å¤åˆ¶ç²˜è´´åˆ°è¯¥æ–‡ä»¶ä¸­ã€‚</strong></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******************** å…¨å±€åœ†è§’ ***********************/</span></span><br><span class="line"><span class="comment">/* é¦–é¡µæ–‡ç« å¡ç‰‡åœ†è§’ */</span></span><br><span class="line"><span class="selector-id">#recent-posts</span> <span class="selector-class">.recent-post-item</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>; <span class="comment">/* æ·»åŠ åœ†è§’æ•ˆæœï¼Œæ•°å€¼å¯æŒ‰éœ€è°ƒæ•´ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ–‡ç« é¡µç›®å½•å¡ç‰‡åœ†è§’ */</span></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-widget</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ–‡ç« æ­£æ–‡åœ†è§’ */</span></span><br><span class="line"><span class="selector-id">#post</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ–‡ç« å›¾ç‰‡åœ†è§’ */</span></span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç›¸å…³æ–‡ç« å¡ç‰‡ */</span></span><br><span class="line"><span class="selector-id">#post</span> <span class="selector-class">.pagination-related</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="built_in">var</span>(--mobufan-border-style) <span class="meta">!important</span>; <span class="comment">/* è¾¹æ¡†è£…é¥°çº¿é¢œè‰² */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ–‡ç« ç›¸å…³æ¨èå¡ç‰‡åœ†è§’ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*.relatedPosts &gt; .relatedPosts-list &gt; div &#123;*/</span></span><br><span class="line"><span class="comment">/*  border-radius: 20px;*/</span></span><br><span class="line"><span class="comment">/*&#125;*/</span></span><br><span class="line"><span class="comment">/*#aside-content #card-toc .toc-content .toc-link.active &#123;*/</span></span><br><span class="line"><span class="comment">/*  border-radius: 5px;*/</span></span><br><span class="line"><span class="comment">/*&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ–‡ç« ä¸Šä¸‹ç¯‡å¡ç‰‡åœ†è§’ */</span></span><br><span class="line"><span class="selector-id">#pagination</span> <span class="selector-class">.pagination-post</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="built_in">var</span>(--mobufan-border-style) <span class="meta">!important</span>; <span class="comment">/* è¾¹æ¡†è£…é¥°çº¿é¢œè‰² */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ–‡å­—ä»£ç æ¡†åœ†è§’ */</span></span><br><span class="line"><span class="selector-id">#post</span> <span class="selector-class">.highlight</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*************ï¼ˆå‹é“¾+å½’æ¡£+åˆ†ç±»+ä¾¿ç­¾ï¼‰åœ†è§’ *****************/</span></span><br><span class="line"><span class="selector-id">#page</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ†ç±»å­é¡µé¢åœ†è§’ */</span></span><br><span class="line"><span class="selector-id">#category</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ ‡ç­¾å­é¡µé¢åœ†è§’ */</span></span><br><span class="line"><span class="selector-id">#tag</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å½’æ¡£å­é¡µé¢åœ†è§’ */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#archive</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å¯¼èˆªæ å­èœå•åœ†è§’ */</span></span><br><span class="line"><span class="selector-class">.menus_item_child</span>, <span class="selector-class">.site-page</span><span class="selector-class">.child</span><span class="selector-class">.faa-parent</span><span class="selector-class">.animated-hover</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span> <span class="meta">!important</span>; <span class="comment">/* ç¡®ä¿æ‚¬åœæ—¶åœ†è§’æ•ˆæœå­˜åœ¨ */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.menus_item_child</span>, <span class="selector-class">.site-page</span><span class="selector-class">.child</span><span class="selector-class">.faa-parent</span><span class="selector-class">.animated-hover</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span> <span class="meta">!important</span>; <span class="comment">/* ç¡®ä¿æ‚¬åœæ—¶åœ†è§’æ•ˆæœå­˜åœ¨ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æœç´¢æ¡†åœ†è§’ */</span></span><br><span class="line"><span class="selector-class">.search-dialog</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>; <span class="comment">/* è®¾ç½®åœ†è§’è¾¹æ¡† */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¯„è®ºè¾“å…¥æ¡†åœ†è§’*/</span></span><br><span class="line"><span class="selector-id">#twikoo</span> <span class="selector-class">.tk-comments</span> <span class="selector-class">.tk-submit</span> <span class="selector-class">.tk-row</span> <span class="selector-class">.tk-col</span> <span class="selector-class">.tk-input</span><span class="selector-class">.el-textarea</span> <span class="selector-class">.el-textarea__inner</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">15px</span>; <span class="comment">/* è®¾ç½®åœ†è§’è¾¹æ¡† */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* è¯„è®ºé¢„è§ˆåœ†è§’ */</span></span><br><span class="line"><span class="selector-class">.el-button</span><span class="selector-class">.tk-preview</span><span class="selector-class">.el-button--default</span><span class="selector-class">.el-button--small</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>; <span class="comment">/* è®¾ç½®åœ†è§’è¾¹æ¡† */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* è¯„è®ºå‘é€åœ†è§’ */</span></span><br><span class="line"><span class="selector-class">.el-button</span><span class="selector-class">.tk-send</span><span class="selector-class">.el-button--primary</span><span class="selector-class">.el-button--small</span><span class="selector-class">.is-disabled</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>; <span class="comment">/* è®¾ç½®åœ†è§’è¾¹æ¡† */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* md è¡¨æ ¼ */</span></span><br><span class="line"><span class="selector-class">.table-container</span> <span class="selector-class">.table-wrap</span> <span class="selector-tag">table</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>; <span class="comment">/* è®¾ç½®åœ†è§’è¾¹æ¡† */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ ‡ç­¾å¤–æŒ‚ */</span></span><br><span class="line"><span class="selector-id">#post</span> <span class="selector-class">.container</span><span class="selector-class">.post-content</span> <span class="selector-class">.folding-tag</span>, <span class="selector-id">#post</span> <span class="selector-class">.container</span><span class="selector-class">.post-content</span> <span class="selector-class">.folding-tag</span> <span class="selector-class">.content</span>, <span class="selector-id">#post</span> <span class="selector-class">.container</span><span class="selector-class">.post-content</span> <span class="selector-class">.folding-tag</span> <span class="selector-class">.content</span>, <span class="selector-tag">summary</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span> <span class="meta">!important</span>; <span class="comment">/* åœ†è§’ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>â• å¼•å…¥CSSæ–‡ä»¶ï¼š</strong><ul><li>åœ¨ <code>_config.butterfly.yml</code> æ–‡ä»¶ä¸­æ‰¾åˆ° <code>inject</code> éƒ¨åˆ†ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li></ul></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span> <span class="comment"># æ³¨å…¥è‡ªå®šä¹‰css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/å…¨å±€åœ†è§’.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="page-beautification"></a></p><h2 id="ğŸ­-åä¸‰ã€é¡µé¢ç¾åŒ–ä¼˜åŒ–">ğŸ­ åä¸‰ã€é¡µé¢ç¾åŒ–ä¼˜åŒ–</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-13">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>å…¨é¢ä¼˜åŒ–é¡µé¢æ ·å¼ï¼ŒåŒ…æ‹¬èƒŒæ™¯é€æ˜åº¦ã€è¾¹æ¡†è£…é¥°ã€ç£¨ç ‚æ•ˆæœç­‰ï¼Œæ‰“é€ ç²¾è‡´ç•Œé¢ã€‚</p><h3 id="ğŸ”§-å®ç°æ–¹æ³•-5">ğŸ”§ å®ç°æ–¹æ³•</h3><ul><li><strong>åˆ›å»ºé¡µé¢ç¾åŒ–CSSï¼š</strong></li></ul><ul><li><code>--trans-light</code>ï¼šç™½å¤©æ¨¡å¼å¸¦é€æ˜åº¦çš„èƒŒæ™¯è‰²ï¼Œå¦‚<code>rgba(255, 255, 255, 0.88)</code>åº•è‰²æ˜¯çº¯ç™½è‰²ï¼Œå…¶ä¸­0.88å°±é€æ˜åº¦ï¼Œåœ¨0-1ä¹‹é—´è°ƒèŠ‚ï¼Œå€¼è¶Šå¤§è¶Šä¸é€æ˜ï¼›</li><li><code>--trans-dark</code>: å¤œé—´æ¨¡å¼å¸¦é€æ˜åº¦çš„èƒŒæ™¯è‰²ï¼Œå¦‚<code>rgba(25, 25, 25, 0.88)</code>åº•è‰²æ˜¯æŸ”å’Œé»‘è‰²ï¼Œå…¶ä¸­0.88å°±é€æ˜åº¦ï¼Œåœ¨0-1ä¹‹é—´è°ƒèŠ‚ï¼Œå€¼è¶Šå¤§è¶Šä¸é€æ˜;</li><li><code>--border-style</code>: è¾¹æ¡†æ ·å¼ï¼Œ<code>1px solid rgb(169, 169, 169)</code>æŒ‡å®½åº¦ä¸º1pxçš„ç°è‰²å®ä½“è¾¹æ¡†;</li><li><code>--backdrop-filter</code>: èƒŒæ™¯è¿‡æ»¤å™¨ï¼Œå¦‚<code>blur(5px) saturate(150%)</code>è¡¨ç¤ºé¥±å’Œåº¦ä¸º150%çš„ã€é«˜æ–¯æ¨¡ç³ŠåŠå¾„ä¸º5pxçš„è¿‡æ»¤å™¨ï¼Œè¿™æ˜¯äºšå…‹åŠ›æ•ˆæœçš„ä¸€ç§å®ç°æ–¹æ³•;</li><li>å¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±å–œå¥½è¿›è¡Œè°ƒèŠ‚ï¼Œä¸ç”¨æ‹˜æ³¥äºæˆ‘çš„æ ·å¼ï¼</li></ul><p><strong>åˆ›å»º <code>Hexoæ ¹ç›®å½•/source/css/é¡µé¢ç¾åŒ–.css</code> æ–‡ä»¶ï¼Œå°†ä»£ç å¤åˆ¶ç²˜è´´åˆ°è¯¥æ–‡ä»¶ä¸­ã€‚</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/****************************** å®šä¹‰å…¨å±€é¢œè‰² ****************************/</span></span><br><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attr">--mobufan-beijing</span>: <span class="built_in">rgba</span>(<span class="number">25</span>, <span class="number">25</span>, <span class="number">25</span>, <span class="number">0.2</span>); <span class="comment">/* æ—¥é—´æ¨¡å¼ï¼ŒèƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">  <span class="attr">--mobufan-fontcolor</span>: <span class="number">#ffffff</span>; <span class="comment">/* æ—¥é—´æ¨¡å¼ï¼Œå­—ä½“é¢œè‰²*/</span></span><br><span class="line">  <span class="attr">--mobufan-border</span>: <span class="number">1px</span> solid <span class="number">#e0e0e0</span>; <span class="comment">/* è¾¹æ¡†æ ·å¼ï¼ˆç™½è‰²å®çº¿ï¼‰ */</span></span><br><span class="line">  <span class="attr">--mobufan-shadow-border</span>: <span class="number">0</span> <span class="number">4px</span> <span class="number">12px</span> <span class="number">0</span> <span class="built_in">rgb</span>(<span class="number">47</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>); <span class="comment">/* è¾¹æ¡†é˜´å½±æ•ˆæœæ‚¬æµ®æ„Ÿçš„ç«‹ä½“å…‰å½±æ•ˆæœ */</span></span><br><span class="line">  <span class="attr">--mobufan-text-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.8</span>); <span class="comment">/* æ—¥é—´æ¨¡å¼ï¼Œæ–‡å­—é˜´å½±æ•ˆæœ */</span></span><br><span class="line">  <span class="attr">--mobufan-border-style</span>: <span class="number">1.2px</span> solid <span class="built_in">rgb</span>(<span class="number">169</span>, <span class="number">169</span>, <span class="number">169</span>); <span class="comment">/* è¾¹æ¡†è£…é¥°çº¿é¢œè‰² */</span></span><br><span class="line">  <span class="attr">--mobufan-backdrop-filter</span>: <span class="built_in">blur</span>(<span class="number">6px</span>) <span class="built_in">saturate</span>(<span class="number">150%</span>); <span class="comment">/* ç£¨ç ‚æ•ˆæœï¼ˆæ¨¡ç³Š+é¥±å’Œåº¦ï¼‰ */</span></span><br><span class="line">  <span class="attr">--mobufan-color</span>: <span class="number">#ffb800</span>; <span class="comment">/* æ‚¬åœæ—¶æ–‡å­—é¢œè‰²å˜ä¸ºé»„è‰² */</span></span><br><span class="line">  <span class="attr">--mobufan-white</span>: <span class="number">#ffffff</span>; <span class="comment">/* ç™½è‰²å­—ä½“ */</span></span><br><span class="line">  <span class="attr">--mobufan-hangneidaima</span>: <span class="number">#00fdf6</span>; <span class="comment">/* æ–‡ç« è¡Œå†…ä»£ç æ–‡å­—é¢œè‰² */</span></span><br><span class="line">  <span class="attr">--mobufan-waigua</span>: <span class="number">#ffffff</span>; <span class="comment">/* æ—¥é—´æ¨¡å¼ï¼Œå­—ä½“é¢œè‰²*/</span></span><br><span class="line">  <span class="attr">--mobufan-jianbian</span>: <span class="built_in">linear-gradient</span>(to right, <span class="number">#00075ef2</span>, <span class="number">#2c0364</span>, <span class="number">#003300</span>, <span class="number">#330000</span>); <span class="comment">/* æ¸å˜é¢œè‰²*/</span></span><br><span class="line">  <span class="comment">/*--mobufan-lighttext: #6c757d; !* æµ…è‰²æ–‡å­—ï¼ˆç°è‰²ï¼‰ *!*/</span></span><br><span class="line">  <span class="comment">/*--mobufan-dark: rgba(25, 25, 25, 0.2); !* å¤œé—´æ¨¡å¼èƒŒæ™¯é¢œè‰² *!*/</span></span><br><span class="line">  <span class="comment">/*--mobufan-touming: rgba(25, 25, 25, 0); !* é€æ˜èƒŒæ™¯é¢œè‰² *!*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********* æ˜äº®æ¨¡å¼é¢œè‰²é…ç½® *********/</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> &#123;</span><br><span class="line">  <span class="attr">--mobufan-beijing</span>: <span class="built_in">rgba</span>(<span class="number">0</span> <span class="number">228</span> <span class="number">196</span> / <span class="number">72%</span>); <span class="comment">/* æ—¥é—´æ¨¡å¼ï¼ŒèƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">  <span class="comment">/*--mobufan-beijing: linear-gradient(to right, #3a6a82, #5d7480, #1a5e80, #005a86); !* æ—¥é—´æ¨¡å¼ï¼ŒèƒŒæ™¯é¢œè‰² *!*/</span></span><br><span class="line">  <span class="attr">--mobufan-fontcolor</span>: <span class="number">#ffffff</span>; <span class="comment">/* æ—¥é—´æ¨¡å¼ï¼Œå­—ä½“é¢œè‰²*/</span></span><br><span class="line">  <span class="attr">--mobufan-border</span>: <span class="number">1px</span> solid <span class="number">#e0e0e0</span>; <span class="comment">/* è¾¹æ¡†æ ·å¼ï¼ˆæµ…ç°è‰²å®çº¿ï¼‰ */</span></span><br><span class="line">  <span class="attr">--mobufan-shadow-border</span>: <span class="number">0</span> <span class="number">4px</span> <span class="number">12px</span> <span class="number">0</span> <span class="built_in">rgb</span>(<span class="number">174</span> <span class="number">1</span> <span class="number">105</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>); <span class="comment">/* è¾¹æ¡†é˜´å½±æ•ˆæœæ‚¬æµ®æ„Ÿçš„ç«‹ä½“å…‰å½±æ•ˆæœ */</span></span><br><span class="line">  <span class="attr">--mobufan-text-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgb</span>(<span class="number">183</span> <span class="number">0</span> <span class="number">110</span>); <span class="comment">/* æ—¥é—´æ¨¡å¼ï¼Œæ–‡å­—é˜´å½±æ•ˆæœ */</span></span><br><span class="line">  <span class="attr">--mobufan-border-style</span>: <span class="number">1.2px</span> solid <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">158</span>, <span class="number">0</span>); <span class="comment">/* è¾¹æ¡†è£…é¥°çº¿é¢œè‰² */</span></span><br><span class="line">  <span class="attr">--mobufan-backdrop-filter</span>: <span class="built_in">blur</span>(<span class="number">6px</span>) <span class="built_in">saturate</span>(<span class="number">150%</span>); <span class="comment">/* ç£¨ç ‚æ•ˆæœï¼ˆæ¨¡ç³Š+é¥±å’Œåº¦ï¼‰ */</span></span><br><span class="line">  <span class="attr">--mobufan-color</span>: <span class="number">#ffb800</span>; <span class="comment">/* æ‚¬åœæ—¶è¾¹æ¡†é¢œè‰²å˜ä¸ºé»„è‰² */</span></span><br><span class="line">  <span class="attr">--mobufan-white</span>: <span class="number">#ffffff</span>; <span class="comment">/* ç™½è‰²å­—ä½“ */</span></span><br><span class="line">  <span class="attr">--mobufan-hangneidaima</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">153</span>); <span class="comment">/* æ–‡ç« è¡Œå†…ä»£ç æ–‡å­—é¢œè‰² */</span></span><br><span class="line">  <span class="attr">--mobufan-waigua</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.63</span>); <span class="comment">/* æ—¥é—´æ¨¡å¼ï¼Œå­—ä½“é¢œè‰²*/</span></span><br><span class="line">  <span class="attr">--mobufan-jianbian</span>: <span class="built_in">linear-gradient</span>(to right, <span class="number">#ffb4b4</span>, <span class="number">#0082a9</span>, <span class="number">#007057</span>, <span class="number">#df5fff</span>); <span class="comment">/* æ¸å˜é¢œè‰²*/</span></span><br><span class="line">  <span class="comment">/*--mobufan-lighttext: #007dd0; !* æ–‡ç« TOCå­—ä½“é¢œè‰² *!*/</span></span><br><span class="line">  <span class="comment">/*--mobufan-dark: rgba(25, 25, 25, 0.2);*/</span></span><br><span class="line">  <span class="comment">/*--mobufan-touming: rgba(25, 25, 25, 0); !* é€æ˜èƒŒæ™¯é¢œè‰² *!*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********* æš—è‰²æ¨¡å¼é¢œè‰²é…ç½® *********/</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> &#123;</span><br><span class="line">  <span class="attr">--mobufan-beijing</span>: <span class="built_in">rgba</span>(<span class="number">25</span>, <span class="number">25</span>, <span class="number">25</span>, <span class="number">0.8</span>); <span class="comment">/* æ—¥é—´æ¨¡å¼èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">  <span class="attr">--mobufan-fontcolor</span>: <span class="number">#212529</span>; <span class="comment">/* æ—¥é—´æ¨¡å¼ï¼Œå­—ä½“é¢œè‰²*/</span></span><br><span class="line">  <span class="attr">--mobufan-border</span>: <span class="number">1px</span> solid <span class="number">#e0e0e0</span>; <span class="comment">/* è¾¹æ¡†æ ·å¼ï¼ˆæµ…ç°è‰²å®çº¿ï¼‰ */</span></span><br><span class="line">  <span class="attr">--mobufan-shadow-border</span>: <span class="number">0</span> <span class="number">4px</span> <span class="number">12px</span> <span class="number">0</span> <span class="built_in">rgb</span>(<span class="number">20</span> <span class="number">109</span> <span class="number">0</span> / <span class="number">90%</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>); <span class="comment">/* è¾¹æ¡†é˜´å½±æ•ˆæœæ‚¬æµ®æ„Ÿçš„ç«‹ä½“å…‰å½±æ•ˆæœ */</span></span><br><span class="line">  <span class="attr">--mobufan-text-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgb</span>(<span class="number">40</span> <span class="number">221</span> <span class="number">0</span>); <span class="comment">/* æ—¥é—´æ¨¡å¼ï¼Œæ–‡å­—é˜´å½±æ•ˆæœ */</span></span><br><span class="line">  <span class="attr">--mobufan-border-style</span>: <span class="number">1.2px</span> solid <span class="built_in">rgb</span>(<span class="number">169</span>, <span class="number">169</span>, <span class="number">169</span>); <span class="comment">/* è¾¹æ¡†è£…é¥°çº¿é¢œè‰² */</span></span><br><span class="line">  <span class="attr">--mobufan-backdrop-filter</span>: <span class="built_in">blur</span>(<span class="number">6px</span>) <span class="built_in">saturate</span>(<span class="number">150%</span>); <span class="comment">/* ç£¨ç ‚æ•ˆæœï¼ˆæ¨¡ç³Š+é¥±å’Œåº¦ï¼‰ */</span></span><br><span class="line">  <span class="attr">--mobufan-color</span>: <span class="number">#ffb800</span>; <span class="comment">/* æ‚¬åœæ—¶è¾¹æ¡†é¢œè‰²å˜ä¸ºé»„è‰² */</span></span><br><span class="line">  <span class="attr">--mobufan-white</span>: <span class="number">#ffffff</span>; <span class="comment">/* ç™½è‰²å­—ä½“ */</span></span><br><span class="line">  <span class="attr">--mobufan-hangneidaima</span>: <span class="built_in">rgb</span>(<span class="number">47</span>, <span class="number">255</span>, <span class="number">0</span>); <span class="comment">/* æ–‡ç« è¡Œå†…ä»£ç æ–‡å­—é¢œè‰² */</span></span><br><span class="line">  <span class="attr">--mobufan-waigua</span>: <span class="number">#ffffff</span>; <span class="comment">/* æ—¥é—´æ¨¡å¼ï¼Œå­—ä½“é¢œè‰²*/</span></span><br><span class="line">  <span class="attr">--mobufan-jianbian</span>: <span class="built_in">linear-gradient</span>(to right, <span class="number">#00075ef2</span>, <span class="number">#2c0364</span>, <span class="number">#003300</span>, <span class="number">#330000</span>); <span class="comment">/* æ¸å˜é¢œè‰²*/</span></span><br><span class="line">  <span class="comment">/*--mobufan-lighttext: #007dd0; !* æ–‡ç« TOCå­—ä½“é¢œè‰² *!*/</span></span><br><span class="line">  <span class="comment">/*--mobufan-dark: rgba(25, 25, 25, 0.2);*/</span></span><br><span class="line">  <span class="comment">/*--mobufan-touming: rgba(25, 25, 25, 0); !* é€æ˜èƒŒæ™¯é¢œè‰² *!*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/************************ èƒŒæ™¯é¢œè‰²+è¾¹æ¡†è£…é¥°çº¿+ç£¨ç ‚æ•ˆæœ ************************/</span></span><br><span class="line"><span class="comment">/*#to_comment .fas.fa-comments, !* å³ä¸‹è§’æ˜æš—æ¨¡å¼ï¼Œè¯„è®º *!*/</span></span><br><span class="line"><span class="comment">/*#rightside-config-hide .icon-V.hidden, !* å³ä¸‹è§’æ˜æš—æ¨¡å¼ *!*/</span></span><br><span class="line"><span class="selector-id">#post</span> <span class="selector-class">.container</span><span class="selector-class">.post-content</span> <span class="selector-class">.folding-tag</span>, <span class="comment">/* æ ‡ç­¾å¤–æŒ‚ */</span></span><br><span class="line"><span class="selector-id">#post</span> <span class="selector-class">.container</span><span class="selector-class">.post-content</span> <span class="selector-class">.folding-tag</span> <span class="selector-class">.content</span>,  <span class="comment">/* æ ‡ç­¾å¤–æŒ‚ */</span></span><br><span class="line"><span class="selector-id">#post</span> <span class="selector-class">.container</span><span class="selector-class">.post-content</span> <span class="selector-class">.folding-tag</span> <span class="selector-class">.content</span>, <span class="selector-tag">summary</span>, <span class="comment">/* æ ‡ç­¾å¤–æŒ‚ */</span></span><br><span class="line"><span class="selector-id">#rightside</span> &gt; <span class="selector-tag">div</span> &gt; <span class="selector-tag">button</span>, <span class="comment">/* å³ä¸‹è§’æ˜æš—æ¨¡å¼ï¼Œè¯„è®º */</span></span><br><span class="line"><span class="selector-id">#rightside</span> &gt; <span class="selector-tag">div</span> &gt; <span class="selector-tag">a</span>, <span class="comment">/* å³ä¸‹è§’æ˜æš—æ¨¡å¼ï¼Œè¯„è®º */</span></span><br><span class="line"><span class="selector-id">#pagination</span> <span class="selector-class">.page-number</span>, <span class="comment">/* æ–‡ç« åˆ†é¡µ2 */</span></span><br><span class="line"><span class="selector-id">#pagination</span> <span class="selector-class">.extend</span><span class="selector-class">.next</span>, <span class="comment">/* æ–‡ç« åˆ†é¡µ1 */</span></span><br><span class="line"><span class="selector-class">.search-dialog</span>, <span class="comment">/* æœç´¢æ¡† */</span></span><br><span class="line"><span class="selector-id">#tag</span>, <span class="comment">/* æ ‡ç­¾å­é¡µé¢å¡ç‰‡ */</span></span><br><span class="line"><span class="selector-id">#category</span>, <span class="comment">/* åˆ†ç±»å­é¡µé¢å¡ç‰‡ */</span></span><br><span class="line"><span class="selector-id">#recent-posts</span> <span class="selector-class">.recent-post-item</span>, <span class="comment">/* é¦–é¡µæ–‡ç« å¡ç‰‡ */</span></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-widget</span>, <span class="comment">/* é¦–é¡µä¾§æ å¡ç‰‡ */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#post</span>, <span class="comment">/* æ–‡ç« é¡µå¡ç‰‡ */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#archive</span>, <span class="comment">/* å½’æ¡£é¡µå¡ç‰‡ */</span></span><br><span class="line">  <span class="comment">/* æ™®é€šé¡µå¡ç‰‡ */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#page</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--mobufan-beijing) <span class="meta">!important</span>; <span class="comment">/* èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">  <span class="attribute">backdrop-filter</span>: <span class="built_in">var</span>(--mobufan-backdrop-filter) <span class="meta">!important</span>; <span class="comment">/* ç£¨ç ‚æ•ˆæœï¼ˆæ¨¡ç³Š+é¥±å’Œåº¦ï¼‰ */</span></span><br><span class="line">  <span class="attribute">border</span>: <span class="built_in">var</span>(--mobufan-border-style) <span class="meta">!important</span>; <span class="comment">/* è¾¹æ¡†è£…é¥°çº¿é¢œè‰² */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* é¼ æ ‡æ‚¬åœï¼Œç½‘é¡µæ‰€æœ‰å…ƒç´ èƒŒæ™¯é€æ˜ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**:hover &#123;*/</span></span><br><span class="line"><span class="comment">/*  background-color: transparent !important;*/</span></span><br><span class="line"><span class="comment">/*  transition: background-color 0.3s ease; !* æ·»åŠ è¿‡æ¸¡æ•ˆæœ *!*/</span></span><br><span class="line"><span class="comment">/*&#125;*/</span></span><br><span class="line"><span class="comment">/** &#123;*/</span></span><br><span class="line"><span class="comment">/*  background-color: transparent !important;*/</span></span><br><span class="line"><span class="comment">/*  transition: background-color 0.3s ease; !* æ·»åŠ è¿‡æ¸¡æ•ˆæœ *!*/</span></span><br><span class="line"><span class="comment">/*&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/********************** é¼ æ ‡æ‚¬åœï¼Œæ–‡å­—é¢œè‰² ***************************/</span></span><br><span class="line"><span class="selector-class">.aside-list-item</span> <span class="selector-class">.title</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* ä¾§è¾¹æ -æœ€è¿‘æ–‡ç«  */</span></span><br><span class="line"><span class="selector-class">.card-tag-cloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="comment">/* ä¾§è¾¹æ -æ ‡ç­¾äº‘ï¼š.card-tag-cloud a */</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--mobufan-hangneidaima) <span class="meta">!important</span>; <span class="comment">/* é¼ æ ‡æ‚¬åœï¼Œæ–‡å­—é¢œè‰²*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*************************** å¯¼èˆªæ ç¾åŒ– ****************************/</span></span><br><span class="line"><span class="comment">/********** ä¸€çº§èœå•å±…ä¸­ **********/</span></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">width</span>: fit-content <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>) <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">12px</span> <span class="meta">!important</span>; <span class="comment">/* å‘ä¸‹ç§»åŠ¨ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********* å­èœå•æ¨ªå‘å±•ç¤º *********/</span></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.menus_item_child</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* è¿™é‡Œçš„2æ˜¯ä»£è¡¨å¯¼èˆªæ çš„ç¬¬2ä¸ªå…ƒç´ ï¼Œå³æœ‰å­èœå•çš„å…ƒç´ ï¼Œå¯ä»¥æŒ‰è‡ªå·±éœ€æ±‚ä¿®æ”¹ */</span></span><br><span class="line"><span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) <span class="selector-class">.menus_item_child</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">125px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********* å»é™¤å¯¼èˆªæ é€‰é¡¹ä¸­åº•ä¸‹çš„è“æ¡ *********/</span></span><br><span class="line"><span class="selector-id">#nav</span> *<span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">  <span class="attribute">background-color</span>: transparent<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********* è°ƒæ•´å¯¼èˆªæ ï¼ˆå›¾æ ‡å¤§å°å’Œæ–‡å­—é¢œè‰²ï¼‰*********/</span></span><br><span class="line"><span class="selector-class">.site-page</span> <span class="selector-tag">svg</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1.8em</span>; <span class="comment">/* è°ƒæ•´ï¼ˆå¯¼èˆªæ å›¾æ ‡ï¼‰çš„å®½åº¦ */</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1.8em</span>; <span class="comment">/* è°ƒæ•´ï¼ˆå¯¼èˆªæ å›¾æ ‡ï¼‰çš„é«˜åº¦ */</span></span><br><span class="line">  <span class="attribute">vertical-align</span>: middle; <span class="comment">/* é»˜è®¤å±…ä¸­å¯¹é½ */</span></span><br><span class="line">  <span class="attribute">vertical-align</span>: -<span class="number">0.3em</span>; <span class="comment">/* å‘ä¸Šç§»åŠ¨ */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.site-page</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.38em</span>; <span class="comment">/* è°ƒæ•´ï¼ˆå¯¼èˆªæ æ–‡å­—ï¼‰å¤§å° */</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--mobufan-white); <span class="comment">/* è°ƒæ•´ï¼ˆå¯¼èˆªæ æ–‡å­—ï¼‰é¢œè‰² */</span></span><br><span class="line">  <span class="attribute">vertical-align</span>: <span class="number">0.01em</span>; <span class="comment">/* å‘ä¸Šç§»åŠ¨ */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.site-name</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.8em</span>; <span class="comment">/* è°ƒæ•´ï¼ˆç«™ç‚¹æ ‡é¢˜æ–‡å­—ï¼‰å¤§å° */</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--mobufan-white); <span class="comment">/* è°ƒæ•´ï¼ˆç«™ç‚¹æ ‡é¢˜æ–‡å­—ï¼‰é¢œè‰² */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å¯¼èˆªæ æ–‡å­—åŠ ç²—å’Œé—´è·è°ƒæ•´*/</span></span><br><span class="line"><span class="selector-id">#menus</span> &gt; <span class="selector-tag">div</span><span class="selector-class">.menus_items</span> &gt; <span class="selector-tag">div</span> &gt; <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="comment">/* è°ƒæ•´æ–‡å­—å¤§å° */</span></span><br><span class="line">  <span class="comment">/*font-size: 14px; !* æˆ–å…¶ä»–å€¼ï¼Œå¦‚ 16pxã€1.2rem ç­‰ *!*/</span></span><br><span class="line">  <span class="attribute">letter-spacing</span>: .<span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> .<span class="number">1em</span> <span class="number">0</span> <span class="number">0.1em</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="comment">/* é‡ç½®è¿‡æ¸¡åŠ¨ç”»ï¼ˆå¦‚æœéœ€è¦ï¼‰ */</span></span><br><span class="line">  -webkit-<span class="attribute">transition</span>: color <span class="number">0s</span> <span class="meta">!important</span>;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: color <span class="number">0s</span> <span class="meta">!important</span>;</span><br><span class="line">  -o-<span class="attribute">transition</span>: color <span class="number">0s</span> <span class="meta">!important</span>;</span><br><span class="line">  -ms-<span class="attribute">transition</span>: color <span class="number">0s</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">transition</span>: color <span class="number">0s</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********* å¯¼èˆªæ èœå•é¼ æ ‡ç§»å…¥å­—ä½“æ”¾å¤§ *********/</span></span><br><span class="line"><span class="selector-class">.site-name</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">40px</span>; <span class="comment">/*å¯¼èˆªæ ï¼ˆç«™ç‚¹æ ‡é¢˜ï¼‰æ–‡å­—å›¾æ ‡*/</span></span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--mobufan-beijing) <span class="meta">!important</span>; <span class="comment">/* æ—¥é—´æ¨¡å¼å¯¼èˆªæ ï¼ˆä¸»èœå•ï¼‰èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">0.3s</span> ease; <span class="comment">/* å¹³æ»‘è¿‡æ¸¡æ•ˆæœ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*.menus_item:hover &#123;*/</span></span><br><span class="line"><span class="comment">/*  font-size: 16px; !*å¯¼èˆªæ ï¼ˆä¸»èœå•ï¼‰æ–‡å­—å›¾æ ‡*!*/</span></span><br><span class="line"><span class="comment">/*  background: var(--mobufan-beijing) !important; !* æ—¥é—´æ¨¡å¼å¯¼èˆªæ ï¼ˆä¸»èœå•ï¼‰èƒŒæ™¯é¢œè‰² *!*/</span></span><br><span class="line"><span class="comment">/*  transition: transform 0.3s ease; !* å¹³æ»‘è¿‡æ¸¡æ•ˆæœ *!*/</span></span><br><span class="line"><span class="comment">/*&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/********* å¯¼èˆªæ ï¼ˆä¸»èœå•ï¼‰èƒŒæ™¯é¢œè‰² *********/</span></span><br><span class="line"><span class="selector-id">#page-header</span><span class="selector-class">.nav-fixed</span> <span class="selector-id">#nav</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--mobufan-beijing) <span class="meta">!important</span>; <span class="comment">/* æ—¥é—´æ¨¡å¼å¯¼èˆªæ ï¼ˆä¸»èœå•ï¼‰èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">  <span class="attribute">backdrop-filter</span>: <span class="built_in">var</span>(--mobufan-backdrop-filter) <span class="meta">!important</span>; <span class="comment">/* ç£¨ç ‚æ•ˆæœï¼ˆæ¨¡ç³Š+é¥±å’Œåº¦ï¼‰ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/******************************* å¯¼èˆªæ ï¼ˆå­èœå•ï¼‰èƒŒæ™¯é¢œè‰² ****************************/</span></span><br><span class="line"><span class="selector-class">.menus_item_child</span>,</span><br><span class="line"><span class="selector-class">.site-page</span><span class="selector-class">.child</span><span class="selector-class">.faa-parent</span><span class="selector-class">.animated-hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--mobufan-beijing) <span class="meta">!important</span>; <span class="comment">/* è®¾ç½®å…ƒç´ çš„èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">  <span class="comment">/* backdrop-filter: var(--mobufan-backdrop-filter) !important; /* ç£¨ç ‚æ•ˆæœï¼ˆæ¨¡ç³Š+é¥±å’Œåº¦ï¼‰ */</span> */</span><br><span class="line">  <span class="attribute">transition</span>: background-color <span class="number">0.3s</span> ease <span class="meta">!important</span>; <span class="comment">/* æ—¥é—´æ¨¡å¼ï¼Œæ·»åŠ ï¼ˆå­èœå•ï¼‰è¿‡æ¸¡æ•ˆæœ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span> <span class="selector-class">.menus_item_child</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--mobufan-beijing) <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">transition</span>: background-color <span class="number">0.3s</span> ease; <span class="comment">/* æ·»åŠ è¿‡æ¸¡æ•ˆæœ */</span></span><br><span class="line">  <span class="attribute">border</span>: <span class="built_in">var</span>(--mobufan-border-style) <span class="meta">!important</span>; <span class="comment">/* è¾¹æ¡†è£…é¥°çº¿é¢œè‰² */</span></span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--mobufan-shadow-border) <span class="meta">!important</span>; <span class="comment">/* æ·»åŠ é˜´å½±æ•ˆæœ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä¸ºå¯¼èˆªèœå•ä¸­çš„å­èœå•é¡¹è®¾ç½®æ ·å¼ */</span></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span> <span class="selector-class">.menus_item_child</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--mobufan-beijing) <span class="meta">!important</span>;</span><br><span class="line">  <span class="comment">/* è®¾ç½®å…ƒç´ çš„åœ†è§’åŠå¾„ä¸º 50pxï¼Œå®ç°åœ†å½¢æ•ˆæœ */</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="comment">/* ä¸ºæ‰€æœ‰å±æ€§çš„å˜åŒ–æ·»åŠ è¿‡æ¸¡åŠ¨ç”»ï¼ŒæŒç»­æ—¶é—´ä¸º 0.3 ç§’ */</span></span><br><span class="line">  -webkit-<span class="attribute">transition</span>: all .<span class="number">3s</span>; <span class="comment">/* å…¼å®¹ Webkit å†…æ ¸æµè§ˆå™¨ï¼ˆå¦‚ Chromeã€Safariï¼‰ */</span></span><br><span class="line">  -moz-<span class="attribute">transition</span>: all .<span class="number">3s</span>;    <span class="comment">/* å…¼å®¹ Gecko å†…æ ¸æµè§ˆå™¨ï¼ˆå¦‚ Firefoxï¼‰ */</span></span><br><span class="line">  -o-<span class="attribute">transition</span>: all .<span class="number">3s</span>;      <span class="comment">/* å…¼å®¹ Opera æµè§ˆå™¨ */</span></span><br><span class="line">  -ms-<span class="attribute">transition</span>: all .<span class="number">3s</span>;     <span class="comment">/* å…¼å®¹ IE æµè§ˆå™¨ */</span></span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">3s</span>;         <span class="comment">/* æ ‡å‡†è¯­æ³•ï¼Œé€‚ç”¨äºç°ä»£æµè§ˆå™¨ */</span></span><br><span class="line">  <span class="comment">/* å°†å…ƒç´ ä»¥è¡Œå†…å—çº§å…ƒç´ çš„æ–¹å¼æ˜¾ç¤ºï¼Œå…è®¸è®¾ç½®å®½åº¦å’Œé«˜åº¦ */</span></span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="comment">/* è®¾ç½®å…ƒç´ å·¦å³å¤–è¾¹è·ä¸º 2pxï¼Œå¢åŠ é—´è· */</span></span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">list-style</span>: none; <span class="comment">/* ç§»é™¤å¯¼èˆªèœå•å­é¡¹çš„é»˜è®¤åˆ—è¡¨æ ·å¼ */</span></span><br><span class="line">  <span class="attribute">border</span>: <span class="built_in">var</span>(--mobufan-border-style) <span class="meta">!important</span>; <span class="comment">/* è¾¹æ¡†è£…é¥°çº¿é¢œè‰² */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ¸…é™¤å¯¼èˆªæ å…ƒç´ æœ€åº•å±‚èƒŒæ™¯*/</span></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span> <span class="selector-class">.menus_item_child</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: transparent<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è®¾ç½®å¯¼èˆªèœå•å­é¡¹çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ çš„ä¸Šè¾¹æ¡†ä¸ºåœ†è§’ */</span></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span> <span class="selector-class">.menus_item_child</span> <span class="selector-tag">li</span><span class="selector-pseudo">:first-child</span> &#123;</span><br><span class="line">  <span class="attribute">border-top-left-radius</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border-top-right-radius</span>: <span class="number">20px</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è®¾ç½®å¯¼èˆªèœå•å­é¡¹çš„æœ€åä¸€ä¸ªå­å…ƒç´ çš„ä¸‹è¾¹æ¡†ä¸ºåœ†è§’ */</span></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span> <span class="selector-class">.menus_item_child</span> <span class="selector-tag">li</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">  <span class="attribute">border-bottom-right-radius</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border-bottom-left-radius</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è®¾ç½®å¯¼èˆªèœå•å­é¡¹ä¸­çš„é“¾æ¥æ ·å¼ */</span></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span> <span class="selector-class">.menus_item_child</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block; <span class="comment">/* å°†é“¾æ¥è®¾ç½®ä¸ºå†…è”å—å…ƒç´ ï¼Œä»¥ä¾¿è®¾ç½®å®½åº¦å’Œå†…è¾¹è· */</span></span><br><span class="line">  <span class="attribute">padding</span>: .<span class="number">5625rem</span> <span class="number">1rem</span>; <span class="comment">/* è®¾ç½®å†…è¾¹è·ï¼Œç¡®ä¿é“¾æ¥å†…å®¹ä¸è¾¹æ¡†ä¹‹é—´çš„é—´è· */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>; <span class="comment">/* é“¾æ¥å æ®æ•´ä¸ªçˆ¶å…ƒç´ çš„å®½åº¦ */</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#4c4948</span>; <span class="comment">/* è®¾ç½®é“¾æ¥çš„æ–‡æœ¬é¢œè‰²ä¸ºæ·±ç°è‰² */</span></span><br><span class="line">  <span class="attribute">text-shadow</span>: none <span class="meta">!important</span>; <span class="comment">/* ç§»é™¤æ–‡æœ¬é˜´å½±æ•ˆæœ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å½“é¼ æ ‡æ‚¬åœåœ¨å¯¼èˆªèœå•å­é¡¹çš„é“¾æ¥ä¸Šæ—¶ï¼Œè®¾ç½®é“¾æ¥çš„æ ·å¼ */</span></span><br><span class="line"><span class="comment">/*#nav .menus_items .menus_item .menus_item_child li a:hover &#123;*/</span></span><br><span class="line"><span class="comment">/*  !* color: #fff; !important; *! !* è¢«æ³¨é‡Šæ‰çš„ä»£ç ï¼šå°†æ–‡æœ¬é¢œè‰²è®¾ç½®ä¸ºç™½è‰² *!*/</span></span><br><span class="line"><span class="comment">/*  padding: .125rem 1.25rem; !* è°ƒæ•´å†…è¾¹è·ï¼Œé“¾æ¥ä½¿åœ¨æ‚¬åœæ—¶çœ‹èµ·æ¥æ›´ç´§å‡‘ *!*/</span></span><br><span class="line"><span class="comment">/*  -webkit-transform: scale(1) !important; !* ä¿æŒå…ƒç´ çš„åŸå§‹å¤§å°ï¼ˆWebkitæµè§ˆå™¨ï¼‰ *!*/</span></span><br><span class="line"><span class="comment">/*  -moz-transform: scale(1) !important; !* ä¿æŒå…ƒç´ çš„åŸå§‹å¤§å°ï¼ˆFirefoxæµè§ˆå™¨ï¼‰ *!*/</span></span><br><span class="line"><span class="comment">/*  -o-transform: scale(1) !important; !* ä¿æŒå…ƒç´ çš„åŸå§‹å¤§å°ï¼ˆOperaæµè§ˆå™¨ï¼‰ *!*/</span></span><br><span class="line"><span class="comment">/*  -ms-transform: scale(1) !important; !* ä¿æŒå…ƒç´ çš„åŸå§‹å¤§å°ï¼ˆIEæµè§ˆå™¨ï¼‰ *!*/</span></span><br><span class="line"><span class="comment">/*  transform: scale(1) !important; !* ä¿æŒå…ƒç´ çš„åŸå§‹å¤§å°ï¼ˆæ ‡å‡†è¯­æ³•ï¼‰ *!*/</span></span><br><span class="line"><span class="comment">/*  !* background: #425aef; !important; *! !* è¢«æ³¨é‡Šæ‰çš„ä»£ç ï¼šè®¾ç½®èƒŒæ™¯é¢œè‰²ä¸ºè“è‰² *!*/</span></span><br><span class="line"><span class="comment">/*  !* -webkit-box-shadow: 0 8px 12px -3px rgba(66, 89, 239, 0.137); *! !* è¢«æ³¨é‡Šæ‰çš„ä»£ç ï¼šæ·»åŠ é˜´å½±æ•ˆæœï¼ˆWebkitæµè§ˆå™¨ï¼‰ *!*/</span></span><br><span class="line"><span class="comment">/*  !* box-shadow: 0 8px 12px -3px rgba(66, 89, 239, 0.137); *! !* è¢«æ³¨é‡Šæ‰çš„ä»£ç ï¼šæ·»åŠ é˜´å½±æ•ˆæœï¼ˆæ ‡å‡†è¯­æ³•ï¼‰ *!*/</span></span><br><span class="line"><span class="comment">/*&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/********** é¼ æ ‡æ‚¬åœèƒŒæ™¯é¢œè‰² **********/</span></span><br><span class="line"><span class="selector-class">.menus_item_child</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#menus_item</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.site-page</span><span class="selector-class">.child</span><span class="selector-class">.faa-parent</span><span class="selector-class">.animated-hover</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--mobufan-beijing) <span class="meta">!important</span>; <span class="comment">/* è®¾ç½®å…ƒç´ çš„èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">  <span class="attribute">backdrop-filter</span>: <span class="built_in">var</span>(--mobufan-backdrop-filter) <span class="meta">!important</span>; <span class="comment">/* ç£¨ç ‚æ•ˆæœï¼ˆæ¨¡ç³Š+é¥±å’Œåº¦ï¼‰ */</span></span><br><span class="line">  <span class="attribute">transition</span>: background-color <span class="number">0.3s</span> ease <span class="meta">!important</span>; <span class="comment">/* æ·»åŠ ï¼ˆå­èœå•ï¼‰è¿‡æ¸¡æ•ˆæœ */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/********** æ‰‹æœºç«¯èœå•æ èƒŒæ™¯ **********/</span></span><br><span class="line"><span class="comment">/* æ‰‹æœºç«¯èœå•æ æœ€å¤–å±‚ï¼šdiv#sidebar-menus */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#sidebar-menus</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--mobufan-beijing) <span class="meta">!important</span>; <span class="comment">/* å¤œé—´æ¨¡å¼èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">  <span class="attribute">backdrop-filter</span>: <span class="built_in">var</span>(--mobufan-backdrop-filter); <span class="comment">/* ç£¨ç ‚æ•ˆæœï¼ˆæ¨¡ç³Š+é¥±å’Œåº¦ï¼‰ */</span></span><br><span class="line">  <span class="attribute">border</span>: <span class="built_in">var</span>(--mobufan-border-style); <span class="comment">/* è¾¹æ¡†è£…é¥°çº¿é¢œè‰² */</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">15px</span>; <span class="comment">/* åœ†è§’ */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* æ‰‹æœºç«¯èœå•æ (é¦–é¡µ+æ–‡ç« +ç¤¾äº¤+å…³äº)èƒŒæ™¯*/</span></span><br><span class="line"><span class="selector-class">.menus_items</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--mobufan-beijing) <span class="meta">!important</span>; <span class="comment">/* å¤œé—´æ¨¡å¼èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">  <span class="attribute">backdrop-filter</span>: <span class="built_in">var</span>(--mobufan-backdrop-filter); <span class="comment">/* ç£¨ç ‚æ•ˆæœï¼ˆæ¨¡ç³Š+é¥±å’Œåº¦ï¼‰ */</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span> <span class="meta">!important</span>; <span class="comment">/* åœ†è§’ */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* æ‰‹æœºç«¯èœå•æ ï¼ˆå¤´åƒä¸‹é¢ï¼Œæ–‡ç« +æ ‡ç­¾+åˆ†ç±»ï¼‰*/</span></span><br><span class="line"><span class="selector-class">.site-data</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>; <span class="comment">/* å›¾æ ‡å¤§å° */</span></span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">40px</span>; <span class="comment">/* å›¾æ ‡ä¸Šä¸‹è°ƒèŠ‚ */</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--mobufan-white); <span class="comment">/* è°ƒæ•´ï¼ˆå¯¼èˆªæ æ–‡å­—ï¼‰é¢œè‰² */</span></span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--mobufan-beijing) <span class="meta">!important</span>; <span class="comment">/* èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* æ‰‹æœºç«¯èœå•æ  é¼ æ ‡æ‚¬åœé€æ˜èƒŒæ™¯*/</span></span><br><span class="line"><span class="selector-id">#sidebar-menus</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span> <span class="selector-tag">a</span><span class="selector-class">.site-page</span><span class="selector-class">.faa-parent</span><span class="selector-class">.animated-hover</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--mobufan-beijing) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/************************ æ ‡ç­¾å¤–æŒ‚èƒŒæ™¯é¢œè‰² ************************/</span></span><br><span class="line"><span class="selector-id">#post</span> <span class="selector-class">.container</span><span class="selector-class">.post-content</span> <span class="selector-class">.folding-tag</span>, <span class="selector-id">#post</span> <span class="selector-class">.container</span><span class="selector-class">.post-content</span> <span class="selector-class">.folding-tag</span> <span class="selector-class">.content</span>, <span class="selector-id">#post</span> <span class="selector-class">.container</span><span class="selector-class">.post-content</span> <span class="selector-class">.folding-tag</span> <span class="selector-class">.content</span>, <span class="selector-tag">summary</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--mobufan-beijing) <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">transition</span>: background-color <span class="number">0.3s</span> ease; <span class="comment">/* æ·»åŠ è¿‡æ¸¡æ•ˆæœ */</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--mobufan-waigua) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#post</span> <span class="selector-class">.container</span><span class="selector-class">.post-content</span> <span class="selector-class">.folding-tag</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--mobufan-shadow-border) <span class="meta">!important</span>; <span class="comment">/* æ·»åŠ é˜´å½±æ•ˆæœ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/************************ é˜…è¯»æ¨¡å¼ ************************/</span></span><br><span class="line"><span class="comment">/*[data-theme=&quot;light&quot;] .read-mode #aside-content .card-widget,*/</span></span><br><span class="line"><span class="comment">/*[data-theme=&quot;light&quot;] .read-mode div#post &#123;*/</span></span><br><span class="line"><span class="comment">/*  background: rgba(158, 204, 171, 0.5) !important;*/</span></span><br><span class="line"><span class="comment">/*&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*!* å¤œé—´æ¨¡å¼ä¸‹çš„é˜…è¯»æ¨¡å¼ *!*/</span></span><br><span class="line"><span class="comment">/*[data-theme=&quot;dark&quot;] .read-mode #aside-content .card-widget,*/</span></span><br><span class="line"><span class="comment">/*[data-theme=&quot;dark&quot;] .read-mode div#post &#123;*/</span></span><br><span class="line"><span class="comment">/*  background: rgba(25, 25, 25, 0.2) !important;*/</span></span><br><span class="line"><span class="comment">/*  color: #ffffff;*/</span></span><br><span class="line"><span class="comment">/*&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*************************** å³ä¸‹è§’æŒ‰é’®ç¾åŒ– ************************/</span></span><br><span class="line"><span class="selector-id">#to_comment</span> <span class="selector-class">.fas</span><span class="selector-class">.fa-comments</span>, <span class="comment">/* å³ä¸‹è§’æ˜æš—æ¨¡å¼ï¼Œè¯„è®º */</span></span><br><span class="line"><span class="selector-id">#rightside</span> &gt; <span class="selector-tag">div</span> &gt; <span class="selector-tag">button</span>, <span class="comment">/* å³ä¸‹è§’æ˜æš—æ¨¡å¼ï¼Œèœå• */</span></span><br><span class="line"><span class="selector-id">#rightside</span> &gt; <span class="selector-tag">div</span> &gt; <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">5px</span>; <span class="comment">/*é—´è·*/</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">42px</span>; <span class="comment">/*å·¦å³è¾¹æ¡†å¤§å°*/</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">42px</span>; <span class="comment">/*ä¸Šä¸‹è¾¹æ¡†å¤§å°*/</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">26px</span>; <span class="comment">/*åœ†è§’å¤§å°*/</span></span><br><span class="line">  <span class="comment">/*background-color: #ffffff; !*èƒŒæ™¯é¢œè‰²*!*/</span></span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">19px</span>; <span class="comment">/*å›¾æ ‡å¤§å°*/</span></span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">42px</span>; <span class="comment">/*å›¾æ ‡ä¸Šä¸‹è°ƒèŠ‚*/</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--mobufan-hangneidaima); <span class="comment">/*å›¾æ ‡é¢œè‰²*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/************************ é¦–é¡µæ ‡é¢˜ç¾åŒ– ************************/</span></span><br><span class="line"><span class="comment">/* è®¾ç½®ï¼ˆé¦–é¡µæ ‡é¢˜ï¼‰å­—ä½“å¤§å°ã€é¢œè‰²ã€è¡Œé«˜ç­‰ */</span></span><br><span class="line"><span class="selector-id">#post-info</span> <span class="selector-class">.post-title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--mobufan-white); <span class="comment">/* é¦–é¡µæ ‡é¢˜ï¼ˆæ–‡å­—ï¼‰é¢œè‰² */</span></span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2.0em</span>; <span class="comment">/* é¦–é¡µæ ‡é¢˜ï¼ˆæ–‡å­—ï¼‰å¤§å° */</span></span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.5</span>; <span class="comment">/* é¦–é¡µæ ‡é¢˜ï¼ˆä¸å‰¯æ ‡é¢˜ï¼‰é—´è·å¤§å° */</span></span><br><span class="line">  <span class="attribute">letter-spacing</span>: <span class="number">0px</span>; <span class="comment">/* é¦–é¡µæ ‡é¢˜ï¼ˆå­—ç¬¦ï¼‰é—´è·å¤§å° */</span></span><br><span class="line">  <span class="attribute">word-spacing</span>: <span class="number">0px</span>; <span class="comment">/* é¦–é¡µæ ‡é¢˜ï¼ˆå•è¯ï¼‰é—´è· */</span></span><br><span class="line">  <span class="comment">/* ä»¥ä¸‹å±æ€§é…åˆå®ç°å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å· */</span></span><br><span class="line">  <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">  -webkit-<span class="attribute">box-orient</span>: vertical;</span><br><span class="line">  -webkit-<span class="selector-tag">line</span>-clamp: <span class="number">3</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#post-info</span> <span class="selector-class">.post-title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--mobufan-white); <span class="comment">/* é¦–é¡µæ ‡é¢˜ï¼ˆæ–‡å­—ï¼‰é¢œè‰² */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* è®¾ç½®ï¼ˆé¦–é¡µå‰¯æ ‡é¢˜ï¼‰å­—ä½“å¤§å°ã€é¢œè‰²ã€è¡Œé«˜ç­‰ */</span></span><br><span class="line"><span class="selector-id">#post-meta</span> <span class="selector-class">.meta-firstline</span>, <span class="selector-id">#post-meta</span> <span class="selector-class">.meta-secondline</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--mobufan-white); <span class="comment">/* é¦–é¡µå‰¯æ ‡é¢˜ï¼ˆæ–‡å­—ï¼‰é¢œè‰² */</span></span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.2em</span>; <span class="comment">/* é¦–é¡µå‰¯æ ‡é¢˜ï¼ˆæ–‡å­—ï¼‰å¤§å° */</span></span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.5</span>; <span class="comment">/* é¦–é¡µå‰¯æ ‡é¢˜ï¼ˆä¸æ ‡é¢˜ï¼‰é—´è·å¤§å° */</span></span><br><span class="line">  <span class="attribute">letter-spacing</span>: <span class="number">0px</span>; <span class="comment">/* é¦–é¡µå‰¯æ ‡é¢˜ï¼ˆå­—ç¬¦ï¼‰é—´è·å¤§å° */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/******************** æ–‡ç« tocç›®å½•ç¾åŒ– ********************/</span></span><br><span class="line"><span class="comment">/* ä¾§è¾¹æ å†…å®¹åŒºåŸŸä¸­çš„ç›®å½•å¡ç‰‡å†…å®¹æ ·å¼ */</span></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span> <span class="selector-class">.toc-content</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">0px</span>; <span class="comment">/* è®¾ç½®å†…è¾¹è·å’Œå¤–è¾¹è· */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* ç›®å½•å¡ç‰‡å†…å®¹ ç›®å½•æ ·å¼ */</span></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span> <span class="selector-class">.toc-content</span> <span class="selector-class">.toc-link</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.2</span>; <span class="comment">/* è®¾ç½®è¡Œé«˜ */</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">3px</span>; <span class="comment">/* è®¾ç½®å†…è¾¹è· */</span></span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">0px</span> solid <span class="number">#88000000</span>; <span class="comment">/* è®¾ç½®å·¦è¾¹æ¡† */</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">19px</span>; <span class="comment">/* è®¾ç½®åœ†è§’è¾¹æ¡† */</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">15px</span>; <span class="comment">/* è®¾ç½®å­—ä½“å¤§å° */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********* éæ´»æ€§ç›®å½•æ ·å¼ *********/</span></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span> <span class="selector-class">.toc-content</span> <span class="selector-class">.toc-link</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--mobufan-white); <span class="comment">/* æ—¥é—´æ¨¡å¼ï¼ˆç›®å½•å¡ç‰‡å†…å®¹ï¼‰æ–‡å­—é¢œè‰² */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.toc-content</span> <span class="selector-class">.toc-link</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.active</span>) <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">0px</span>); <span class="comment">/* æ‚¬åœæ—¶ ç§»é™¤æ¨¡ç³Šæ•ˆæœ */</span></span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>; <span class="comment">/* æ‚¬åœæ—¶ è®¾ç½®å®Œå…¨ä¸é€æ˜ */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span> <span class="selector-class">.toc-content</span> <span class="selector-class">.toc-link</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.active</span>) <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.6</span>; <span class="comment">/* ç›®å½•å¡ç‰‡å†…å®¹è®¾ç½®(åŠé€æ˜) */</span></span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">0.9px</span>); <span class="comment">/* ç›®å½•å¡ç‰‡å†…å®¹è®¾ç½®(è½»å¾®æ¨¡ç³Š)æ•ˆæœ */</span></span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.3s</span>; <span class="comment">/* ç›®å½•å¡ç‰‡å†…å®¹è®¾ç½®(è¿‡æ¸¡æ•ˆæœ) */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********* æ´»æ€§ç›®å½•çŠ¶æ€æ ·å¼ *********/</span></span><br><span class="line"><span class="comment">/* é¼ æ ‡æ‚¬åœæ ·å¼ */</span></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span> <span class="selector-class">.toc-content</span> <span class="selector-class">.toc-link</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.active</span>) <span class="selector-tag">span</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">2.2</span>; <span class="comment">/* è®¾ç½®è¡Œé«˜ */</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>; <span class="comment">/* æ‚¬åœæ—¶ åœ†è§’è¾¹æ¡† */</span></span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--mobufan-beijing); <span class="comment">/* æ‚¬åœæ—¶ èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--mobufan-hangneidaima) ; <span class="comment">/*  æ‚¬åœæ—¶ æ–‡å­—é¢œè‰² */</span></span><br><span class="line">  <span class="attribute">font-weight</span>: bold; <span class="comment">/* è®¾ç½®å­—ä½“åŠ ç²— */</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>; <span class="comment">/* æ‚¬åœæ—¶ å­—ä½“å¤§å° */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æµè§ˆåˆ°è¯¥ç›®å½•æ—¶çš„æ ·å¼*/</span></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span> <span class="selector-class">.toc-content</span> <span class="selector-class">.toc-link</span><span class="selector-class">.active</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">2.8</span>; <span class="comment">/* è®¾ç½®è¡Œé«˜ */</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>; <span class="comment">/* è®¾ç½®åœ†è§’è¾¹æ¡† */</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--mobufan-hangneidaima) ; <span class="comment">/*  æµè§ˆåˆ°è¯¥ç›®å½•æ—¶ æ–‡å­—é¢œè‰² */</span></span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--mobufan-beijing); <span class="comment">/* æµè§ˆåˆ°è¯¥ç›®å½•æ—¶ è¾¹æ¡†èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">  <span class="attribute">font-weight</span>: bold; <span class="comment">/* è®¾ç½®å­—ä½“åŠ ç²— */</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">22px</span>; <span class="comment">/* è®¾ç½®å­—ä½“å¤§å° */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span> <span class="selector-class">.toc-content</span> <span class="selector-class">.toc-item</span><span class="selector-class">.active</span> <span class="selector-class">.toc-link</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>; <span class="comment">/* å†…å®¹ä¸­æ´»æ€§ç›®å½•ï¼Œè®¾ç½®ä¸é€æ˜åº¦ */</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">15px</span>; <span class="comment">/* å†…å®¹ä¸­æ´»æ€§ç›®å½•ï¼Œè®¾ç½®åœ†è§’è¾¹æ¡† */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/******************************** å…¨å±€è¶…é“¾æ¥é¢œè‰² *****************************/</span></span><br><span class="line"><span class="comment">/********* å…¨å±€è¶…é“¾æ¥é¢œè‰² *********/</span></span><br><span class="line"><span class="selector-id">#article-container</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--mobufan-hangneidaima) ; <span class="comment">/* é»˜è®¤é¢œè‰² */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#article-container</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--mobufan-hangneidaima) ; <span class="comment">/* æ‚¬åœé¢œè‰² */</span></span><br><span class="line">  <span class="attribute">text-decoration</span>: underline ; <span class="comment">/* å¼ºåˆ¶æ·»åŠ ä¸‹åˆ’çº¿ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/******************** é¦–é¡µæ–‡ç« æ ‡é¢˜ç¾åŒ– **********************/</span></span><br><span class="line"><span class="comment">/* é¦–é¡µæ–‡ç« æ ‡é¢˜å±…ä¸­æ˜¾ç¤º */</span></span><br><span class="line"><span class="selector-class">.article-title</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center; <span class="comment">/* é¦–é¡µæ–‡ç« æ ‡é¢˜å±…ä¸­æ˜¾ç¤º */</span></span><br><span class="line">  <span class="attribute">letter-spacing</span>: <span class="number">0px</span>; <span class="comment">/* é¦–é¡µæ–‡ç« æ ‡é¢˜ï¼ˆå­—ç¬¦ï¼‰é—´è·å¤§å° */</span></span><br><span class="line">  <span class="attribute">word-spacing</span>: <span class="number">0px</span>; <span class="comment">/* é¦–é¡µæ–‡ç« æ ‡é¢˜ï¼ˆå•è¯ï¼‰é—´è· */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.article-title</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.2</span>);</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">0.3s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*!********* æ–‡ç« å¡ç‰‡å°ºå¯¸è°ƒæ•´ *********!*/</span></span><br><span class="line"><span class="comment">/*#recent-posts .recent-post-item &#123;*/</span></span><br><span class="line"><span class="comment">/*  width: 99%; !* å®½åº¦ä¸ºçˆ¶å®¹å™¨çš„ 80% *!*/</span></span><br><span class="line"><span class="comment">/*  height: 360vh; !* é«˜åº¦ä¸ºè§†å£é«˜åº¦çš„ 30% *!*/</span></span><br><span class="line"><span class="comment">/*  max-width: 1600px; !* æœ€å¤§å®½åº¦é™åˆ¶ *!*/</span></span><br><span class="line"><span class="comment">/*  max-height: 300px; !* æœ€å¤§é«˜åº¦é™åˆ¶ *!*/</span></span><br><span class="line"><span class="comment">/*&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/********************** é¼ æ ‡æ‚¬åœæ—¶å…ƒç´ ç¾åŒ– **********************/</span></span><br><span class="line"><span class="comment">/********** é¼ æ ‡æ‚¬åœæ—¶è¾¹æ¡†è£…é¥°çº¿ï¼ˆé¢œè‰²ï¼‰ **********/</span></span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-tag">img</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* æ–‡ç« å›¾ç‰‡åœ†è§’ */</span></span><br><span class="line"><span class="selector-tag">blockquote</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* å¼•ç”¨æ ‡ç­¾ç¾åŒ– */</span></span><br><span class="line"><span class="selector-id">#rightside</span> &gt; <span class="selector-tag">div</span> &gt; <span class="selector-tag">button</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* å³ä¸‹è§’æ˜æš—æ¨¡å¼ï¼Œèœå• */</span></span><br><span class="line"><span class="selector-id">#to_comment</span> <span class="selector-class">.fas</span><span class="selector-class">.fa-comments</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* å³ä¸‹è§’æ˜æš—æ¨¡å¼ï¼Œè¯„è®º */</span></span><br><span class="line"><span class="selector-class">.icon-V</span><span class="selector-class">.hidden</span><span class="selector-pseudo">:hover</span>, <span class="comment">/*å³ä¸‹è§’å¿«æ·èœå•*/</span></span><br><span class="line"><span class="selector-id">#go-down</span><span class="selector-pseudo">:hover</span>, <span class="comment">/*å³ä¸‹è§’å¿«æ·èœå•*/</span></span><br><span class="line"><span class="selector-id">#go-up</span><span class="selector-pseudo">:hover</span>, <span class="comment">/*å³ä¸‹è§’å¿«æ·èœå•*/</span></span><br><span class="line"><span class="selector-id">#hide-aside-btn</span><span class="selector-pseudo">:hover</span>, <span class="comment">/*å³ä¸‹è§’å¿«æ·èœå•*/</span></span><br><span class="line"><span class="selector-id">#rightside-config</span><span class="selector-pseudo">:hover</span>, <span class="comment">/*å³ä¸‹è§’å¿«æ·èœå•*/</span></span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-body</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* éŸ³ä¹æ’­æ”¾å™¨ */</span></span><br><span class="line"><span class="selector-class">.tk-submit-action-icon</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* è¯„è®ºè¡¨æƒ…ï¼š.tk-submit-action-icon */</span></span><br><span class="line"><span class="selector-class">.el-button</span><span class="selector-class">.tk-send</span><span class="selector-class">.el-button--primary</span><span class="selector-class">.el-button--small</span><span class="selector-class">.is-disabled</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* è¯„è®ºå‘é€ */</span></span><br><span class="line"><span class="selector-class">.el-button</span><span class="selector-class">.tk-preview</span><span class="selector-class">.el-button--default</span><span class="selector-class">.el-button--small</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* è¯„è®ºé¢„è§ˆ */</span></span><br><span class="line"><span class="selector-id">#twikoo</span> <span class="selector-class">.tk-comments</span> <span class="selector-class">.tk-submit</span> <span class="selector-class">.tk-row</span> <span class="selector-class">.tk-col</span> <span class="selector-class">.tk-input</span><span class="selector-class">.el-textarea</span> <span class="selector-class">.el-textarea__inner</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* è¯„è®ºè¾“å…¥æ¡†ï¼š.tk-input.el-textarea */</span></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* è¯„è®ºé‚®ç®±+ç”¨æˆ·å */</span></span><br><span class="line"><span class="selector-id">#pagination</span> <span class="selector-class">.page-number</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* æ–‡ç« åˆ†é¡µ2 */</span></span><br><span class="line"><span class="selector-id">#pagination</span> <span class="selector-class">.extend</span><span class="selector-class">.next</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* æ–‡ç« åˆ†é¡µ1 */</span></span><br><span class="line"><span class="selector-class">.pagination-related</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* ç›¸å…³æ¨è */</span></span><br><span class="line"><span class="selector-id">#pagination</span> <span class="selector-class">.pagination-related</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* ä¸‹ä¸€ç¯‡æ–‡ç«  */</span></span><br><span class="line"><span class="selector-class">.highlight</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* ä»£ç æ¡† */</span></span><br><span class="line"><span class="selector-class">.search-dialog</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* æœç´¢æ¡†1 */</span></span><br><span class="line"><span class="selector-class">.local-search-box--input</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* æœç´¢æ¡†2 */</span></span><br><span class="line"><span class="selector-id">#tag</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* æ ‡ç­¾å­é¡µé¢å¡ç‰‡ */</span></span><br><span class="line"><span class="selector-id">#category</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* åˆ†ç±»å­é¡µé¢å¡ç‰‡ */</span></span><br><span class="line"><span class="selector-id">#recent-posts</span> <span class="selector-class">.recent-post-item</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* é¦–é¡µæ–‡ç« å¡ç‰‡ */</span></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-widget</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* é¦–é¡µä¾§æ å¡ç‰‡ */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#post</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* æ–‡ç« é¡µå¡ç‰‡ */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#page</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* æ™®é€šé¡µå¡ç‰‡*/</span>  <span class="comment">/* å½’æ¡£é¡µå¡ç‰‡ï¼šdiv#archive */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#archive</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--mobufan-shadow-border) <span class="meta">!important</span>; <span class="comment">/* æ·»åŠ é˜´å½±æ•ˆæœ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********** é¼ æ ‡æ‚¬æµ®ï¼ˆå­—ä½“é˜´å½±ï¼‰æ•ˆæœ **********/</span></span><br><span class="line"><span class="comment">/* é¦–é¡µæ–‡ç« æ ‡é¢˜ï¼š.article-title */</span></span><br><span class="line"><span class="selector-class">.menus_item</span><span class="selector-pseudo">:hover</span>, <span class="comment">/*å¯¼èˆªæ ï¼ˆä¸»èœå•ï¼‰æ–‡å­—å›¾æ ‡*/</span></span><br><span class="line"><span class="selector-class">.site-name</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* å¯¼èˆªæ èœå• */</span></span><br><span class="line"><span class="selector-class">.tag-cloud-list</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* ä¾¿ç­¾å¡ç‰‡ */</span></span><br><span class="line"><span class="selector-class">.site-data</span> <span class="selector-class">.headline</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* ä¾§è¾¹æ -å¤´åƒå¡ç‰‡ */</span></span><br><span class="line"><span class="selector-class">.aside-list-item</span> <span class="selector-class">.title</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* ä¾§è¾¹æ -æœ€è¿‘æ–‡ç«  */</span></span><br><span class="line"><span class="selector-class">.card-category-list-name</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* ä¾§è¾¹æ -åˆ†ç±» */</span></span><br><span class="line"><span class="selector-class">.card-tag-cloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* ä¾§è¾¹æ -æ ‡ç­¾äº‘ */</span></span><br><span class="line"><span class="selector-id">#article-container</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* å…¨å±€è¶…é“¾æ¥ */</span></span><br><span class="line"><span class="selector-class">.article-title</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">text-shadow</span>: <span class="built_in">var</span>(--mobufan-text-shadow) <span class="meta">!important</span>; <span class="comment">/* ç›´æ¥å®šä¹‰é˜´å½±æ•ˆæœ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********* é¼ æ ‡æ‚¬åœæ—¶ï¼ˆå…ƒç´ æ”¾å¤§ï¼‰æ•ˆæœ *********/</span></span><br><span class="line"><span class="selector-id">#rightside</span> &gt; <span class="selector-tag">div</span> &gt; <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-id">#rightside</span> &gt; <span class="selector-tag">div</span> &gt; <span class="selector-tag">button</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* å³ä¸‹è§’æ˜æš—æ¨¡å¼ï¼Œèœå• */</span></span><br><span class="line"><span class="selector-id">#to_comment</span> <span class="selector-class">.fas</span><span class="selector-class">.fa-comments</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* å³ä¸‹è§’æ˜æš—æ¨¡å¼ï¼Œè¯„è®º */</span></span><br><span class="line"><span class="selector-id">#pagination</span> <span class="selector-class">.page-number</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* æ–‡ç« åˆ†é¡µæŒ‰é’®1 */</span></span><br><span class="line"><span class="selector-id">#pagination</span> <span class="selector-class">.extend</span><span class="selector-class">.next</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* æ–‡ç« åˆ†é¡µæŒ‰é’®2 */</span></span><br><span class="line"><span class="selector-class">.site-data</span> <span class="selector-class">.headline</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* ä¾§è¾¹æ -å¤´åƒå¡ç‰‡ */</span></span><br><span class="line"><span class="selector-class">.aside-list-item</span> <span class="selector-class">.title</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* ä¾§è¾¹æ -æœ€è¿‘æ–‡ç«  */</span></span><br><span class="line"><span class="selector-class">.card-tag-cloud</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* ä¾§è¾¹æ -æ ‡ç­¾äº‘ */</span></span><br><span class="line"><span class="selector-class">.card-category-list-name</span><span class="selector-pseudo">:hover</span>, <span class="comment">/* ä¾§è¾¹æ -åˆ†ç±» */</span></span><br><span class="line"><span class="selector-class">.icon-V</span><span class="selector-class">.hidden</span><span class="selector-pseudo">:hover</span>, <span class="comment">/*å³ä¸‹è§’å¿«æ·èœå•*/</span></span><br><span class="line"><span class="selector-id">#go-down</span><span class="selector-pseudo">:hover</span>, <span class="comment">/*å³ä¸‹è§’å¿«æ·èœå•*/</span></span><br><span class="line"><span class="selector-id">#go-up</span><span class="selector-pseudo">:hover</span>, <span class="comment">/*å³ä¸‹è§’å¿«æ·èœå•*/</span></span><br><span class="line"><span class="selector-id">#hide-aside-btn</span><span class="selector-pseudo">:hover</span>, <span class="comment">/*å³ä¸‹è§’å¿«æ·èœå•,ä¸‹é¢çš„#rightside-configä¹Ÿæ˜¯*/</span></span><br><span class="line"><span class="selector-id">#rightside-config</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.2</span>); <span class="comment">/* é¼ æ ‡æ‚¬åœæ—¶æ”¾å¤§æ•ˆæœ */</span></span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">0.3s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*********************** å¼•ç”¨æ ‡ç­¾ç¾åŒ– **************************/</span></span><br><span class="line"><span class="selector-tag">blockquote</span> &#123;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">8px</span> solid <span class="built_in">var</span>(--mobufan-hangneidaima); <span class="comment">/* å·¦è¾¹æ¡† */</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">16px</span>; <span class="comment">/* å†…è¾¹è· */</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">15px</span>; <span class="comment">/* å‡å°å­—ä½“å¤§å° */</span></span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">18px</span> <span class="number">0px</span>; <span class="comment">/* å¤–è¾¹è· */</span></span><br><span class="line">  <span class="comment">/*font-style: italic; !* æ–œä½“å­— *!*/</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">15px</span>; <span class="comment">/* åœ†è§’ */</span></span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--mobufan-beijing); <span class="comment">/* å¤œé—´æ¨¡å¼èƒŒæ™¯é¢œè‰² */</span></span><br><span class="line">  <span class="attribute">backdrop-filter</span>: <span class="built_in">var</span>(--mobufan-backdrop-filter); <span class="comment">/* ç£¨ç ‚æ•ˆæœï¼ˆæ¨¡ç³Š+é¥±å’Œåº¦ï¼‰ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">blockquote</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">1px</span> <span class="number">1</span>; <span class="comment">/* å‡å°‘ä¸Šä¸‹å¤–è¾¹è· */</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">0</span>; <span class="comment">/* å‡å°‘ä¸Šä¸‹å†…è¾¹è· */</span></span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">2</span>; <span class="comment">/* å‡å°è¡Œé«˜ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">blockquote</span> <span class="selector-tag">p</span><span class="selector-pseudo">:first-child</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0</span>; <span class="comment">/* ç¬¬ä¸€ä¸ªæ®µè½çš„é¡¶éƒ¨å¤–è¾¹è·ä¸º0 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">blockquote</span> <span class="selector-tag">p</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0</span>; <span class="comment">/* æœ€åä¸€ä¸ªæ®µè½çš„åº•éƒ¨å¤–è¾¹è·ä¸º0 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*********************** ä¿®æ”¹åˆ†ç±»å¡ç‰‡å¸ƒå±€ **************************/</span></span><br><span class="line"><span class="selector-tag">li</span><span class="selector-class">.card-archive-list-item</span>,<span class="selector-tag">li</span><span class="selector-class">.card-category-list-item</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  -webkit-<span class="attribute">box-flex</span>: <span class="number">1</span>;</span><br><span class="line">  -moz-<span class="attribute">box-flex</span>: <span class="number">1</span>;</span><br><span class="line">  -o-<span class="attribute">box-flex</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">box-flex</span>: <span class="number">1</span>;</span><br><span class="line">  -webkit-<span class="attribute">flex</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">48%</span>;</span><br><span class="line">  -ms-<span class="attribute">flex</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">48%</span>;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">48%</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-archives</span> <span class="selector-tag">ul</span><span class="selector-class">.card-archive-list</span>&gt;<span class="selector-class">.card-archive-list-item</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,<span class="selector-id">#aside-content</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span>&gt;<span class="selector-class">.card-category-list-item</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--mobufan-hangneidaima); <span class="comment">/* é¼ æ ‡æ‚¬åœï¼Œæ–‡å­—é¢œè‰²*/</span></span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--mobufan-beijing) <span class="meta">!important</span>; <span class="comment">/* é¼ æ ‡æ‚¬åœï¼Œå¡ç‰‡èƒŒæ™¯é¢œè‰²*/</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--mobufan-shadow-border) <span class="meta">!important</span>; <span class="comment">/* æ·»åŠ é˜´å½±æ•ˆæœ */</span> <span class="comment">/* é¼ æ ‡æ‚¬åœï¼Œè¾¹æ¡†è½®å»“é¢œè‰²*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">1200px</span>) &#123;</span><br><span class="line">  <span class="selector-id">#aside-content</span> <span class="selector-class">.card-archives</span> <span class="selector-tag">ul</span><span class="selector-class">.card-archive-list</span>&gt;<span class="selector-class">.card-archive-list-item</span> <span class="selector-tag">a</span><span class="selector-pseudo">:active</span>,<span class="selector-id">#aside-content</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span>&gt;<span class="selector-class">.card-category-list-item</span> <span class="selector-tag">a</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>:<span class="built_in">scale</span>(.<span class="number">97</span>);</span><br><span class="line">    -moz-<span class="attribute">transform</span>: <span class="built_in">scale</span>(.<span class="number">97</span>);</span><br><span class="line">    -o-<span class="attribute">transform</span>: <span class="built_in">scale</span>(.<span class="number">97</span>);</span><br><span class="line">    -ms-<span class="attribute">transform</span>: <span class="built_in">scale</span>(.<span class="number">97</span>);</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(.<span class="number">97</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-archives</span> <span class="selector-tag">ul</span><span class="selector-class">.card-archive-list</span>&gt;<span class="selector-class">.card-archive-list-item</span> <span class="selector-tag">a</span>,<span class="selector-id">#aside-content</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span>&gt;<span class="selector-class">.card-category-list-item</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">4px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">  <span class="attribute">display</span>: -moz-box;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-flex;</span><br><span class="line">  <span class="attribute">display</span>: -ms-flexbox;</span><br><span class="line">  <span class="attribute">display</span>: box;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  -webkit-<span class="attribute">box-orient</span>: vertical;</span><br><span class="line">  -moz-<span class="attribute">box-orient</span>: vertical;</span><br><span class="line">  -o-<span class="attribute">box-orient</span>: vertical;</span><br><span class="line">  -webkit-<span class="attribute">flex-direction</span>: column;</span><br><span class="line">  -ms-<span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  -ms-<span class="attribute">flex</span>-<span class="selector-tag">line</span>-pack: justify;</span><br><span class="line">  -webkit-<span class="attribute">align-content</span>: space-between;</span><br><span class="line">  <span class="attribute">align-content</span>: space-between;</span><br><span class="line">  <span class="attribute">border</span>:  <span class="number">1px</span> solid <span class="number">#e3e8f7</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-archives</span> <span class="selector-tag">ul</span><span class="selector-class">.card-archive-list</span>&gt;<span class="selector-class">.card-archive-list-item</span> <span class="selector-tag">a</span> <span class="selector-tag">span</span><span class="selector-pseudo">:first-child</span>,<span class="selector-id">#aside-content</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span>&gt;<span class="selector-class">.card-category-list-item</span> <span class="selector-tag">a</span> <span class="selector-tag">span</span><span class="selector-pseudo">:first-child</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: auto;</span><br><span class="line">  -webkit-<span class="attribute">box-flex</span>: inherit;</span><br><span class="line">  -moz-<span class="attribute">box-flex</span>: inherit;</span><br><span class="line">  -o-<span class="attribute">box-flex</span>: inherit;</span><br><span class="line">  <span class="attribute">box-flex</span>: inherit;</span><br><span class="line">  -webkit-<span class="attribute">flex</span>: inherit;</span><br><span class="line">  -ms-<span class="attribute">flex</span>: inherit;</span><br><span class="line">  <span class="attribute">flex</span>: inherit</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-archives</span> <span class="selector-tag">ul</span><span class="selector-class">.card-archive-list</span>,<span class="selector-id">#aside-content</span> <span class="selector-class">.card-categories</span> <span class="selector-tag">ul</span><span class="selector-class">.card-category-list</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">  <span class="attribute">display</span>: -moz-box;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-flex;</span><br><span class="line">  <span class="attribute">display</span>: -ms-flexbox;</span><br><span class="line">  <span class="attribute">display</span>: box;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  -webkit-<span class="attribute">box-orient</span>: horizontal;</span><br><span class="line">  -moz-<span class="attribute">box-orient</span>: horizontal;</span><br><span class="line">  -o-<span class="attribute">box-orient</span>: horizontal;</span><br><span class="line">  -webkit-<span class="attribute">flex-direction</span>: row;</span><br><span class="line">  -ms-<span class="attribute">flex-direction</span>: row;</span><br><span class="line">  <span class="attribute">flex-direction</span>: row;</span><br><span class="line">  -webkit-<span class="attribute">box-pack</span>: justify;</span><br><span class="line">  -moz-<span class="attribute">box-pack</span>: justify;</span><br><span class="line">  -o-<span class="attribute">box-pack</span>: justify;</span><br><span class="line">  -ms-<span class="attribute">flex</span>-pack: justify;</span><br><span class="line">  -webkit-<span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  -webkit-<span class="attribute">box-lines</span>: multiple;</span><br><span class="line">  -moz-<span class="attribute">box-lines</span>: multiple;</span><br><span class="line">  -o-<span class="attribute">box-lines</span>: multiple;</span><br><span class="line">  -webkit-<span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  -ms-<span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********** æœç´¢æ¡†ç¾åŒ– **********/</span></span><br><span class="line"><span class="selector-class">.local-search-box--input</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>; <span class="comment">/* æˆ–è€…ä½¿ç”¨å…¶ä»–å•ä½ï¼Œä¾‹å¦‚ height: 2.5rem; */</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>; <span class="comment">/* æ–‡å­—å¤§å° */</span></span><br><span class="line">  <span class="attribute">outline</span>: none; <span class="comment">/* å»æ‰èšç„¦æ—¶çš„é»˜è®¤è¾¹æ¡† */</span></span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.3s</span> ease; <span class="comment">/* æ·»åŠ è¿‡æ¸¡æ•ˆæœï¼Œä½¿å˜åŒ–æ›´å¹³æ»‘ */</span></span><br><span class="line">&#125;</span><br><span class="line">hr &#123;</span><br><span class="line">  <span class="attribute">display</span>: none; <span class="comment">/* éšè—æœç´¢æ¡†ä¸‹é¢çš„åˆ†å‰²çº¿ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********** æ˜æš—æ¨¡å¼+æœç´¢æŒ‰é’®ï¼ˆå¤§å°ä¸Šä¸‹è°ƒèŠ‚ï¼‰ **********/</span></span><br><span class="line"><span class="selector-class">.site-page</span><span class="selector-class">.social-icon</span><span class="selector-class">.search</span> <span class="selector-class">.faa-tada</span><span class="selector-class">.icon</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span> <span class="meta">!important</span>;  <span class="comment">/* é«˜åº¦å’Œå®½åº¦ */</span> <span class="comment">/* æœç´¢æŒ‰é’® */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">40px</span> <span class="meta">!important</span>;   <span class="comment">/* é«˜åº¦å’Œå®½åº¦ */</span></span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">7px</span> <span class="meta">!important</span>;    <span class="comment">/* å‘ä¸‹ç§»åŠ¨10px */</span></span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">2px</span> <span class="meta">!important</span>;   <span class="comment">/* å‘å³ç§»åŠ¨10px */</span></span><br><span class="line">  <span class="comment">/* æˆ–è€… */</span></span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0px</span> <span class="meta">!important</span>; <span class="comment">/* å‘ä¸Šç§»åŠ¨10px */</span></span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">8px</span> <span class="meta">!important</span>;  <span class="comment">/* å‘å·¦ç§»åŠ¨10px */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.sun_moon</span><span class="selector-class">.faa-parent</span><span class="selector-class">.animated-hover</span> <span class="selector-class">.faa-tada</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">32px</span> <span class="meta">!important</span>;  <span class="comment">/* é«˜åº¦å’Œå®½åº¦ */</span>  <span class="comment">/* æ˜æš—æ¨¡å¼æŒ‰é’® */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">32px</span> <span class="meta">!important</span>;   <span class="comment">/* é«˜åº¦å’Œå®½åº¦ */</span></span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">0px</span> <span class="meta">!important</span>;    <span class="comment">/* å‘ä¸‹ç§»åŠ¨10px */</span></span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">0px</span> <span class="meta">!important</span>;   <span class="comment">/* å‘å³ç§»åŠ¨10px */</span></span><br><span class="line">  <span class="comment">/* æˆ–è€… */</span></span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">1px</span> <span class="meta">!important</span>; <span class="comment">/* å‘ä¸Šç§»åŠ¨10px */</span></span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">4px</span> <span class="meta">!important</span>;  <span class="comment">/* å‘å·¦ç§»åŠ¨10px */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#toggle-menu</span> <span class="selector-class">.site-page</span> <span class="selector-class">.site-page</span><span class="selector-class">.faa-parent</span><span class="selector-class">.animated-hover</span> <span class="selector-class">.faa-tada</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span> <span class="meta">!important</span>;  <span class="comment">/* é«˜åº¦å’Œå®½åº¦ */</span> <span class="comment">/* æ‰‹æœºç«¯èœå•æŒ‰é’® */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">30px</span> <span class="meta">!important</span>;   <span class="comment">/* é«˜åº¦å’Œå®½åº¦ */</span></span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">9px</span> <span class="meta">!important</span>;    <span class="comment">/* å‘ä¸‹ç§»åŠ¨10px */</span></span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">0px</span> <span class="meta">!important</span>;   <span class="comment">/* å‘å³ç§»åŠ¨10px */</span></span><br><span class="line">  <span class="comment">/* æˆ–è€… */</span></span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0px</span> <span class="meta">!important</span>; <span class="comment">/* å‘ä¸Šç§»åŠ¨10px */</span></span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">0px</span> <span class="meta">!important</span>;  <span class="comment">/* å‘å·¦ç§»åŠ¨10px */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**************************** é¡µé¢ç¾åŒ– **********************************/</span></span><br></pre></td></tr></table></figure><ul><li><strong>ğŸ“Œ å¸¸é©»å¯¼èˆªæ </strong><ul><li>åœ¨ <code>_config.butterfly.yml</code> æ–‡ä»¶ä¸­ä¿®æ”¹ä¸ºï¼š</li></ul></li></ul><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="params">nav:</span></span><br><span class="line">  <span class="params">fixed:</span> <span class="literal">true</span> <span class="comment"># å›ºå®šå¯¼èˆªæ </span></span><br></pre></td></tr></table></figure><p><strong>ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="cdn-optimization"></a></p><h2 id="ğŸš€-åå››ã€CDNåŠ é€Ÿé…ç½®">ğŸš€ åå››ã€CDNåŠ é€Ÿé…ç½®</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-14">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>é€šè¿‡CDNåŠ é€Ÿé™æ€èµ„æºåŠ è½½ï¼Œæå‡ç½‘ç«™è®¿é—®é€Ÿåº¦ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚</p><h3 id="ğŸ”§-é…ç½®æ–¹æ³•">ğŸ”§ é…ç½®æ–¹æ³•</h3><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­çš„CDNè®¾ç½®ï¼š</p><ul><li>ä¸»é¢˜é»˜è®¤çš„CDNæœ‰ï¼šlocalã€cdnjsã€jsdelivrã€unpkgç­‰ï¼Œä½†æ˜¯é€Ÿåº¦å¶è¯»æ¯”è¾ƒä¸€èˆ¬ï¼Œè¦æƒ³æé«˜éƒ¨åˆ†æ ‡å‡†é™æ€èµ„æºçš„å“åº”é€Ÿåº¦ï¼Œèµ°CDNæ˜¯æœ€å¥½çš„åŠæ³•ï¼Œæœ€å¥½æ˜¯åœ¨å›½å†…çš„CDNã€‚</li></ul><p>å‚è€ƒæ•™ç¨‹ï¼š</p><ol><li><a href="https://blog.csdn.net/VariatioZbw/article/details/107822562">CSDNï¼šWebå‰ç«¯å¸¸ç”¨CDNç½‘ç«™æ±‡æ€»</a></li><li><a href="https://blog.zhheo.com/p/790087d9.html">æ´ªå“¥ï¼šButterfly CDNé“¾æ¥æ›´æ”¹æŒ‡å—ï¼Œæ›¿æ¢jsdelivræå‡è®¿é—®é€Ÿåº¦</a></li><li><a href="https://anzhiy.cn/posts/fe76.html">å®‰çŸ¥é±¼ï¼šç›®å‰å¯ç”¨cdnæ•´ç†</a></li></ol><p>ä¿®æ”¹æ•™ç¨‹ï¼Œæˆ‘åˆ†äº«ä¸€ä¸‹æˆ‘ç›®å‰åœ¨ç”¨çš„æ–¹æ¡ˆï¼š</p><p><strong>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>çš„<code>CDN</code>é…ç½®é¡¹ï¼š</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># CDN</span></span><br><span class="line"><span class="comment"># Don&#x27;t modify the following settings unless you know how they work</span></span><br><span class="line"><span class="comment"># éå¿…è¦è«‹ä¸è¦ä¿®æ”¹</span></span><br><span class="line"><span class="attr">CDN:</span></span><br><span class="line">  <span class="comment"># The CDN provider of internal scripts (ä¸»é¡Œå…§éƒ¨ js çš„ cdn é…ç½®)</span></span><br><span class="line">  <span class="comment"># option: local/jsdelivr/unpkg/cdnjs/custom</span></span><br><span class="line">  <span class="comment"># Dev version can only choose. ( devç‰ˆçš„ä¸»é¡Œåªèƒ½è¨­ç½®ç‚º local )</span></span><br><span class="line">  <span class="attr">internal_provider:</span> <span class="string">local</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># The CDN provider of third party scripts (ç¬¬ä¸‰æ–¹ js çš„ cdn é…ç½®)</span></span><br><span class="line">  <span class="comment"># option: local/jsdelivr/unpkg/cdnjs/custom</span></span><br><span class="line">  <span class="comment"># when set it to local, you need to install hexo-butterfly-extjs</span></span><br><span class="line">  <span class="attr">third_party_provider:</span> <span class="string">cdnjs</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Add version number to CDN, true or false</span></span><br><span class="line">  <span class="attr">version:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Custom format</span></span><br><span class="line">  <span class="comment"># For example: https://cdn.staticfile.org/$&#123;cdnjs_name&#125;/$&#123;version&#125;/$&#123;min_cdnjs_file&#125;</span></span><br><span class="line">  <span class="attr">custom_format:</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">option:</span></span><br><span class="line">    <span class="comment"># main_css:</span></span><br><span class="line">    <span class="comment"># main:</span></span><br><span class="line">    <span class="comment"># utils:</span></span><br><span class="line">    <span class="comment"># translate: https://cdn1.tianli0.top/npm/js-heo@1.0.6/translate/tw_cn.js</span></span><br><span class="line">    <span class="comment"># local_search:</span></span><br><span class="line">    <span class="comment"># algolia_js: </span></span><br><span class="line">    <span class="attr">algolia_search_v4:</span> <span class="string">https://cdn.staticfile.org/algoliasearch/4.14.3/algoliasearch-lite.umd.min.js</span></span><br><span class="line">    <span class="attr">instantsearch_v4:</span> <span class="string">https://cdn.staticfile.org/instantsearch.js/4.49.2/instantsearch.production.min.js</span></span><br><span class="line">    <span class="attr">pjax:</span> <span class="string">https://lib.baomitu.com/pjax/0.2.8/pjax.min.js</span></span><br><span class="line">    <span class="comment"># gitalk: https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js</span></span><br><span class="line">    <span class="comment"># gitalk_css: https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css</span></span><br><span class="line">    <span class="comment"># blueimp_md5:</span></span><br><span class="line">    <span class="comment"># valine: https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/valine/1.4.16/Valine.min.js</span></span><br><span class="line">    <span class="comment"># disqusjs: https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/disqusjs/1.3.0/disqus.js</span></span><br><span class="line">    <span class="comment"># disqusjs_css: https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/disqusjs/1.3.0/disqusjs.css</span></span><br><span class="line">    <span class="attr">twikoo:</span> <span class="string">https://cdn.staticfile.org/twikoo/1.6.8/twikoo.all.min.js</span></span><br><span class="line">    <span class="comment"># waline_js: https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/waline/1.5.4/Waline.min.js</span></span><br><span class="line">    <span class="comment"># waline_css:</span></span><br><span class="line">    <span class="attr">sharejs:</span> <span class="string">https://lib.baomitu.com/social-share.js/1.0.16/js/social-share.min.js</span></span><br><span class="line">    <span class="attr">sharejs_css:</span> <span class="string">https://lib.baomitu.com/social-share.js/1.0.16/css/share.min.css</span></span><br><span class="line">    <span class="comment"># mathjax: https://cdn.staticfile.org/mathjax/3.2.2/es5/mml-chtml.min.js</span></span><br><span class="line">    <span class="comment"># katex: https://lib.baomitu.com/KaTeX/latest/katex.min.css</span></span><br><span class="line">    <span class="comment"># katex_copytex:</span></span><br><span class="line">    <span class="comment"># mermaid:</span></span><br><span class="line">    <span class="comment"># canvas_ribbon:</span></span><br><span class="line">    <span class="comment"># canvas_fluttering_ribbon:</span></span><br><span class="line">    <span class="comment"># canvas_nest:</span></span><br><span class="line">    <span class="attr">lazyload:</span> <span class="string">https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js</span></span><br><span class="line">    <span class="attr">instantpage:</span> <span class="string">https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js</span></span><br><span class="line">    <span class="attr">typed:</span> <span class="string">https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/typed.js/2.0.12/typed.min.js</span></span><br><span class="line">    <span class="comment"># pangu:</span></span><br><span class="line">    <span class="attr">fancybox_css_v4:</span> <span class="string">https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.min.css</span></span><br><span class="line">    <span class="attr">fancybox_v4:</span> <span class="string">https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.umd.min.js</span></span><br><span class="line">    <span class="comment"># medium_zoom: https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/medium-zoom/1.0.6/medium-zoom.min.js</span></span><br><span class="line">    <span class="comment"># snackbar_css: https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.css</span></span><br><span class="line">    <span class="comment"># snackbar: https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.js</span></span><br><span class="line">    <span class="comment"># activate_power_mode:</span></span><br><span class="line">    <span class="comment"># fireworks:</span></span><br><span class="line">    <span class="comment"># click_heart:</span></span><br><span class="line">    <span class="comment"># ClickShowText:</span></span><br><span class="line">    <span class="attr">fontawesomeV6:</span> <span class="string">https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css</span></span><br><span class="line">    <span class="comment"># flickr_justified_gallery_js: https://cdn.staticfile.org/flickr-justified-gallery/2.1.2/fjGallery.min.js</span></span><br><span class="line">    <span class="comment"># flickr_justified_gallery_css: https://cdn.staticfile.org/flickr-justified-gallery/2.1.2/fjGallery.min.css</span></span><br><span class="line">    <span class="attr">aplayer_css:</span> <span class="string">https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css</span></span><br><span class="line">    <span class="attr">aplayer_js:</span> <span class="string">https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js</span></span><br><span class="line">    <span class="attr">meting_js:</span> <span class="string">https://cdn1.tianli0.top/npm/js-heo@1.0.12/metingjs/Meting.min.js</span></span><br><span class="line">    <span class="comment"># prismjs_js: https://cdn1.tianli0.top/npm/prismjs@1.1.0/prism.js</span></span><br><span class="line">    <span class="comment"># prismjs_lineNumber_js: https://cdn1.tianli0.top/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js</span></span><br><span class="line">    <span class="comment"># prismjs_autoloader: https://cdn1.tianli0.top/npm/prismjs/plugins/autoloader/prism-autoloader.min.js</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å®Œæˆåå¯ä»¥ <code>f12</code>-&gt;<code>æºä»£ç </code>-&gt;<code>ç½‘é¡µ</code> çœ‹çœ‹æ˜¯å¦å·²ç»åŠ è½½åˆ°å¯¹åº”çš„èµ„æº</p><hr><p><a id="hanging-cat"></a></p><h2 id="ğŸ˜º-åäº”ã€æŒ‚ç»³å°çŒ«å’ªç‰¹æ•ˆ">ğŸ˜º åäº”ã€æŒ‚ç»³å°çŒ«å’ªç‰¹æ•ˆ</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-15">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>æ·»åŠ å¯çˆ±çš„å°çŒ«å’ªæŒ‚ç»³ç‰¹æ•ˆï¼Œéšé¡µé¢æ»šåŠ¨è€ŒåŠ¨ï¼Œå¢åŠ ç½‘ç«™è¶£å‘³æ€§ã€‚</p><h3 id="ğŸ”§-å®ç°æ­¥éª¤-5">ğŸ”§ å®ç°æ­¥éª¤</h3><h4 id="1-â•-æ·»åŠ HTMLç»“æ„">1. â• æ·»åŠ HTMLç»“æ„</h4><ul><li>åˆ¶ä½œä¸€ä¸ªç››æ”¾å†…å®¹çš„ç›’å­ï¼Œåœ¨<code>[BlogRoot]/node_modules/hexo-theme-butterfly/layout/includes/head.pug</code>(å¦‚æœæ˜¯<code>git clone</code> å®‰è£…åœ¨<code>[BlogRoot]/themes/butterfly/layout/includes/head.pug</code>)æœ€åä¸€è¡ŒåŠ å…¥å¦‚ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//- æŒ‚ç»³å°çŒ«å’ª</span><br><span class="line">#myscoll</span><br></pre></td></tr></table></figure><h4 id="2-â•-åˆ›å»ºJavaScripté€»è¾‘">2. â• åˆ›å»ºJavaScripté€»è¾‘</h4><ol start="5"><li>å…¶å®éšä¾¿æ”¾åœ¨å“ªé‡Œéƒ½è¡Œï¼Œåªè¦èƒ½åŠ è½½å‡ºæ¥å°±è¡Œ</li><li>åœ¨<code>[BlogRoot]/node_modules/hexo-theme-butterfly/source/js</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª<code>cat.js</code>ï¼Œå°†ä»¥ä¸‹ä»£ç å¤åˆ¶åˆ°æ–‡ä»¶ä¸­ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientWidth</span> &gt; <span class="number">992</span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">getBasicInfo</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">/* çª—å£é«˜åº¦ */</span></span><br><span class="line">        <span class="keyword">var</span> <span class="title class_">ViewH</span> = $(<span class="variable language_">window</span>).<span class="title function_">height</span>();</span><br><span class="line">        <span class="comment">/* documenté«˜åº¦ */</span></span><br><span class="line">        <span class="keyword">var</span> <span class="title class_">DocH</span> = $(<span class="string">&quot;body&quot;</span>)[<span class="number">0</span>].<span class="property">scrollHeight</span>;</span><br><span class="line">        <span class="comment">/* æ»šåŠ¨çš„é«˜åº¦ */</span></span><br><span class="line">        <span class="keyword">var</span> <span class="title class_">ScrollTop</span> = $(<span class="variable language_">window</span>).<span class="title function_">scrollTop</span>();</span><br><span class="line">        <span class="comment">/* å¯æ»šåŠ¨çš„é«˜åº¦ */</span></span><br><span class="line">        <span class="keyword">var</span> <span class="variable constant_">S_V</span> = <span class="title class_">DocH</span> - <span class="title class_">ViewH</span>;</span><br><span class="line">        <span class="keyword">var</span> <span class="title class_">Band</span>_H = <span class="title class_">ScrollTop</span> / (<span class="title class_">DocH</span> - <span class="title class_">ViewH</span>) * <span class="number">100</span>;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="title class_">ViewH</span>: <span class="title class_">ViewH</span>,</span><br><span class="line">            <span class="title class_">DocH</span>: <span class="title class_">DocH</span>,</span><br><span class="line">            <span class="title class_">ScrollTop</span>: <span class="title class_">ScrollTop</span>,</span><br><span class="line">            <span class="title class_">Band</span><span class="attr">_H</span>: <span class="title class_">Band</span>_H,</span><br><span class="line">            <span class="attr">S_V</span>: <span class="variable constant_">S_V</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">show</span>(<span class="params">basicInfo</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (basicInfo.<span class="property">ScrollTop</span> &gt; <span class="number">0.001</span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;.neko&quot;</span>).<span class="title function_">css</span>(<span class="string">&#x27;display&#x27;</span>, <span class="string">&#x27;block&#x27;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $(<span class="string">&quot;.neko&quot;</span>).<span class="title function_">css</span>(<span class="string">&#x27;display&#x27;</span>, <span class="string">&#x27;none&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    (<span class="keyword">function</span> (<span class="params">$</span>) &#123;</span><br><span class="line">        $.fn.<span class="property">nekoScroll</span> = <span class="keyword">function</span> (<span class="params">option</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> defaultSetting = &#123;</span><br><span class="line">                <span class="attr">top</span>: <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">                <span class="attr">scroWidth</span>: <span class="number">6</span> + <span class="string">&#x27;px&#x27;</span>,</span><br><span class="line">                <span class="attr">z_index</span>: <span class="number">9999</span>,</span><br><span class="line">                <span class="attr">zoom</span>: <span class="number">0.9</span>,</span><br><span class="line">                <span class="attr">borderRadius</span>: <span class="number">5</span> + <span class="string">&#x27;px&#x27;</span>,</span><br><span class="line">                <span class="attr">right</span>: <span class="number">60</span> + <span class="string">&#x27;px&#x27;</span>,</span><br><span class="line">                <span class="comment">// è¿™é‡Œå¯ä»¥æ¢ä¸ºä½ å–œæ¬¢çš„å›¾ç‰‡ï¼Œä¾‹å¦‚æˆ‘å°±æ¢ä¸ºäº†é›ªäººï¼Œä½†æ˜¯è¦æŠ å›¾</span></span><br><span class="line">                <span class="attr">nekoImg</span>: <span class="string">&quot;https://bu.dusays.com/2022/07/20/62d812db74be9.png&quot;</span>,</span><br><span class="line">                <span class="attr">hoverMsg</span>: <span class="string">&quot;å–µå–µå–µ~&quot;</span>,</span><br><span class="line">                <span class="attr">color</span>: <span class="string">&quot;#6f42c1&quot;</span>,</span><br><span class="line">                <span class="attr">during</span>: <span class="number">500</span>,</span><br><span class="line">                <span class="attr">blog_body</span>: <span class="string">&quot;body&quot;</span>,</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="keyword">var</span> setting = $.<span class="title function_">extend</span>(defaultSetting, option);</span><br><span class="line">            <span class="keyword">var</span> getThis = <span class="variable language_">this</span>.<span class="title function_">prop</span>(<span class="string">&quot;className&quot;</span>) !== <span class="string">&quot;&quot;</span> ? <span class="string">&quot;.&quot;</span> + <span class="variable language_">this</span>.<span class="title function_">prop</span>(<span class="string">&quot;className&quot;</span>) : <span class="variable language_">this</span>.<span class="title function_">prop</span>(<span class="string">&quot;id&quot;</span>) !== <span class="string">&quot;&quot;</span> ? <span class="string">&quot;#&quot;</span> +</span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">prop</span>(<span class="string">&quot;id&quot;</span>) : <span class="variable language_">this</span>.<span class="title function_">prop</span>(<span class="string">&quot;nodeName&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> ($(<span class="string">&quot;.neko&quot;</span>).<span class="property">length</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">after</span>(<span class="string">&quot;&lt;div class=\&quot;neko\&quot; id=&quot;</span> + setting.<span class="property">nekoname</span> + <span class="string">&quot; data-msg=\&quot;&quot;</span> + setting.<span class="property">hoverMsg</span> + <span class="string">&quot;\&quot;&gt;&lt;/div&gt;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">let</span> basicInfo = <span class="title function_">getBasicInfo</span>();</span><br><span class="line">            $(getThis)</span><br><span class="line">                .<span class="title function_">css</span>(&#123;</span><br><span class="line">                    <span class="string">&#x27;position&#x27;</span>: <span class="string">&#x27;fixed&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;width&#x27;</span>: setting.<span class="property">scroWidth</span>,</span><br><span class="line">                    <span class="string">&#x27;top&#x27;</span>: setting.<span class="property">top</span>,</span><br><span class="line">                    <span class="string">&#x27;height&#x27;</span>: basicInfo.<span class="property">Band_H</span> * setting.<span class="property">zoom</span> * basicInfo.<span class="property">ViewH</span> * <span class="number">0.01</span> + <span class="string">&#x27;px&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;z-index&#x27;</span>: setting.<span class="property">z_index</span>,</span><br><span class="line">                    <span class="string">&#x27;background-color&#x27;</span>: setting.<span class="property">bgcolor</span>,</span><br><span class="line">                    <span class="string">&quot;border-radius&quot;</span>: setting.<span class="property">borderRadius</span>,</span><br><span class="line">                    <span class="string">&#x27;right&#x27;</span>: setting.<span class="property">right</span>,</span><br><span class="line">                    <span class="string">&#x27;background-image&#x27;</span>: <span class="string">&#x27;url(&#x27;</span> + setting.<span class="property">scImg</span> + <span class="string">&#x27;)&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;background-image&#x27;</span>: <span class="string">&#x27;-webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.1) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.1) 75%, transparent 75%, transparent)&#x27;</span>, <span class="string">&#x27;border-radius&#x27;</span>: <span class="string">&#x27;2em&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;background-size&#x27;</span>: <span class="string">&#x27;contain&#x27;</span></span><br><span class="line">                &#125;);</span><br><span class="line">            $(<span class="string">&quot;#&quot;</span> + setting.<span class="property">nekoname</span>)</span><br><span class="line">                .<span class="title function_">css</span>(&#123;</span><br><span class="line">                    <span class="string">&#x27;position&#x27;</span>: <span class="string">&#x27;fixed&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;top&#x27;</span>: basicInfo.<span class="property">Band_H</span> * setting.<span class="property">zoom</span> * basicInfo.<span class="property">ViewH</span> * <span class="number">0.01</span> - <span class="number">50</span> + <span class="string">&#x27;px&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;z-index&#x27;</span>: setting.<span class="property">z_index</span> * <span class="number">10</span>,</span><br><span class="line">                    <span class="string">&#x27;right&#x27;</span>: setting.<span class="property">right</span>,</span><br><span class="line">                    <span class="string">&#x27;background-image&#x27;</span>: <span class="string">&#x27;url(&#x27;</span> + setting.<span class="property">nekoImg</span> + <span class="string">&#x27;)&#x27;</span>,</span><br><span class="line">                &#125;);</span><br><span class="line">            <span class="title function_">show</span>(<span class="title function_">getBasicInfo</span>());</span><br><span class="line">            $(<span class="variable language_">window</span>)</span><br><span class="line">                .<span class="title function_">scroll</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="keyword">let</span> basicInfo = <span class="title function_">getBasicInfo</span>();</span><br><span class="line">                    <span class="title function_">show</span>(basicInfo);</span><br><span class="line">                    $(getThis)</span><br><span class="line">                        .<span class="title function_">css</span>(&#123;</span><br><span class="line">                            <span class="string">&#x27;position&#x27;</span>: <span class="string">&#x27;fixed&#x27;</span>,</span><br><span class="line">                            <span class="string">&#x27;width&#x27;</span>: setting.<span class="property">scroWidth</span>,</span><br><span class="line">                            <span class="string">&#x27;top&#x27;</span>: setting.<span class="property">top</span>,</span><br><span class="line">                            <span class="string">&#x27;height&#x27;</span>: basicInfo.<span class="property">Band_H</span> * setting.<span class="property">zoom</span> * basicInfo.<span class="property">ViewH</span> * <span class="number">0.01</span> + <span class="string">&#x27;px&#x27;</span>,</span><br><span class="line">                            <span class="string">&#x27;z-index&#x27;</span>: setting.<span class="property">z_index</span>,</span><br><span class="line">                            <span class="string">&#x27;background-color&#x27;</span>: setting.<span class="property">bgcolor</span>,</span><br><span class="line">                            <span class="string">&quot;border-radius&quot;</span>: setting.<span class="property">borderRadius</span>,</span><br><span class="line">                            <span class="string">&#x27;right&#x27;</span>: setting.<span class="property">right</span>,</span><br><span class="line">                            <span class="string">&#x27;background-image&#x27;</span>: <span class="string">&#x27;url(&#x27;</span> + setting.<span class="property">scImg</span> + <span class="string">&#x27;)&#x27;</span>,</span><br><span class="line">                            <span class="string">&#x27;background-image&#x27;</span>: <span class="string">&#x27;-webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.1) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.1) 75%, transparent 75%, transparent)&#x27;</span>, <span class="string">&#x27;border-radius&#x27;</span>: <span class="string">&#x27;2em&#x27;</span>,</span><br><span class="line">                            <span class="string">&#x27;background-size&#x27;</span>: <span class="string">&#x27;contain&#x27;</span></span><br><span class="line">                        &#125;);</span><br><span class="line">                    $(<span class="string">&quot;#&quot;</span> + setting.<span class="property">nekoname</span>)</span><br><span class="line">                        .<span class="title function_">css</span>(&#123;</span><br><span class="line">                            <span class="string">&#x27;position&#x27;</span>: <span class="string">&#x27;fixed&#x27;</span>,</span><br><span class="line">                            <span class="string">&#x27;top&#x27;</span>: basicInfo.<span class="property">Band_H</span> * setting.<span class="property">zoom</span> * basicInfo.<span class="property">ViewH</span> * <span class="number">0.01</span> - <span class="number">50</span> + <span class="string">&#x27;px&#x27;</span>,</span><br><span class="line">                            <span class="string">&#x27;z-index&#x27;</span>: setting.<span class="property">z_index</span> * <span class="number">10</span>,</span><br><span class="line">                            <span class="string">&#x27;right&#x27;</span>: setting.<span class="property">right</span>,</span><br><span class="line">                            <span class="string">&#x27;background-image&#x27;</span>: <span class="string">&#x27;url(&#x27;</span> + setting.<span class="property">nekoImg</span> + <span class="string">&#x27;)&#x27;</span>,</span><br><span class="line">                        &#125;);</span><br><span class="line">                    <span class="keyword">if</span> (basicInfo.<span class="property">ScrollTop</span> == basicInfo.<span class="property">S_V</span>) &#123;</span><br><span class="line">                        $(<span class="string">&quot;#&quot;</span> + setting.<span class="property">nekoname</span>)</span><br><span class="line">                            .<span class="title function_">addClass</span>(<span class="string">&quot;showMsg&quot;</span>)</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        $(<span class="string">&quot;#&quot;</span> + setting.<span class="property">nekoname</span>)</span><br><span class="line">                            .<span class="title function_">removeClass</span>(<span class="string">&quot;showMsg&quot;</span>);</span><br><span class="line">                        $(<span class="string">&quot;#&quot;</span> + setting.<span class="property">nekoname</span>)</span><br><span class="line">                            .<span class="title function_">attr</span>(<span class="string">&quot;data-msg&quot;</span>, setting.<span class="property">hoverMsg</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">                btf.<span class="title function_">scrollToDest</span>(<span class="number">0</span>, <span class="number">500</span>)</span><br><span class="line">            &#125;);</span><br><span class="line">            $(<span class="string">&quot;#&quot;</span> + setting.<span class="property">nekoname</span>)</span><br><span class="line">                .<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                    btf.<span class="title function_">scrollToDest</span>(<span class="number">0</span>, <span class="number">500</span>)</span><br><span class="line">                &#125;);</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)(jQuery);</span><br><span class="line"></span><br><span class="line">    $(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">//éƒ¨åˆ†è‡ªå®šä¹‰</span></span><br><span class="line">        $(<span class="string">&quot;#myscoll&quot;</span>).<span class="title function_">nekoScroll</span>(&#123;</span><br><span class="line">            <span class="attr">bgcolor</span>: <span class="string">&#x27;rgb(0 0 0 / .5)&#x27;</span>, <span class="comment">//èƒŒæ™¯é¢œè‰²ï¼Œæ²¡æœ‰ç»³å­èƒŒæ™¯å›¾ç‰‡æ—¶æœ‰æ•ˆ</span></span><br><span class="line">            <span class="attr">borderRadius</span>: <span class="string">&#x27;2em&#x27;</span>,</span><br><span class="line">            <span class="attr">zoom</span>: <span class="number">0.9</span></span><br><span class="line">        &#125;</span><br><span class="line">        );</span><br><span class="line">        <span class="comment">//è‡ªå®šä¹‰ï¼ˆå»æ‰ä»¥ä¸‹æ³¨é‡Šï¼Œå¹¶æ³¨é‡Šæ‰å…¶ä»–çš„æŸ¥çœ‹æ•ˆæœï¼‰</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        $(&quot;#myscoll&quot;).nekoScroll(&#123;</span></span><br><span class="line"><span class="comment">            nekoname:&#x27;neko1&#x27;, //nekonameï¼Œç›¸å½“äºid</span></span><br><span class="line"><span class="comment">            nekoImg:&#x27;img/çŒ«å’ª.png&#x27;, //nekoçš„èƒŒæ™¯å›¾ç‰‡</span></span><br><span class="line"><span class="comment">            scImg:&quot;img/ç»³1.png&quot;, //ç»³å­çš„èƒŒæ™¯å›¾ç‰‡</span></span><br><span class="line"><span class="comment">            bgcolor:&#x27;#1e90ff&#x27;, //èƒŒæ™¯é¢œè‰²ï¼Œæ²¡æœ‰ç»³å­èƒŒæ™¯å›¾ç‰‡æ—¶æœ‰æ•ˆ</span></span><br><span class="line"><span class="comment">            zoom:0.9, //ç»³å­é•¿åº¦çš„ç¼©æ”¾å€¼</span></span><br><span class="line"><span class="comment">            hoverMsg:&#x27;ä½ å¥½~å–µ&#x27;, //é¼ æ ‡æµ®åŠ¨åˆ°nekoä¸Šæ–¹çš„å¯¹è¯æ¡†ä¿¡æ¯</span></span><br><span class="line"><span class="comment">            right:&#x27;100px&#x27;, //è·ç¦»é¡µé¢å³è¾¹çš„è·ç¦»</span></span><br><span class="line"><span class="comment">            fontFamily:&#x27;æ¥·ä½“&#x27;, //å¯¹è¯æ¡†å­—ä½“</span></span><br><span class="line"><span class="comment">            fontSize:&#x27;14px&#x27;, //å¯¹è¯æ¡†å­—ä½“çš„å¤§å°</span></span><br><span class="line"><span class="comment">            color:&#x27;#1e90ff&#x27;, //å¯¹è¯æ¡†å­—ä½“é¢œè‰²</span></span><br><span class="line"><span class="comment">            scroWidth:&#x27;8px&#x27;, //ç»³å­çš„å®½åº¦</span></span><br><span class="line"><span class="comment">            z_index:100, //ä¸ç”¨è§£é‡Šäº†å§</span></span><br><span class="line"><span class="comment">            during:1200, //ä»é¡¶éƒ¨åˆ°åº•éƒ¨æ»‘åŠ¨çš„æ—¶é•¿</span></span><br><span class="line"><span class="comment">        &#125;);</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-â•-æ·»åŠ æ ·å¼è®¾è®¡">3. â• æ·»åŠ æ ·å¼è®¾è®¡</h4><ul><li>åœ¨<code>[BlogRoot]/node_modules/hexo-theme-butterfly/source/css</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª<code>cat.css</code>ï¼Œå°†ä»¥ä¸‹ä»£ç å¤åˆ¶åˆ°æ–‡ä»¶ä¸­ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©ä¸æ–°å»º css æ–‡ä»¶ï¼Œå¤åˆ¶ä»£ç åˆ°<code>custom.css</code>ä¹Ÿè¡Œï¼Œæ€»ä¹‹æœ‰åœ°æ–¹å¼•å…¥å°±è¡Œã€‚</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>::-webkit-scrollbar &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.neko</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">64px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">64px</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;https://bu.dusays.com/2022/07/20/62d812db74be9.png&quot;</span>);</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">32px</span>;</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-size</span>: contain;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">50%</span>);</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">font-family</span>: tzy;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#6f42c1</span>;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.neko</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;https://bu.dusays.com/2022/07/20/62d812d95e6f5.png&quot;</span>);</span><br><span class="line">    <span class="attribute">background-size</span>: contain;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">9999</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">115%</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.neko</span><span class="selector-class">.showMsg</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="built_in">attr</span>(data-msg);</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.neko</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="built_in">attr</span>(data-msg);</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.neko</span><span class="selector-class">.fontColor</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @description: æ»šåŠ¨æ¡æ ·å¼  è·ŸçŒ«äºŒé€‰ä¸€</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">992px</span>) &#123;</span><br><span class="line">    ::-webkit-scrollbar &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">8px</span> <span class="meta">!important</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">8px</span> <span class="meta">!important</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ::-webkit-scrollbar-track &#123;</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">2em</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ::-webkit-scrollbar-thumb &#123;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">255</span> <span class="number">255</span> <span class="number">255</span> / .<span class="number">3</span>);</span><br><span class="line">        <span class="attribute">background-image</span>: <span class="built_in">-webkit-linear-gradient</span>(<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.1</span>) <span class="number">25%</span>, transparent <span class="number">25%</span>, transparent <span class="number">50%</span>, <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.1</span>) <span class="number">50%</span>, <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.1</span>) <span class="number">75%</span>, transparent <span class="number">75%</span>, transparent);</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">2em</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ::-webkit-scrollbar-corner &#123;</span><br><span class="line">        <span class="attribute">background-color</span>: transparent</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ä¸­å¼•å…¥<code>cat.js</code>å’Œ<code>cat.css</code>ï¼Œå½“ç„¶è¿˜æœ‰åœ¨bottomçš„æœ€å‰é¢å¼•å…¥<code>jQuery</code>ï¼Œå› ä¸º<code>cat.js</code>çš„è¯­æ³•ä¾èµ–<code>jQuery</code>ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/cat.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">defer</span> <span class="string">src=&quot;https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">defer</span> <span class="string">data-pjax</span> <span class="string">src=&quot;/js/cat.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><h4 id="4-ğŸš€-æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š-2">4. ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="disable-f12"></a></p><h2 id="ğŸ›¡ï¸-åå…­ã€ç¦ç”¨F12ä¿æŠ¤">ğŸ›¡ï¸ åå…­ã€ç¦ç”¨F12ä¿æŠ¤</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-16">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>æ·»åŠ ç®€å•çš„ä¿æŠ¤æªæ–½ï¼Œé˜²æ­¢ç”¨æˆ·é€šè¿‡F12æŸ¥çœ‹æºç ï¼Œå¢å¼ºå†…å®¹å®‰å…¨æ€§ã€‚</p><h3 id="ğŸ”§-å®ç°æ–¹æ³•-6">ğŸ”§ å®ç°æ–¹æ³•</h3><p><strong>æ·»åŠ ä¿æŠ¤ä»£ç åˆ°æ¨¡æ¿æ–‡ä»¶ï¼š</strong></p><ul><li>ä¿®æ”¹<code>[BlogRoot]/node_modules/hexo-theme-butterfly/layout/includes/layout.pug</code>ï¼Œæ ¹æ®å›¾ä¸­ä½ç½®æ·»åŠ ä»¥ä¸‹ pug ä»£ç ï¼ˆè·Ÿ <code>head</code>ã€<code>body</code>åŒçº§ï¼‰</li></ul><p><img src="https://file.meimolihan.eu.org/screenshot/f12.jpg" alt=""></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">script.</span><br><span class="line">  ((<span class="keyword">function</span>(<span class="params"></span>) &#123;<span class="keyword">var</span> callbacks = [],timeLimit = <span class="number">50</span>,open = <span class="literal">false</span>;<span class="built_in">setInterval</span>(loop, <span class="number">1</span>);<span class="keyword">return</span> &#123;<span class="attr">addListener</span>: <span class="keyword">function</span>(<span class="params">fn</span>) &#123;callbacks.<span class="title function_">push</span>(fn);&#125;,<span class="attr">cancleListenr</span>: <span class="keyword">function</span>(<span class="params">fn</span>) &#123;callbacks = callbacks.<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">v</span>) &#123;<span class="keyword">return</span> v !== fn;&#125;);&#125;&#125;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">loop</span>(<span class="params"></span>) &#123;<span class="keyword">var</span> startTime = <span class="keyword">new</span> <span class="title class_">Date</span>();<span class="keyword">debugger</span>;<span class="keyword">if</span> (<span class="keyword">new</span> <span class="title class_">Date</span>() - startTime &gt; timeLimit) &#123;<span class="keyword">if</span> (!open) &#123;callbacks.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">fn</span>) &#123;fn.<span class="title function_">call</span>(<span class="literal">null</span>);&#125;);&#125;open = <span class="literal">true</span>;<span class="variable language_">window</span>.<span class="title function_">stop</span>();<span class="title function_">alert</span>(<span class="string">&#x27;ä½ çœŸåï¼Œè¯·å…³é—­æ§åˆ¶å°ï¼&#x27;</span>);<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerHTML</span> = <span class="string">&quot;&quot;</span>;&#125; <span class="keyword">else</span> &#123;open = <span class="literal">false</span>;&#125;&#125;&#125;)()).<span class="title function_">addListener</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;<span class="variable language_">window</span>.<span class="property">location</span>.<span class="title function_">reload</span>();&#125;);</span><br><span class="line">script.</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">toDevtools</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> num = <span class="number">0</span>; </span><br><span class="line">    <span class="keyword">let</span> devtools = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    devtools.<span class="property">toString</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      num++;</span><br><span class="line">      <span class="keyword">if</span> (num &gt; <span class="number">1</span>) &#123;</span><br><span class="line">          <span class="title function_">alert</span>(<span class="string">&#x27;ä½ çœŸåï¼Œè¯·å…³é—­æ§åˆ¶å°ï¼&#x27;</span>)</span><br><span class="line">          <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> = <span class="string">&quot;about:blank&quot;</span></span><br><span class="line">          <span class="title function_">blast</span>();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;&#x27;</span>, devtools);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">toDevtools</span>();</span><br></pre></td></tr></table></figure><ul><li>å°†ä»¥ä¸‹ä»£ç å¤åˆ¶åˆ°è‡ªå®šä¹‰çš„<code>f12.js</code>ï¼Œéšååœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶çš„<code>inject</code>-&gt;<code>bottom</code>ä¸­å¼•å…¥è¯¥jsæ–‡ä»¶</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">onkeydown</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="number">123</span> == e.<span class="property">keyCode</span> || (e.<span class="property">ctrlKey</span> &amp;&amp; e.<span class="property">shiftKey</span> &amp;&amp; (<span class="number">74</span> === e.<span class="property">keyCode</span> || <span class="number">73</span> === e.<span class="property">keyCode</span> || <span class="number">67</span> === e.<span class="property">keyCode</span>)) || (e.<span class="property">ctrlKey</span> &amp;&amp; <span class="number">85</span> === e.<span class="property">keyCode</span>)) <span class="keyword">return</span> btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;ä½ çœŸåï¼Œä¸èƒ½æ‰“å¼€æ§åˆ¶å°å–”!&quot;</span>), event.<span class="property">keyCode</span> = <span class="number">0</span>, event.<span class="property">returnValue</span> = !<span class="number">1</span>, !<span class="number">1</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><p>**æ³¨æ„ï¼š**å¦‚æœè‡ªå·±è°ƒè¯•é˜¶æ®µï¼Œå¯æ³¨é‡Šç¬¬ä¸€æ­¥å’Œç¬¬äºŒæ­¥ä¸­çš„ä»£ç ï¼Œå†è¿›è¡Œç¼–è¯‘ï¼Œå°±å¯ä»¥æ‰“å¼€æ§åˆ¶å°äº†ã€‚éƒ¨ç½²æ—¶æ”¾å¼€æ³¨é‡Šï¼Œç¼–è¯‘å¥½å†ä¸¢ä¸Šå»å°±OKäº†</p><hr><p><a id="sharingan-loader"></a></p><h2 id="ğŸ‘ï¸-åä¸ƒã€å†™è½®çœ¼åŠ è½½åŠ¨ç”»">ğŸ‘ï¸ åä¸ƒã€å†™è½®çœ¼åŠ è½½åŠ¨ç”»</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-17">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>ä½¿ç”¨å†™è½®çœ¼åŠ¨ç”»ä½œä¸ºé¡µé¢åŠ è½½æŒ‡ç¤ºå™¨ï¼Œæ›¿ä»£é»˜è®¤åŠ è½½åŠ¨ç”»ï¼Œå¢åŠ ä¸ªæ€§åŒ–å…ƒç´ ã€‚</p><h3 id="ğŸ”§-å®ç°æ­¥éª¤-6">ğŸ”§ å®ç°æ­¥éª¤</h3><h4 id="1-â•-åˆ›å»ºåŠ è½½åŠ¨ç”»ç»„ä»¶">1. â• åˆ›å»ºåŠ è½½åŠ¨ç”»ç»„ä»¶</h4><ul><li>åˆ›å»º<code>åšå®¢æ ¹ç›®å½•\themes\butterfly\layout\includes\custom\sharingan.pug</code></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br></pre></td><td class="code"><pre><span class="line">div.loading</span><br><span class="line">  div.bg</span><br><span class="line">  div.scale</span><br><span class="line">    div.sharingon</span><br><span class="line">      div.ring</span><br><span class="line">        div.to</span><br><span class="line">        div.to</span><br><span class="line">        div.to</span><br><span class="line">        div.circle</span><br><span class="line"></span><br><span class="line">style.</span><br><span class="line">  [data-scheme=&quot;light&quot;] &#123;</span><br><span class="line">    .loading &#123;</span><br><span class="line">      background-color: rgba(245, 245, 250, 0.8);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  [data-scheme=&quot;dark&quot;] &#123;</span><br><span class="line">    .loading &#123;</span><br><span class="line">      background-color: rgba(48, 48, 48, 0.8);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .loading &#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: center;  </span><br><span class="line">    align-items: center;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    z-index: 99;</span><br><span class="line">    zoom: 3.0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .sharingon &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    width: 6em;</span><br><span class="line">    height: 6em;</span><br><span class="line">    background-color: red;</span><br><span class="line">    border: 6px solid black;</span><br><span class="line">    animation: rot 1s ease-in-out infinite;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .animated-stop &#123;</span><br><span class="line">    animation-play-state: paused;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .fadeout &#123;</span><br><span class="line">    animation: fadeOut 1.5s forwards;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .scaleAndFadeout &#123;</span><br><span class="line">    animation: scaleAndFadeOut 1.5s forwards</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .ring &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    content: &quot;&quot;;</span><br><span class="line">    left: 50%;</span><br><span class="line">    top: 50%;</span><br><span class="line">    width: 3.5em;</span><br><span class="line">    height: 3.5em;</span><br><span class="line">    border: 4px solid rgb(110, 13 ,13 ,0.5);</span><br><span class="line">    transform: translate(-50%,-50%);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .sharingon, .ring, .to,.circle &#123;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .to,.circle &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    content: &quot;&quot;;</span><br><span class="line">    width: 0.9em;</span><br><span class="line">    height: 0.9em;</span><br><span class="line">    background-color: black;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .to:nth-child(1) &#123;</span><br><span class="line">    top: -0.5em;</span><br><span class="line">    left: 50%;</span><br><span class="line">    transform: translate(-40%);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .to::before &#123;</span><br><span class="line">    content: &quot;&quot;;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: -0.5em;</span><br><span class="line">    right: -0.2em;</span><br><span class="line">    width: 1.1em;</span><br><span class="line">    height: 0.9em;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">    border-left: 16px solid black;</span><br><span class="line">    border-radius: 100% 0 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .to:nth-child(2) &#123;</span><br><span class="line">    bottom: 0.5em;</span><br><span class="line">    left: -0.35em;</span><br><span class="line">    transform: rotate(-120deg);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .to:nth-child(3) &#123;</span><br><span class="line">    bottom: 0.5em;</span><br><span class="line">    right: -0.35em;</span><br><span class="line">    transform: rotate(120deg);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .circle &#123;</span><br><span class="line">    top: 50%;</span><br><span class="line">    left: 50%;</span><br><span class="line">    transform: translate(-50%,-50%);</span><br><span class="line">    box-shadow: 0 0 20px 1px;</span><br><span class="line">    width: 1em;</span><br><span class="line">    height: 1em;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @keyframes rot &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">      transform: rotate(0deg);</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">      transform: rotate(360deg);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @keyframes scaleAndFadeOut &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">      transform: scale(1);</span><br><span class="line">      opacity: 1;</span><br><span class="line">    &#125;</span><br><span class="line">    50% &#123;</span><br><span class="line">      transform: scale(1.5);  </span><br><span class="line">      opacity: 1;</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">      transform: scale(1.5);  </span><br><span class="line">      opacity: 0;  </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @keyframes fadeOut &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">      opacity: 1;</span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line">      opacity: 0;  </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">script.</span><br><span class="line">  function initLoading() &#123;</span><br><span class="line">    const startTime = Date.now();</span><br><span class="line">    let loading = document.querySelector(&quot;.loading&quot;);</span><br><span class="line">    document.addEventListener(&#x27;DOMContentLoaded&#x27;, function() &#123;</span><br><span class="line">      const timeDelay = Date.now() - startTime;</span><br><span class="line">      </span><br><span class="line">      setTimeout(() =&gt; &#123;</span><br><span class="line">        fadeOut();</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">          loading.style.display = &quot;none&quot;;</span><br><span class="line">        &#125;, 1500)</span><br><span class="line">      &#125;, timeDelay &gt; 1050 ? 0 : 1050 - timeDelay)</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function fadeOut() &#123;</span><br><span class="line">    let sharingon = document.querySelector(&quot;.sharingon&quot;);</span><br><span class="line">    sharingon.classList.add(&quot;animated-stop&quot;);</span><br><span class="line">    </span><br><span class="line">    let scale = document.querySelector(&quot;.scale&quot;);</span><br><span class="line">    scale.classList.add(&quot;scaleAndFadeout&quot;);</span><br><span class="line">    </span><br><span class="line">    let loading = document.querySelector(&quot;.loading&quot;);</span><br><span class="line">    loading.classList.add(&quot;fadeout&quot;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  initLoading();</span><br></pre></td></tr></table></figure><h4 id="2-â•-å¼•ç”¨-sharingan-pug">2. â• å¼•ç”¨ <code>sharingan.pug</code></h4><ul><li>ä¿®æ”¹<code>åšå®¢æ ¹ç›®å½•\themes\butterfly\layout\includes\head.pug</code></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">include ./custom/sharingan.pug</span><br></pre></td></tr></table></figure><h4 id="3-ğŸ’«-é…ç½®åŠ è½½åŠ¨ç”»æ›¿æ¢">3. ğŸ’« é…ç½®åŠ è½½åŠ¨ç”»æ›¿æ¢</h4><ul><li>ä¿®æ”¹<code>_config.butterfly.yml</code></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŠ è½½åŠ¨ç”»</span></span><br><span class="line"><span class="attr">preloader:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span>  <span class="comment"># å…³é—­åŠ è½½åŠ¨ç”»</span></span><br><span class="line">  <span class="attr">source:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><h4 id="4-ğŸš€-æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š-3">4. ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="footer-badge-timer"></a></p><h2 id="â°-åå…«ã€é¡µè„šå¾½æ ‡å’Œè®¡æ—¶å™¨">â° åå…«ã€é¡µè„šå¾½æ ‡å’Œè®¡æ—¶å™¨</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-18">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>åœ¨é¡µè„šæ·»åŠ ç½‘ç«™ä¿¡æ¯å¾½æ ‡å’Œè¿è¡Œæ—¶é—´è®¡æ—¶å™¨ï¼Œå±•ç¤ºæŠ€æœ¯æ ˆå’Œç½‘ç«™è¿è¡ŒçŠ¶æ€ã€‚</p><h3 id="ğŸ”§-å®‰è£…æ’ä»¶-3">ğŸ”§ å®‰è£…æ’ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-footer-beautify --save</span><br></pre></td></tr></table></figure><h3 id="âš™ï¸-é…ç½®ç¤ºä¾‹-3">âš™ï¸ é…ç½®ç¤ºä¾‹</h3><ul><li>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ä¸­æ·»åŠ é…ç½®é¡¹</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment"># footer_beautify</span></span><br><span class="line"><span class="comment"># é¡µè„šè®¡æ—¶å™¨ï¼š[Native JS Timer](https://akilar.top/posts/b941af/)</span></span><br><span class="line"><span class="comment"># é¡µè„šå¾½æ ‡ï¼š[Add Github Badge](https://akilar.top/posts/e87ad7f8/)</span></span><br><span class="line"><span class="attr">footer_beautify:</span></span><br><span class="line">  <span class="attr">enable:</span></span><br><span class="line">    <span class="attr">timer:</span> <span class="literal">true</span> <span class="comment"># è®¡æ—¶å™¨å¼€å…³</span></span><br><span class="line">    <span class="attr">bdage:</span> <span class="literal">true</span> <span class="comment"># å¾½æ ‡å¼€å…³</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#è¿‡æ»¤å™¨ä¼˜å…ˆæƒ</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">all</span> <span class="comment"># åº”ç”¨é¡µé¢</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="comment"># - /posts/</span></span><br><span class="line">    <span class="comment"># - /about/</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># æŒ‚è½½å®¹å™¨ç±»å‹</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">footer-wrap</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># è®¡æ—¶å™¨éƒ¨åˆ†é…ç½®é¡¹</span></span><br><span class="line">  <span class="attr">runtime_js:</span> <span class="string">/js/runtime.js</span></span><br><span class="line">  <span class="attr">runtime_css:</span> <span class="string">/css/runtime.css</span></span><br><span class="line">  <span class="comment"># å¾½æ ‡éƒ¨åˆ†é…ç½®é¡¹</span></span><br><span class="line">  <span class="attr">swiperpara:</span> <span class="number">0</span> <span class="comment">#è‹¥é0ï¼Œåˆ™å¼€å¯è½®æ’­åŠŸèƒ½ï¼Œæ¯è¡Œå¾½æ ‡ä¸ªæ•°</span></span><br><span class="line">  <span class="attr">bdageitem:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://hexo.io/</span> <span class="comment">#å¾½æ ‡æŒ‡å‘ç½‘ç«™é“¾æ¥</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo</span> <span class="comment">#å¾½æ ‡API</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">åšå®¢æ¡†æ¶ä¸ºHexo_v7.1.0</span> <span class="comment">#å¾½æ ‡æç¤ºè¯­</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://butterfly.js.org/</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">ä¸»é¢˜ç‰ˆæœ¬Butterfly_v5.3.5</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://www.jsdelivr.com/</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">æœ¬ç«™ä½¿ç”¨JsDelivrä¸ºé™æ€èµ„æºæä¾›CDNåŠ é€Ÿ</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">link:</span> <span class="string">https://github.com/</span></span><br><span class="line">      <span class="attr">shields:</span> <span class="string">https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub</span></span><br><span class="line">      <span class="attr">message:</span> <span class="string">æœ¬ç«™é¡¹ç›®ç”±Githubæ‰˜ç®¡</span></span><br></pre></td></tr></table></figure><p>åˆ›å»º <code>åšå®¢æ ¹ç›®å½•/source/js/runtime.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* é¡µè„šè®¡æ—¶å™¨ start */</span></span><br><span class="line"><span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createtime</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// å½“å‰æ—¶é—´</span></span><br><span class="line">    now.<span class="title function_">setTime</span>(now.<span class="title function_">getTime</span>() + <span class="number">1000</span>);</span><br><span class="line">    <span class="keyword">var</span> start = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&quot;01/01/2025 00:00:00&quot;</span>); <span class="comment">// æ—…è¡Œè€…1å·å¼€å§‹è®¡ç®—çš„æ—¶é—´</span></span><br><span class="line">    <span class="keyword">var</span> dis = <span class="title class_">Math</span>.<span class="title function_">trunc</span>(<span class="number">23400000000</span> + ((now - start) / <span class="number">1000</span>) * <span class="number">17</span>); <span class="comment">// è·ç¦»=ç§’æ•°*é€Ÿåº¦ è®°ä½è½¬æ¢æ¯«ç§’</span></span><br><span class="line">    <span class="keyword">var</span> unit = (dis / <span class="number">149600000</span>).<span class="title function_">toFixed</span>(<span class="number">6</span>);  <span class="comment">// å¤©æ–‡å•ä½</span></span><br><span class="line">    <span class="comment">// ç½‘ç«™è¯ç”Ÿæ—¶é—´</span></span><br><span class="line">    <span class="keyword">var</span> grt = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&quot;08/09/2022 00:00:00&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> days = (now - grt) / <span class="number">1e3</span> / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span>,</span><br><span class="line">        dnum = <span class="title class_">Math</span>.<span class="title function_">floor</span>(days),</span><br><span class="line">        hours = (now - grt) / <span class="number">1e3</span> / <span class="number">60</span> / <span class="number">60</span> - <span class="number">24</span> * dnum,</span><br><span class="line">        hnum = <span class="title class_">Math</span>.<span class="title function_">floor</span>(hours);</span><br><span class="line">    <span class="number">1</span> == <span class="title class_">String</span>(hnum).<span class="property">length</span> &amp;&amp; (hnum = <span class="string">&quot;0&quot;</span> + hnum);</span><br><span class="line">    <span class="keyword">var</span> minutes = (now - grt) / <span class="number">1e3</span> / <span class="number">60</span> - <span class="number">1440</span> * dnum - <span class="number">60</span> * hnum,</span><br><span class="line">        mnum = <span class="title class_">Math</span>.<span class="title function_">floor</span>(minutes);</span><br><span class="line">    <span class="number">1</span> == <span class="title class_">String</span>(mnum).<span class="property">length</span> &amp;&amp; (mnum = <span class="string">&quot;0&quot;</span> + mnum);</span><br><span class="line">    <span class="keyword">var</span> seconds = (now - grt) / <span class="number">1e3</span> - <span class="number">86400</span> * dnum - <span class="number">3600</span> * hnum - <span class="number">60</span> * mnum,</span><br><span class="line">        snum = <span class="title class_">Math</span>.<span class="title function_">round</span>(seconds);</span><br><span class="line">    <span class="number">1</span> == <span class="title class_">String</span>(snum).<span class="property">length</span> &amp;&amp; (snum = <span class="string">&quot;0&quot;</span> + snum);</span><br><span class="line">    <span class="keyword">let</span> currentTimeHtml = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    (currentTimeHtml =</span><br><span class="line">        hnum &lt; <span class="number">18</span> &amp;&amp; hnum &gt;= <span class="number">9</span></span><br><span class="line">            ? <span class="string">`&lt;img class=&#x27;boardsign&#x27; src=&#x27;https://cdn.meimolihan.eu.org/hexo/img/å¢¨ä¸å‡¡-æ¬ç –ä¸­.svg&#x27; title=&#x27;ä»€ä¹ˆæ—¶å€™èƒ½å¤Ÿå®ç°è´¢å¯Œè‡ªç”±å‘€~&#x27;&gt;&lt;br&gt; &lt;div style=&quot;font-size:13px;font-weight:bold&quot;&gt;æœ¬ç«™å±…ç„¶è¿è¡Œäº† <span class="subst">$&#123;dnum&#125;</span> å¤© <span class="subst">$&#123;hnum&#125;</span> å°æ—¶ <span class="subst">$&#123;mnum&#125;</span> åˆ† <span class="subst">$&#123;snum&#125;</span> ç§’ &lt;i id=&quot;heartbeat&quot; class=&#x27;fas fa-heartbeat&#x27;&gt;&lt;/i&gt; &lt;br&gt; æ—…è¡Œè€… 1 å·å½“å‰è·ç¦»åœ°çƒ <span class="subst">$&#123;dis&#125;</span> åƒç±³ï¼Œçº¦ä¸º <span class="subst">$&#123;unit&#125;</span> ä¸ªå¤©æ–‡å•ä½ ğŸš€&lt;/div&gt;`</span></span><br><span class="line">            : <span class="string">`&lt;img class=&#x27;boardsign&#x27; src=&#x27;https://cdn.meimolihan.eu.org/hexo/img/å¢¨ä¸å‡¡-ä¼‘é—²ä¸­.svg&#x27; title=&#x27;ä¸‹ç­äº†å°±è¯¥å¼€å¼€å¿ƒå¿ƒåœ°ç©è€~&#x27;&gt;&lt;br&gt; &lt;div style=&quot;font-size:13px;font-weight:bold&quot;&gt;æœ¬ç«™å±…ç„¶è¿è¡Œäº† <span class="subst">$&#123;dnum&#125;</span> å¤© <span class="subst">$&#123;hnum&#125;</span> å°æ—¶ <span class="subst">$&#123;mnum&#125;</span> åˆ† <span class="subst">$&#123;snum&#125;</span> ç§’ &lt;i id=&quot;heartbeat&quot; class=&#x27;fas fa-heartbeat&#x27;&gt;&lt;/i&gt; &lt;br&gt; æ—…è¡Œè€… 1 å·å½“å‰è·ç¦»åœ°çƒ <span class="subst">$&#123;dis&#125;</span> åƒç±³ï¼Œçº¦ä¸º <span class="subst">$&#123;unit&#125;</span> ä¸ªå¤©æ–‡å•ä½ ğŸš€&lt;/div&gt;`</span>),</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;workboard&quot;</span>) &amp;&amp;</span><br><span class="line">    (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;workboard&quot;</span>).<span class="property">innerHTML</span> = currentTimeHtml);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è®¾ç½®é‡å¤æ‰§è¡Œå‡½æ•°ï¼Œå‘¨æœŸ1000ms</span></span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">createtime</span>();</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*é¡µè„šè®¡æ—¶å™¨ end */</span></span><br></pre></td></tr></table></figure><p><strong>åˆ›å»º <code>åšå®¢æ ¹ç›®å½•/source/css/runtime.css</code></strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-id">#runtime</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">180px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">padding-inline</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.7</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#workboard</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-tag">div</span><span class="selector-id">#runtime</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#28b4c8</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">28</span>, <span class="number">69</span>, <span class="number">218</span>, <span class="number">0.71</span>);</span><br><span class="line">    <span class="attribute">animation</span>: flashlight <span class="number">1s</span> linear infinite alternate;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#ghbdages</span> <span class="selector-class">.github-badge</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@-moz-keyframes</span> flashlight &#123;</span><br><span class="line">    <span class="selector-tag">from</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">#1478d2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">#1478d2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> flashlight &#123;</span><br><span class="line">    <span class="selector-tag">from</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">#1478d2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">#1478d2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@-o-keyframes</span> flashlight &#123;</span><br><span class="line">    <span class="selector-tag">from</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">#1478d2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">#1478d2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> flashlight &#123;</span><br><span class="line">    <span class="selector-tag">from</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">#1478d2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">#1478d2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure><p><strong>ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="single-image-bg"></a></p><h2 id="ğŸ–¼ï¸-åä¹ã€ä¸€å›¾æµèƒŒæ™¯è®¾è®¡">ğŸ–¼ï¸ åä¹ã€ä¸€å›¾æµèƒŒæ™¯è®¾è®¡</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-19">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>ä½¿ç”¨å•å¼ å›¾ç‰‡ä½œä¸ºå…¨å±€èƒŒæ™¯ï¼Œå®ç°ç®€çº¦è€Œä¸ç®€å•çš„è§†è§‰æ•ˆæœã€‚</p><h3 id="ğŸ”§-å®ç°æ–¹æ³•-7">ğŸ”§ å®ç°æ–¹æ³•</h3><ul><li><strong>åˆ›å»ºèƒŒæ™¯æ ·å¼CSSï¼š</strong><ul><li>åˆ›å»º <code>Hexoæ ¹ç›®å½•/source/css/custom.css</code> æ–‡ä»¶ï¼Œå°†ä»£ç å¤åˆ¶ç²˜è´´åˆ°è¯¥æ–‡ä»¶ä¸­ã€‚</li></ul></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* é¡µè„šä¸å¤´å›¾é€æ˜ */</span>  </span><br><span class="line"><span class="selector-id">#footer</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-id">#page-header</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/* ç™½å¤©æ¨¡å¼é®ç½©é€æ˜ */</span>  </span><br><span class="line"><span class="selector-id">#footer</span><span class="selector-pseudo">::before</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-id">#page-header</span><span class="selector-pseudo">::before</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment">/* å¤œé—´æ¨¡å¼é®ç½©é€æ˜ */</span>  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#footer</span><span class="selector-pseudo">::before</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#page-header</span><span class="selector-pseudo">::before</span> &#123;  </span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="meta">!important</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>[BlogRoot]\_config.butterfly.yml</code> æ–‡ä»¶ä¸­çš„injecté…ç½®é¡¹çš„headå­é¡¹åŠ å…¥ä»¥ä¸‹ä»£ç ï¼Œä»£è¡¨å¼•å…¥åˆšåˆšåˆ›å»ºçš„custom.cssæ–‡ä»¶</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span>  </span><br><span class="line">  <span class="attr">head:</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom.css&quot;</span> <span class="string">media=&quot;defer&quot;</span> <span class="string">onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span></span><br></pre></td></tr></table></figure><ul><li>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>[BlogRoot]\_config.butterfly.yml</code> æ–‡ä»¶ä¸­çš„ <code>index_img</code> å’Œ <code>footer_bg</code> é…ç½®é¡¹å–æ¶ˆå¤´å›¾ä¸é¡µè„šå›¾çš„åŠ è½½é¡¹é¿å…å†—ä½™åŠ è½½</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The banner image of home page  </span></span><br><span class="line"><span class="attr">index_img:</span>   </span><br><span class="line">  </span><br><span class="line"><span class="comment"># Footer Background  </span></span><br><span class="line"><span class="attr">footer_bg:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>[BlogRoot]\_config.butterfly.yml</code> æ–‡ä»¶ä¸­çš„backgroundé…ç½®é¡¹è®¾ç½®èƒŒæ™¯å›¾</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">background:</span> <span class="string">/img/pc-018.webp</span></span><br></pre></td></tr></table></figure><hr><p><a id="font-customization"></a></p><h2 id="ğŸ”¤-äºŒåã€å¼•ç”¨å­—ä½“ç¾åŒ–">ğŸ”¤ äºŒåã€å¼•ç”¨å­—ä½“ç¾åŒ–</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-20">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>ä½¿ç”¨è‡ªå®šä¹‰å­—ä½“æ›¿æ¢ç³»ç»Ÿé»˜è®¤å­—ä½“ï¼Œæå‡æ’ç‰ˆç¾è§‚åº¦å’Œå“ç‰Œä¸€è‡´æ€§ã€‚</p><h3 id="ğŸ”§-å®ç°æ­¥éª¤-7">ğŸ”§ å®ç°æ­¥éª¤</h3><h4 id="1-ğŸ”-å‡†å¤‡å­—ä½“æ–‡ä»¶">1. ğŸ” å‡†å¤‡å­—ä½“æ–‡ä»¶</h4><p><strong>å­—ä½“å¤©ä¸‹ï¼š<a href="https://www.fonts.net.cn/font-32027849465.html">https://www.fonts.net.cn/font-32027849465.html</a></strong><br><strong>è°·æ­Œå­—ä½“ï¼š<a href="http://www.googlefonts.net/chinese">http://www.googlefonts.net/chinese</a></strong><br><strong>TTF åˆ° WOFF2è½¬æ¢å™¨ï¼š<a href="https://products.groupdocs.app/zh/conversion/ttf-to-woff2">https://products.groupdocs.app/zh/conversion/ttf-to-woff2</a></strong></p><ul><li>é¦–å…ˆå°†æ–‡ä»¶æ”¾åˆ°CSSåŒçº§ç›®å½•ä¸‹ï¼š<code>Hexoæ ¹ç›®å½•/source/css/GenJyuuGothic-Medium-2.ttf</code><ul><li>åˆ›å»º <code>Hexoæ ¹ç›®å½•/source/css/å¼•ç”¨å­—ä½“.css</code> æ–‡ä»¶ï¼Œå°†ä»£ç å¤åˆ¶ç²˜è´´åˆ°è¯¥æ–‡ä»¶ä¸­ã€‚</li></ul></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å¼•ç”¨å¤–é“¾å­—ä½“ï¼ˆä»»é€‰å…¶ä¸€ï¼‰ */</span></span><br><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: ZhuZiAYuanJWD;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/meimolihan/cdn@v1.0.0/fonts/ZhuZiAWan.woff2</span>);</span><br><span class="line">    <span class="attribute">font-display</span>: swap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å¼•ç”¨æœ¬åœ°å­—ä½“ï¼ˆä»»é€‰å…¶ä¸€ï¼‰ */</span></span><br><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&#x27;ZhuZiAYuanJWD&#x27;</span>; <span class="comment">/*å­—ä½“åç§°ï¼Œåå­—å¯ä»¥éšä¾¿èµ·ï¼Œä½†æ˜¯æ³¨æ„è¦ä¸€è‡´ï¼Œå»ºè®®è‹±æ–‡*/</span></span><br><span class="line">    <span class="attribute">font-display</span>: swap;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&#x27;./GenJyuuGothic-Medium-2.ttf&#x27;</span>) <span class="built_in">format</span>(<span class="string">&quot;truetype&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>, <span class="comment">/* å…¨å±€ä¿®æ”¹ä¸ºæ­¤å­—ä½“ */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.title</span>, <span class="comment">/* æ ‡é¢˜é“¾æ¥-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#menus</span>, <span class="comment">/* èœå•å®¹å™¨-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-id">#blog-info</span>, <span class="comment">/* ç«™ç‚¹æ ‡é¢˜-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-id">#post-meta</span>, <span class="comment">/* å‘è¡¨æ—¶é—´ã€æ›´æ–°æ—¶é—´ç­‰-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-tag">h1</span><span class="selector-id">#site-title</span>, <span class="comment">/* ç½‘ç«™ä¸»æ ‡é¢˜-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-tag">h1</span><span class="selector-class">.post-title</span>, <span class="comment">/* æ–‡ç« æ ‡é¢˜-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-id">#site-subtitle</span>, <span class="comment">/* ä¸€è¨€ç½‘ä¸€å¥è¯-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-id">#aside-content</span>, <span class="comment">/* ä¾§è¾¹æ å†…å®¹-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-class">.category-title</span>, <span class="comment">/* åˆ†ç±»æ ‡é¢˜-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.article-title</span>, <span class="comment">/* æ–‡ç« é“¾æ¥æ ‡é¢˜-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-class">.tag-cloud-title</span>, <span class="comment">/* æ ‡ç­¾äº‘æ ‡é¢˜-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-class">.article-sort-title</span>, <span class="comment">/* æ–‡ç« æ’åºæ ‡é¢˜-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.blog-slider__title</span>, <span class="comment">/* åšå®¢è½®æ’­æ ‡é¢˜-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.category-list-link</span>, <span class="comment">/* åˆ†ç±»åˆ—è¡¨é“¾æ¥-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-tag">h1</span>,<span class="selector-tag">h2</span>,<span class="selector-tag">h3</span>,<span class="selector-tag">h4</span>,<span class="selector-tag">h5</span>,<span class="selector-tag">h6</span>, <span class="comment">/* æ‰€æœ‰æ ‡é¢˜æ ‡ç­¾-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.categoryBar-list-link</span>, <span class="comment">/* åˆ†ç±»æ åˆ—è¡¨é“¾æ¥-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.article-sort-item-title</span>, <span class="comment">/* æ–‡ç« æ’åºé¡¹ç›®æ ‡é¢˜-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-tag">figure</span><span class="selector-class">.highlight</span> <span class="selector-tag">td</span><span class="selector-class">.code</span> pre, <span class="comment">/* ä»£ç æ¡†-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-tag">figure</span><span class="selector-class">.highlight</span> <span class="selector-tag">td</span><span class="selector-class">.code</span> pre <span class="selector-tag">code</span>, <span class="comment">/* ä»£ç æ¡†ä¸­çš„ä»£ç -å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-id">#site-name</span>, <span class="selector-tag">span</span><span class="selector-id">#subtitle</span>, <span class="selector-tag">a</span><span class="selector-class">.site-page</span>, <span class="comment">/* ç«™ç‚¹åç§°ã€å‰¯æ ‡é¢˜å’Œé¡µé¢é“¾æ¥-å¼•ç”¨å­—ä½“ */</span></span><br><span class="line"><span class="selector-id">#post</span> <span class="selector-class">.container</span><span class="selector-class">.post-content</span> <span class="selector-class">.folding-tag</span> <span class="selector-class">.content</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">code</span> <span class="comment">/* æŠ˜å æ ‡ç­¾ä¸­çš„ä»£ç -å¼•ç”¨å­—ä½“ */</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&#x27;ZhuZiAYuanJWD&#x27;</span>, sans-serif <span class="meta">!important</span>; <span class="comment">/* è®¾ç½®å­—ä½“ä¸º ZhuZiAYuanJWDï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„æ— è¡¬çº¿å­—ä½“ */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>â• å¼•å…¥ <code>å¼•ç”¨å­—ä½“.css</code> æ–‡ä»¶</strong></p><ul><li>åœ¨ _config.butterfly.yml æ–‡ä»¶ä¸­æ‰¾åˆ° inject éƒ¨åˆ†ï¼Œå¦‚æœè¯¥éƒ¨åˆ†ä¸å­˜åœ¨ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span> <span class="comment"># æ³¨å…¥è‡ªå®šä¹‰css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/å¼•ç”¨å­—ä½“.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p><strong>é…ç½®å­—ä½“</strong><br>åœ¨ _config.butterfly.yml æ–‡ä»¶ä¸­ä¿®æ”¹ä¸€ä¸‹å†…å®¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…¨å±€å­—ä½“è®¾ç½®</span></span><br><span class="line"><span class="comment"># é™¤éæ‚¨çŸ¥é“å®ƒä»¬çš„å·¥ä½œåŸç†ï¼Œå¦åˆ™ä¸è¦ä¿®æ”¹ä»¥ä¸‹è®¾ç½®</span></span><br><span class="line"><span class="attr">font:</span></span><br><span class="line">  <span class="comment"># é»˜è®¤å­—ä½“å¤§å°ï¼ˆå…¨å±€èŒƒå›´å†…çš„å­—ä½“å¤§å°ï¼‰</span></span><br><span class="line">  <span class="attr">global-font-size:</span> <span class="string">18px</span></span><br><span class="line">  <span class="comment"># ä»£ç å­—ä½“å¤§å°ï¼ˆç”¨äºä»£ç å—æˆ–ä»£ç ç›¸å…³çš„å†…å®¹ï¼‰</span></span><br><span class="line">  <span class="attr">code-font-size:</span> <span class="string">18px</span></span><br><span class="line">  <span class="comment"># æ™®é€šæ–‡æœ¬çš„å­—ä½“å®¶æ—ï¼ˆå­—ä½“åç§°ï¼‰</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">&#x27;ZhuZiAYuanJWD&#x27;</span></span><br><span class="line">  <span class="comment"># ä»£ç å­—ä½“å®¶æ—ï¼ˆä»£ç å—æˆ–ä»£ç ç›¸å…³çš„å†…å®¹çš„å­—ä½“ï¼‰</span></span><br><span class="line">  <span class="attr">code-font-family:</span> <span class="string">&#x27;ZhuZiAYuanJWD&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="scrollbar-style"></a></p><h2 id="ğŸšï¸-äºŒåä¸€ã€æ»šåŠ¨æ¡æ ·å¼ç¾åŒ–">ğŸšï¸ äºŒåä¸€ã€æ»šåŠ¨æ¡æ ·å¼ç¾åŒ–</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-21">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>è‡ªå®šä¹‰æµè§ˆå™¨æ»šåŠ¨æ¡æ ·å¼ï¼Œä½¿å…¶ä¸ç½‘ç«™è®¾è®¡é£æ ¼ä¿æŒä¸€è‡´ï¼Œæå‡ç»†èŠ‚ä½“éªŒã€‚</p><h3 id="ğŸ”§-å®ç°æ–¹æ³•-8">ğŸ”§ å®ç°æ–¹æ³•</h3><ul><li>åˆ›å»º <code>Hexoæ ¹ç›®å½•/source/css/æ»šåŠ¨æ¡æ ·å¼.css</code> æ–‡ä»¶ï¼Œå°†ä»£ç å¤åˆ¶ç²˜è´´åˆ°è¯¥æ–‡ä»¶ä¸­ã€‚</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/********************** æ»šåŠ¨æ¡æ•´ä½“æ ·å¼ ********************/</span></span><br><span class="line">::-webkit-scrollbar &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">8px</span>; <span class="comment">/* æ»šåŠ¨æ¡å®½åº¦ */</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">8px</span>; <span class="comment">/* æ»šåŠ¨æ¡é«˜åº¦ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ»šåŠ¨æ¡è½¨é“æ ·å¼ */</span></span><br><span class="line">::-webkit-scrollbar-track &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">73</span>, <span class="number">177</span>, <span class="number">245</span>, <span class="number">0.2</span>); <span class="comment">/* è½¨é“èƒŒæ™¯è‰²ï¼ŒåŠé€æ˜ */</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2em</span>; <span class="comment">/* è½¨é“åœ†è§’ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ»šåŠ¨æ¡æ»‘æ ·å¼å— */</span></span><br><span class="line">::-webkit-scrollbar-thumb &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--theme-color, <span class="number">#49b1f5</span>); <span class="comment">/* æ»‘å—èƒŒæ™¯è‰²ï¼Œä½¿ç”¨ä¸»é¢˜å˜é‡ï¼Œè‹¥æœªå®šä¹‰åˆ™ä½¿ç”¨é»˜è®¤å€¼ #49b1f5 */</span></span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">-webkit-linear-gradient</span>(</span><br><span class="line">            <span class="number">45deg</span>,</span><br><span class="line">            <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.3</span>) <span class="number">25%</span>, <span class="comment">/* æ¡çº¹æ•ˆæœï¼Œé»‘è‰²åŠé€æ˜ï¼Œå¢å¼ºå¯¹æ¯”åº¦ */</span></span><br><span class="line">            transparent <span class="number">25%</span>, <span class="comment">/* é€æ˜éƒ¨åˆ† */</span></span><br><span class="line">            transparent <span class="number">50%</span>, <span class="comment">/* é€æ˜éƒ¨åˆ† */</span></span><br><span class="line">            <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.3</span>) <span class="number">50%</span>, <span class="comment">/* æ¡çº¹æ•ˆæœï¼Œé»‘è‰²åŠé€æ˜ï¼Œå¢å¼ºå¯¹æ¯”åº¦ */</span></span><br><span class="line">            <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.3</span>) <span class="number">75%</span>, <span class="comment">/* æ¡çº¹æ•ˆæœï¼Œé»‘è‰²åŠé€æ˜ï¼Œå¢å¼ºå¯¹æ¯”åº¦ */</span></span><br><span class="line">            transparent <span class="number">75%</span>, <span class="comment">/* é€æ˜éƒ¨åˆ† */</span></span><br><span class="line">            transparent</span><br><span class="line">    ); <span class="comment">/* æ»‘å—ä¸Šçš„æ¡çº¹æ•ˆæœ */</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2em</span>; <span class="comment">/* æ»‘å—åœ†è§’ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ»šåŠ¨æ¡è§’è½æ ·å¼ */</span></span><br><span class="line">::-webkit-scrollbar-corner &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: transparent; <span class="comment">/* è§’è½èƒŒæ™¯è‰²ï¼Œé€æ˜ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* é’ˆå¯¹ Mozilla æµè§ˆå™¨çš„é€‰ä¸­æ–‡æœ¬æ ·å¼ */</span></span><br><span class="line">::-moz-selection &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>; <span class="comment">/* é€‰ä¸­æ–‡å­—é¢œè‰² */</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--theme-color, <span class="number">#49b1f5</span>) <span class="meta">!important</span>; <span class="comment">/* é€‰ä¸­èƒŒæ™¯è‰²ï¼Œä½¿ç”¨ä¸»é¢˜å˜é‡ï¼Œè‹¥æœªå®šä¹‰åˆ™ä½¿ç”¨é»˜è®¤å€¼ #49b1f5 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä»£ç æ¡†åº•éƒ¨æ»šåŠ¨æ¡çš„ç‰¹æ®Šæ ·å¼ */</span></span><br><span class="line"><span class="selector-id">#article-container</span> <span class="selector-tag">figure</span><span class="selector-class">.highlight</span> &gt; ::-webkit-scrollbar-thumb &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#49b1f5</span> <span class="meta">!important</span>; <span class="comment">/* æ»‘å—èƒŒæ™¯è‰²ï¼Œæ·±ç°è‰² */</span></span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">-webkit-linear-gradient</span>(</span><br><span class="line">            <span class="number">45deg</span>,</span><br><span class="line">            <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>) <span class="number">25%</span>, <span class="comment">/* æ¡çº¹æ•ˆæœï¼Œé»‘è‰²ä½é€æ˜åº¦ï¼Œå¢å¼ºå¯¹æ¯”åº¦ */</span></span><br><span class="line">            transparent <span class="number">25%</span>, <span class="comment">/* é€æ˜éƒ¨åˆ† */</span></span><br><span class="line">            transparent <span class="number">50%</span>, <span class="comment">/* é€æ˜éƒ¨åˆ† */</span></span><br><span class="line">            <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>) <span class="number">50%</span>, <span class="comment">/* æ¡çº¹æ•ˆæœï¼Œé»‘è‰²ä½é€æ˜åº¦ï¼Œå¢å¼ºå¯¹æ¯”åº¦ */</span></span><br><span class="line">            <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>) <span class="number">75%</span>, <span class="comment">/* æ¡çº¹æ•ˆæœï¼Œé»‘è‰²ä½é€æ˜åº¦ï¼Œå¢å¼ºå¯¹æ¯”åº¦ */</span></span><br><span class="line">            transparent <span class="number">75%</span>, <span class="comment">/* é€æ˜éƒ¨åˆ† */</span></span><br><span class="line">            transparent</span><br><span class="line">    ) <span class="meta">!important</span>; <span class="comment">/* æ»‘å—ä¸Šçš„æ¡çº¹æ•ˆæœ */</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2em</span> <span class="meta">!important</span>; <span class="comment">/* æ»‘å—åœ†è§’ */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>â• å¼•å…¥ <code>æ»šåŠ¨æ¡æ ·å¼.css</code> æ–‡ä»¶</strong></p><p>åœ¨ _config.butterfly.yml æ–‡ä»¶ä¸­æ‰¾åˆ° inject éƒ¨åˆ†ï¼Œå¦‚æœè¯¥éƒ¨åˆ†ä¸å­˜åœ¨ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span> <span class="comment"># æ³¨å…¥è‡ªå®šä¹‰css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/æ»šåŠ¨æ¡æ ·å¼.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="avatar-breathing-light"></a></p><h2 id="ğŸ’¡-äºŒåäºŒã€å¤´åƒå‘¼å¸ç¯æ•ˆæœ">ğŸ’¡ äºŒåäºŒã€å¤´åƒå‘¼å¸ç¯æ•ˆæœ</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-22">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>ä¸ºå¤´åƒæ·»åŠ å‘¼å¸ç¯æ•ˆæœï¼Œæ˜æš—äº¤æ›¿é—ªçƒï¼Œå¸å¼•è§†è§‰æ³¨æ„åŠ›ã€‚</p><h3 id="ğŸ”§-å®ç°æ–¹æ³•-9">ğŸ”§ å®ç°æ–¹æ³•</h3><ul><li><strong>åˆ›å»ºå‘¼å¸ç¯æ•ˆæœCSSï¼š</strong><ul><li>åˆ›å»º <code>Hexoæ ¹ç›®å½•/source/css/å¤´åƒå‘¼å¸ç¯.css</code> æ–‡ä»¶ï¼Œå°†ä»£ç å¤åˆ¶ç²˜è´´åˆ°è¯¥æ–‡ä»¶ä¸­ã€‚</li></ul></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/****************** å¤´åƒå‘¼å¸ç¯ä¼˜åŒ–ç‰ˆ ***********************/</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-class">.avatar-img</span> &#123;</span><br><span class="line">    <span class="attribute">animation</span>: huxi_light <span class="number">3.5s</span> ease-in-out infinite;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.avatar-img</span> &#123;</span><br><span class="line">    <span class="attribute">animation</span>: huxi_dark <span class="number">3.5s</span> ease-in-out infinite;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ˜äº®æ¨¡å¼ä¸‹çš„å‘¼å¸ç¯æ•ˆæœ */</span></span><br><span class="line"><span class="keyword">@keyframes</span> huxi_light &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>:</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">252</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.3</span>),</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">252</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">25%</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>:</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">252</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.7</span>),</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span> <span class="number">4px</span> <span class="built_in">rgba</span>(<span class="number">252</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.3</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">50%</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>:</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span> <span class="number">4px</span> <span class="built_in">rgba</span>(<span class="number">252</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.8</span>),</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">25px</span> <span class="number">8px</span> <span class="built_in">rgba</span>(<span class="number">252</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">75%</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>:</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">252</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.7</span>),</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span> <span class="number">4px</span> <span class="built_in">rgba</span>(<span class="number">252</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.3</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>:</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">252</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.3</span>),</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">252</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* é»‘æš—æ¨¡å¼ä¸‹çš„å‘¼å¸ç¯æ•ˆæœ */</span></span><br><span class="line"><span class="keyword">@keyframes</span> huxi_dark &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>:</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">130</span>, <span class="number">252</span>, <span class="number">0</span>, <span class="number">0.3</span>),</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">130</span>, <span class="number">252</span>, <span class="number">0</span>, <span class="number">0.1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">25%</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>:</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">130</span>, <span class="number">252</span>, <span class="number">0</span>, <span class="number">0.7</span>),</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span> <span class="number">4px</span> <span class="built_in">rgba</span>(<span class="number">130</span>, <span class="number">252</span>, <span class="number">0</span>, <span class="number">0.3</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">50%</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>:</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span> <span class="number">4px</span> <span class="built_in">rgba</span>(<span class="number">130</span>, <span class="number">252</span>, <span class="number">0</span>, <span class="number">0.9</span>),</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">25px</span> <span class="number">8px</span> <span class="built_in">rgba</span>(<span class="number">130</span>, <span class="number">252</span>, <span class="number">0</span>, <span class="number">0.5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">75%</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>:</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">130</span>, <span class="number">252</span>, <span class="number">0</span>, <span class="number">0.7</span>),</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span> <span class="number">4px</span> <span class="built_in">rgba</span>(<span class="number">130</span>, <span class="number">252</span>, <span class="number">0</span>, <span class="number">0.3</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>:</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">130</span>, <span class="number">252</span>, <span class="number">0</span>, <span class="number">0.3</span>),</span><br><span class="line">                <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">130</span>, <span class="number">252</span>, <span class="number">0</span>, <span class="number">0.1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>â• å¼•å…¥ <code>å¤´åƒå‘¼å¸ç¯.css</code> æ–‡ä»¶</strong></p><p>åœ¨ _config.butterfly.yml æ–‡ä»¶ä¸­æ‰¾åˆ° inject éƒ¨åˆ†ï¼Œå¦‚æœè¯¥éƒ¨åˆ†ä¸å­˜åœ¨ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span> <span class="comment"># æ³¨å…¥è‡ªå®šä¹‰css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/å¤´åƒå‘¼å¸ç¯.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="background-switcher"></a></p><h2 id="ğŸ–¼ï¸-äºŒåä¸‰ã€åšå®¢èƒŒæ™¯åˆ‡æ¢">ğŸ–¼ï¸ äºŒåä¸‰ã€åšå®¢èƒŒæ™¯åˆ‡æ¢</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-23">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>æ·»åŠ èƒŒæ™¯åˆ‡æ¢åŠŸèƒ½ï¼Œå…è®¸ç”¨æˆ·è‡ªå®šä¹‰åšå®¢èƒŒæ™¯å›¾ç‰‡æˆ–é¢œè‰²ï¼Œå¢å¼ºä¸ªæ€§åŒ–ä½“éªŒã€‚</p><h3 id="ğŸ”§-å®ç°æ­¥éª¤-8">ğŸ”§ å®ç°æ­¥éª¤</h3><h4 id="1-â•åˆ›å»ºåˆ‡æ¢æŒ‰é’®">1. â•åˆ›å»ºåˆ‡æ¢æŒ‰é’®</h4><blockquote><p>è‡ªè¡Œé€‰æ‹©åœ¨å“ªé‡Œæ·»åŠ ï¼Œåªéœ€è¦è°ƒç”¨<code>toggleWinbox</code>å‡½æ•°å°±å¯ä»¥</p></blockquote><ol><li><strong>å¼•å…¥åˆ°å³ä¸‹è§’æ–¹æ³•</strong></li></ol><p>ä¿®æ”¹<code>åšå®¢æ ¹ç›®å½•\butterfly\layout\includes\rightside.pug</code><br>åœ¨ä¼—å¤šwhenä¸‹é¢æ–°å¢ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">when &#x27;comment&#x27;</span><br><span class="line">    if commentsJsLoad</span><br><span class="line">        a#to_comment(href=&quot;#post-comment&quot; title=_p(&quot;rightside.scroll_to_comment&quot;))</span><br><span class="line">        i.fas.fa-comments</span><br><span class="line"><span class="addition">+ when &#x27;bg&#x27;</span></span><br><span class="line"><span class="addition">+     button(type=&quot;button&quot; title=&#x27;åˆ‡æ¢èƒŒæ™¯&#x27; onclick=&quot;toggleWinbox()&quot;)</span></span><br><span class="line"><span class="addition">+         i.fas.fa-display</span></span><br></pre></td></tr></table></figure><p>ç„¶åä¿®æ”¹ï¼š</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#rightside</span><br><span class="line">  - const &#123; enable, hide, show &#125; = theme.rightside_item_order</span><br><span class="line">  - const hideArray = enable ? hide &amp;&amp; hide.split(&#x27;,&#x27;) : [&#x27;readmode&#x27;,&#x27;translate&#x27;,&#x27;darkmode&#x27;,&#x27;hideAside&#x27;]</span><br><span class="line"><span class="deletion">-  - const showArray = enable ? show &amp;&amp; show.split(&#x27;,&#x27;) : [&#x27;toc&#x27;,&#x27;chat&#x27;,&#x27;comment&#x27;]</span></span><br><span class="line"><span class="addition">+  - const showArray = enable ? show &amp;&amp; show.split(&#x27;,&#x27;) : [&#x27;toc&#x27;,&#x27;chat&#x27;,&#x27;comment&#x27;,&#x27;bg&#x27;]</span></span><br></pre></td></tr></table></figure><blockquote><p>ä»¥ä¸Šæ˜¯å¼•å…¥åˆ° <code>å³ä¸‹è§’</code> çš„æ–¹æ³•</p></blockquote><ol start="2"><li><strong>å¼•å…¥åˆ°å¯¼èˆªæ  <code>å³ä¸Šè§’</code> æ–¹æ³•</strong></li></ol><ul><li>å›¾æ ‡<code>#icon-a-zhaopiantupianxiangce</code>ä¿®æ”¹ä¸ºè‡ªå·±çš„</li></ul><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    if theme.menu</span><br><span class="line">      != partial(&#x27;includes/header/menu_item&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"><span class="addition">+      a.site-page.faa-parent.animated-hover(onclick=&#x27;toggleWinbox()&#x27; title=&#x27;åˆ‡æ¢å£çº¸&#x27;)</span></span><br><span class="line"><span class="addition">+        svg.faa-tada.bizhi(aria-hidden=&quot;true&quot;, style=&quot;height:2em;width:2em&quot;)</span></span><br><span class="line"><span class="addition">+          use(xlink:href=&#x27;#icon-a-zhaopiantupianxiangce&#x27;)</span></span><br></pre></td></tr></table></figure><h4 id="2-â•-åˆ›å»º-åšå®¢æ ¹ç›®å½•-source-js-xxx-js">2. â• åˆ›å»º <code>åšå®¢æ ¹ç›®å½•/source/js/xxx.js</code></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­˜æ•°æ®</span></span><br><span class="line"><span class="comment">// nameï¼šå‘½å dataï¼šæ•°æ®</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">saveData</span>(<span class="params">name, data</span>) &#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(name, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123; <span class="string">&#x27;time&#x27;</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>(), <span class="string">&#x27;data&#x27;</span>: data &#125;))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å–æ•°æ®</span></span><br><span class="line"><span class="comment">// nameï¼šå‘½å timeï¼šè¿‡æœŸæ—¶é•¿,å•ä½åˆ†é’Ÿ,å¦‚ä¼ å…¥30,å³åŠ è½½æ•°æ®æ—¶å¦‚æœè¶…å‡º30åˆ†é’Ÿè¿”å›0,å¦åˆ™è¿”å›æ•°æ®</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loadData</span>(<span class="params">name, time</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> d = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(name));</span><br><span class="line">    <span class="comment">// è¿‡æœŸæˆ–æœ‰é”™è¯¯è¿”å› 0 å¦åˆ™è¿”å›æ•°æ®</span></span><br><span class="line">    <span class="keyword">if</span> (d) &#123;</span><br><span class="line">        <span class="keyword">let</span> t = <span class="title class_">Date</span>.<span class="title function_">now</span>() - d.<span class="property">time</span></span><br><span class="line">        <span class="keyword">if</span> (t &lt; (time * <span class="number">60</span> * <span class="number">1000</span>) &amp;&amp; t &gt; -<span class="number">1</span>) <span class="keyword">return</span> d.<span class="property">data</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸Šé¢ä¸¤ä¸ªå‡½æ•°å¦‚æœä½ æœ‰å…¶ä»–éœ€è¦å­˜å–æ•°æ®çš„åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–èƒŒæ™¯</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> data = <span class="title function_">loadData</span>(<span class="string">&#x27;blogbg&#x27;</span>, <span class="number">1440</span>)</span><br><span class="line">    <span class="keyword">if</span> (data) <span class="title function_">changeBg</span>(data, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">else</span> <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;blogbg&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (error) &#123; <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;blogbg&#x27;</span>); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ‡æ¢èƒŒæ™¯å‡½æ•°</span></span><br><span class="line"><span class="comment">// æ­¤å¤„çš„flagæ˜¯ä¸ºäº†æ¯æ¬¡è¯»å–æ—¶éƒ½é‡æ–°å­˜å‚¨ä¸€æ¬¡,å¯¼è‡´è¿‡æœŸæ—¶é—´ä¸ç¨³å®š</span></span><br><span class="line"><span class="comment">// å¦‚æœflagä¸º0åˆ™å­˜å‚¨,å³è®¾ç½®èƒŒæ™¯. ä¸º1åˆ™ä¸å­˜å‚¨,å³æ¯æ¬¡åŠ è½½è‡ªåŠ¨è¯»å–èƒŒæ™¯.</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">changeBg</span>(<span class="params">s, flag</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> bg = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;web_bg&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (s.<span class="title function_">charAt</span>(<span class="number">0</span>) == <span class="string">&#x27;#&#x27;</span>) &#123;</span><br><span class="line">        bg.<span class="property">style</span>.<span class="property">backgroundColor</span> = s</span><br><span class="line">        bg.<span class="property">style</span>.<span class="property">backgroundImage</span> = <span class="string">&#x27;none&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> bg.<span class="property">style</span>.<span class="property">backgroundImage</span> = s</span><br><span class="line">    <span class="keyword">if</span> (!flag) &#123; <span class="title function_">saveData</span>(<span class="string">&#x27;blogbg&#x27;</span>, s) &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸‹ä¸º2.0æ–°å¢å†…å®¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºçª—å£</span></span><br><span class="line"><span class="keyword">var</span> winbox = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createWinbox</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> div = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(div)</span><br><span class="line">    winbox = <span class="title class_">WinBox</span>(&#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;changeBgBox&#x27;</span>,</span><br><span class="line">        <span class="attr">index</span>: <span class="number">999</span>,</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;åˆ‡æ¢èƒŒæ™¯&quot;</span>,</span><br><span class="line">        <span class="attr">x</span>: <span class="string">&quot;center&quot;</span>,</span><br><span class="line">        <span class="attr">y</span>: <span class="string">&quot;center&quot;</span>,</span><br><span class="line">        <span class="attr">minwidth</span>: <span class="string">&#x27;300px&#x27;</span>,</span><br><span class="line">        <span class="attr">height</span>: <span class="string">&quot;60%&quot;</span>,</span><br><span class="line">        <span class="attr">background</span>: <span class="string">&#x27;#49b1f5&#x27;</span>,</span><br><span class="line">        <span class="attr">onmaximize</span>: <span class="function">() =&gt;</span> &#123; div.<span class="property">innerHTML</span> = <span class="string">`&lt;style&gt;body::-webkit-scrollbar &#123;display: none;&#125;div#changeBgBox &#123;width: 100% !important;&#125;&lt;/style&gt;`</span> &#125;,</span><br><span class="line">        <span class="attr">onrestore</span>: <span class="function">() =&gt;</span> &#123; div.<span class="property">innerHTML</span> = <span class="string">&#x27;&#x27;</span> &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="title function_">winResize</span>();</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;resize&#x27;</span>, winResize)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¯ä¸€ç±»æˆ‘æ”¾äº†ä¸€ä¸ªæ¼”ç¤ºï¼Œç›´æ¥å¾€ä¸‹å¤åˆ¶ç²˜è´´ aæ ‡ç­¾ å°±å¯ä»¥ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ å‡½æ•°é‡Œé¢çš„é“¾æ¥ å†’å·å‰é¢éœ€è¦æ·»åŠ åæ–œæ \è¿›è¡Œè½¬ä¹‰</span></span><br><span class="line">    winbox.<span class="property">body</span>.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div id=&quot;article-container&quot; style=&quot;padding:10px;&quot;&gt;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    &lt;p&gt;&lt;button onclick=&quot;localStorage.removeItem(&#x27;blogbg&#x27;);location.reload();&quot; style=&quot;background:#5fcdff;display:block;width:100%;padding: 15px 0;border-radius:6px;color:white;&quot;&gt;&lt;i class=&quot;fa-solid fa-arrows-rotate&quot;&gt;&lt;/i&gt; ç‚¹æˆ‘æ¢å¤é»˜è®¤èƒŒæ™¯&lt;/button&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;h2 id=&quot;å›¾ç‰‡ï¼ˆæ‰‹æœºï¼‰&quot;&gt;&lt;a href=&quot;#å›¾ç‰‡ï¼ˆæ‰‹æœºï¼‰&quot; class=&quot;headerlink&quot; title=&quot;å›¾ç‰‡ï¼ˆæ‰‹æœºï¼‰&quot;&gt;&lt;/a&gt;å›¾ç‰‡ï¼ˆæ‰‹æœºï¼‰&lt;/h2&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;bgbox&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;background-image:url(https://img.vm.laomishuo.com/image/2021/12/2021122715170589.jpeg)&quot; class=&quot;pimgbox&quot; onclick=&quot;changeBg(&#x27;url(https\://img.vm.laomishuo.com/image/2021/12/2021122715170589.jpeg)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    &lt;h2 id=&quot;å›¾ç‰‡ï¼ˆç”µè„‘ï¼‰&quot;&gt;&lt;a href=&quot;#å›¾ç‰‡ï¼ˆç”µè„‘ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;å›¾ç‰‡ï¼ˆç”µè„‘ï¼‰&quot;&gt;&lt;/a&gt;å›¾ç‰‡ï¼ˆç”µè„‘ï¼‰&lt;/h2&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;bgbox&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;background-image:url(https://cn.bing.com/th?id=OHR.GBRTurtle_ZH-CN6069093254_1920x1080.jpg)&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https\://cn.bing.com/th?id=OHR.GBRTurtle_ZH-CN6069093254_1920x1080.jpg)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    &lt;h2 id=&quot;æ¸å˜è‰²&quot;&gt;&lt;a href=&quot;#æ¸å˜è‰²&quot; class=&quot;headerlink&quot; title=&quot;æ¸å˜è‰²&quot;&gt;&lt;/a&gt;æ¸å˜è‰²&lt;/h2&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;bgbox&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; class=&quot;box&quot; style=&quot;background: linear-gradient(to right, #eecda3, #ef629f)&quot; onclick=&quot;changeBg(&#x27;linear-gradient(to right, #eecda3, #ef629f)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    &lt;h2 id=&quot;çº¯è‰²&quot;&gt;&lt;a href=&quot;#çº¯è‰²&quot; class=&quot;headerlink&quot; title=&quot;çº¯è‰²&quot;&gt;&lt;/a&gt;çº¯è‰²&lt;/h2&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;bgbox&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; class=&quot;box&quot; style=&quot;background: #7D9D9C&quot; onclick=&quot;changeBg(&#x27;#7D9D9C&#x27;)&quot;&gt;&lt;/a&gt; </span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€‚åº”çª—å£å¤§å°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">winResize</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#changeBgBox&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (!box || box.<span class="property">classList</span>.<span class="title function_">contains</span>(<span class="string">&#x27;min&#x27;</span>) || box.<span class="property">classList</span>.<span class="title function_">contains</span>(<span class="string">&#x27;max&#x27;</span>)) <span class="keyword">return</span> <span class="comment">// 2023-02-10æ›´æ–°</span></span><br><span class="line">    <span class="keyword">var</span> offsetWid = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientWidth</span>;</span><br><span class="line">    <span class="keyword">if</span> (offsetWid &lt;= <span class="number">768</span>) &#123;</span><br><span class="line">        winbox.<span class="title function_">resize</span>(offsetWid * <span class="number">0.95</span> + <span class="string">&quot;px&quot;</span>, <span class="string">&quot;90%&quot;</span>).<span class="title function_">move</span>(<span class="string">&quot;center&quot;</span>, <span class="string">&quot;center&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        winbox.<span class="title function_">resize</span>(offsetWid * <span class="number">0.6</span> + <span class="string">&quot;px&quot;</span>, <span class="string">&quot;70%&quot;</span>).<span class="title function_">move</span>(<span class="string">&quot;center&quot;</span>, <span class="string">&quot;center&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ‡æ¢çŠ¶æ€ï¼Œçª—å£å·²åˆ›å»ºåˆ™æ§åˆ¶çª—å£æ˜¾ç¤ºå’Œéšè—ï¼Œæ²¡çª—å£åˆ™åˆ›å»ºçª—å£</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toggleWinbox</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#changeBgBox&#x27;</span>)) winbox.<span class="title function_">toggleClass</span>(<span class="string">&#x27;hide&#x27;</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="title function_">createWinbox</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-â•åˆ›å»º-åšå®¢æ ¹ç›®å½•-source-css-xxx-css">3. â•åˆ›å»º <code>åšå®¢æ ¹ç›®å½•/source/css/xxx.css</code></h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ç”±äºå…¨å±ä¼šå‡ºbugï¼Œæ‰€ä»¥ç›´æ¥ç»™ä»–éšè— */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.winbox</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wb-full</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wb-min</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span> <span class="selector-class">.wb-body</span>,</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span> <span class="selector-id">#changeBgBox</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#333</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.bgbox</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pimgbox</span>,</span><br><span class="line"><span class="selector-class">.imgbox</span>,</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">166px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-size</span>: cover</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pimgbox</span>,</span><br><span class="line"><span class="selector-class">.imgbox</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pimgbox</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">240px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.imgbox</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">95px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="comment">/* èƒŒæ™¯ */</span></span><br><span class="line">    <span class="selector-class">.pimgbox</span>,</span><br><span class="line">    <span class="selector-class">.imgbox</span>,</span><br><span class="line">    <span class="selector-class">.box</span> &#123;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">73px</span>;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">135px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.pimgbox</span> &#123;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">205px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* 2.0æ–°å¢å†…å®¹ */</span>    </span><br><span class="line">    <span class="selector-class">.wb-min</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#changeBgBox</span> <span class="selector-class">.wb-body</span>::-webkit-scrollbar &#123;</span><br><span class="line">        <span class="attribute">display</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-â•-å¼•å…¥-xxx-jså’Œxxx-css">4. â• å¼•å…¥ <code>xxx.jså’Œxxx.css</code></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/xxx.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://cdn.jsdelivr.net/gh/nextapps-de/winbox/dist/winbox.bundle.min.js&quot;&gt;&lt;/script&gt;</span> <span class="comment"># å¼•å…¥ winbox</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/js/xxx.js&quot;&gt;&lt;/script&gt;</span> <span class="comment"># è¿™ä¸ªä»£è¡¨è‡ªå®šä¹‰jsï¼Œæ”¾åœ¨æœ€ä¸‹é¢</span></span><br></pre></td></tr></table></figure><h4 id="5-ğŸš€-æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š">5. ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="visitor-welcome"></a></p><h2 id="ğŸ‘‹-äºŒåå››ã€è®¿å®¢å®šä½æ¬¢è¿ä¿¡æ¯">ğŸ‘‹ äºŒåå››ã€è®¿å®¢å®šä½æ¬¢è¿ä¿¡æ¯</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-24">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>æ ¹æ®è®¿å®¢IPåœ°å€æ˜¾ç¤ºå®šä½ä¿¡æ¯å’Œä¸ªæ€§åŒ–æ¬¢è¿è¯­ï¼Œå¢å¼ºç”¨æˆ·å‚ä¸æ„Ÿã€‚</p><h3 id="ğŸ”§-å®ç°æ­¥éª¤-9">ğŸ”§ å®ç°æ­¥éª¤</h3><h4 id="1-â•-åˆ›å»ºæ¬¢è¿è„šæœ¬ï¼š">1. â• åˆ›å»ºæ¬¢è¿è„šæœ¬ï¼š</h4><p>ä½œè€…åšå®¢ï¼š<a href="https://blog.qjqq.cn/posts/2a52.html">https://blog.qjqq.cn/posts/2a52.html</a></p><p><strong>æ–°å»º<code>[BlogRoot]/source/js/welcome.js</code>æ–‡ä»¶</strong></p><p>å¥¶æ€çŒ«keyç”³è¯·ï¼š<a href="https://api.nsmao.net">https://api.nsmao.net</a><br>æŸ¥çœ‹ä¸ªäººç»çº¬åº¦ï¼š<a href="https://github.com/fomalhaut1998/hexo-theme-Fomalhaut">https://github.com/fomalhaut1998/hexo-theme-Fomalhaut</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿›è¡Œ fetch è¯·æ±‚</span></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;https://api.nsmao.net/api/ip/query?key=ä½ çš„key&#x27;</span>) <span class="comment">// ç”³è¯·åœ°å€ï¼šhttps://api.nsmao.net</span></span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!response.<span class="property">ok</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Network response was not ok&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> response.<span class="title function_">json</span>();</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        ipLocation = data;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_">isHomePage</span>()) &#123;</span><br><span class="line">            <span class="title function_">showWelcome</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;Error:&#x27;</span>, error));</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getDistance</span>(<span class="params">e1, n1, e2, n2</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> R = <span class="number">6371</span>;</span><br><span class="line">    <span class="keyword">const</span> &#123; sin, cos, asin, <span class="variable constant_">PI</span>, hypot &#125; = <span class="title class_">Math</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="title function_">getPoint</span> = (<span class="params">e, n</span>) =&gt; &#123;</span><br><span class="line">        e *= <span class="variable constant_">PI</span> / <span class="number">180</span>;</span><br><span class="line">        n *= <span class="variable constant_">PI</span> / <span class="number">180</span>;</span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">x</span>: <span class="title function_">cos</span>(n) * <span class="title function_">cos</span>(e), <span class="attr">y</span>: <span class="title function_">cos</span>(n) * <span class="title function_">sin</span>(e), <span class="attr">z</span>: <span class="title function_">sin</span>(n) &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> a = <span class="title function_">getPoint</span>(e1, n1);</span><br><span class="line">    <span class="keyword">let</span> b = <span class="title function_">getPoint</span>(e2, n2);</span><br><span class="line">    <span class="keyword">let</span> c = <span class="title function_">hypot</span>(a.<span class="property">x</span> - b.<span class="property">x</span>, a.<span class="property">y</span> - b.<span class="property">y</span>, a.<span class="property">z</span> - b.<span class="property">z</span>);</span><br><span class="line">    <span class="keyword">let</span> r = <span class="title function_">asin</span>(c / <span class="number">2</span>) * <span class="number">2</span> * R;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">round</span>(r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showWelcome</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!ipLocation || !ipLocation.<span class="property">data</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;ipLocation data is not available.&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> dist = <span class="title function_">getDistance</span>(<span class="number">116.680584</span>,<span class="number">35.649829</span>, ipLocation.<span class="property">data</span>.<span class="property">lng</span>, ipLocation.<span class="property">data</span>.<span class="property">lat</span>); <span class="comment">// ä¿®æ”¹è‡ªå·±çš„ç»åº¦ï¼ˆ121.413921ï¼‰çº¬åº¦ï¼ˆ31.089290ï¼‰</span></span><br><span class="line">    <span class="keyword">let</span> pos = ipLocation.<span class="property">data</span>.<span class="property">country</span>;</span><br><span class="line">    <span class="keyword">let</span> ip = ipLocation.<span class="property">ip</span>;</span><br><span class="line">    <span class="keyword">let</span> posdesc;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ–°å¢ipv6æ˜¾ç¤ºä¸ºæŒ‡å®šå†…å®¹</span></span><br><span class="line">    <span class="keyword">if</span> (ip.<span class="title function_">includes</span>(<span class="string">&quot;:&quot;</span>)) &#123;</span><br><span class="line">        ip = <span class="string">&quot;&lt;br&gt;å¥½å¤æ‚ï¼Œå’±çœ‹ä¸æ‡‚~(ipv6)&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»¥ä¸‹çš„ä»£ç éœ€è¦æ ¹æ®æ–°APIè¿”å›çš„ç»“æœè¿›è¡Œç›¸åº”çš„è°ƒæ•´</span></span><br><span class="line">    <span class="keyword">switch</span> (ipLocation.<span class="property">data</span>.<span class="property">country</span>) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;æ—¥æœ¬&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;ã‚ˆã‚ã—ãï¼Œä¸€èµ·å»çœ‹æ¨±èŠ±å—&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;ç¾å›½&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;Let us live in peace!&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;è‹±å›½&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;æƒ³åŒä½ ä¸€èµ·å¤œä¹˜ä¼¦æ•¦çœ¼&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;ä¿„ç½—æ–¯&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;å¹²äº†è¿™ç“¶ä¼ç‰¹åŠ ï¼&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;æ³•å›½&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;C&#x27;est La Vie&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;å¾·å›½&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;Die Zeit verging im Fluge.&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;æ¾³å¤§åˆ©äºš&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;ä¸€èµ·å»å¤§å ¡ç¤å§ï¼&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;åŠ æ‹¿å¤§&quot;</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;æ‹¾èµ·ä¸€ç‰‡æ«å¶èµ äºˆä½ &quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;ä¸­å›½&quot;</span>:</span><br><span class="line">            pos = ipLocation.<span class="property">data</span>.<span class="property">prov</span> + <span class="string">&quot; &quot;</span> + ipLocation.<span class="property">data</span>.<span class="property">city</span> + <span class="string">&quot; &quot;</span> + ipLocation.<span class="property">data</span>.<span class="property">district</span>;</span><br><span class="line">            <span class="keyword">switch</span> (ipLocation.<span class="property">data</span>.<span class="property">prov</span>) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;åŒ—äº¬å¸‚&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;åŒ—â€”â€”äº¬â€”â€”æ¬¢è¿ä½ ~~~&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å¤©æ´¥å¸‚&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;è®²æ®µç›¸å£°å§&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æ²³åŒ—çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;å±±åŠ¿å·å·æˆå£å’ï¼Œå¤©ä¸‹é›„å…³é“é©¬é‡‘æˆˆç”±æ­¤å‘ï¼Œæ— é™æ±Ÿå±±&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å±±è¥¿çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;å±•å¼€åå…·é•¿ä¸‰å°ºï¼Œå·²å å±±æ²³äº”ç™¾ä½™&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å†…è’™å¤è‡ªæ²»åŒº&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;å¤©è‹è‹ï¼Œé‡èŒ«èŒ«ï¼Œé£å¹è‰ä½è§ç‰›ç¾Š&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;è¾½å®çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;æˆ‘æƒ³åƒçƒ¤é¸¡æ¶ï¼&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å‰æ—çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;çŠ¶å…ƒé˜å°±æ˜¯ä¸œåŒ—çƒ§çƒ¤ä¹‹ç‹&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;é»‘é¾™æ±Ÿçœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;å¾ˆå–œæ¬¢å“ˆå°”æ»¨å¤§å‰§é™¢&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;ä¸Šæµ·å¸‚&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;ä¼—æ‰€å‘¨çŸ¥ï¼Œä¸­å›½åªæœ‰ä¸¤ä¸ªåŸå¸‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æ±Ÿè‹çœ&quot;</span>:</span><br><span class="line">                    <span class="keyword">switch</span> (ipLocation.<span class="property">data</span>.<span class="property">city</span>) &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;å—äº¬å¸‚&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;è¿™æ˜¯æˆ‘æŒºæƒ³å»çš„åŸå¸‚å•¦&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;è‹å·å¸‚&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;ä¸Šæœ‰å¤©å ‚ï¼Œä¸‹æœ‰è‹æ­&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="attr">default</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;æ•£è£…æ˜¯å¿…é¡»è¦æ•£è£…çš„&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æµ™æ±Ÿçœ&quot;</span>:</span><br><span class="line">                    <span class="keyword">switch</span> (ipLocation.<span class="property">data</span>.<span class="property">city</span>) &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;æ­å·å¸‚&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;ä¸œé£æ¸ç»¿è¥¿æ¹–æŸ³ï¼Œé›å·²è¿˜äººæœªå—å½’&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="attr">default</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;æœ›æµ·æ¥¼æ˜ç…§æ›™éœ,æŠ¤æ±Ÿå ¤ç™½è¹‹æ™´æ²™&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æ²³å—çœ&quot;</span>:</span><br><span class="line">                    <span class="keyword">switch</span> (ipLocation.<span class="property">data</span>.<span class="property">city</span>) &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;éƒ‘å·å¸‚&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;è±«å·ä¹‹åŸŸï¼Œå¤©åœ°ä¹‹ä¸­&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;ä¿¡é˜³å¸‚&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;å“ä¿¡é˜³æ¯›å°–ï¼Œæ‚Ÿäººé—´èŠ³å&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;å—é˜³å¸‚&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;è‡£æœ¬å¸ƒè¡£ï¼Œèº¬è€•äºå—é˜³æ­¤å—é˜³éå½¼å—é˜³ï¼&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;é©»é©¬åº—å¸‚&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;å³°å³°æœ‰å¥‡çŸ³ï¼ŒçŸ³çŸ³æŒŸä»™æ°”åµ–å²ˆå±±çš„èŠ±å¾ˆç¾å“¦ï¼&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;å¼€å°å¸‚&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;åˆšæ­£ä¸é˜¿åŒ…é’å¤©&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;æ´›é˜³å¸‚&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;æ´›é˜³ç‰¡ä¸¹ç”²å¤©ä¸‹&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="attr">default</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;å¯å¦å¸¦æˆ‘å“å°æ²³å—çƒ©é¢å•¦ï¼Ÿ&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å®‰å¾½çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;èšŒåŸ ä½äº†ï¼ŒèŠœæ¹–èµ·é£&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;ç¦å»ºçœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;äº•é‚‘ç™½äº‘é—´ï¼Œå²©åŸè¿œå¸¦å±±&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æ±Ÿè¥¿çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;è½éœä¸å­¤é¹œé½é£ï¼Œç§‹æ°´å…±é•¿å¤©ä¸€è‰²&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å±±ä¸œçœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;é¥æœ›é½å·ä¹ç‚¹çƒŸï¼Œä¸€æ³“æµ·æ°´æ¯ä¸­æ³»&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æ¹–åŒ—çœ&quot;</span>:</span><br><span class="line">                    <span class="keyword">switch</span> (ipLocation.<span class="property">data</span>.<span class="property">city</span>) &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;é»„å†ˆå¸‚&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;çº¢å®‰å°†å†›å¿ï¼è¾ˆå‡ºå°†æ‰ï¼&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="attr">default</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;æ¥ç¢—çƒ­å¹²é¢~&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æ¹–å—çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;74751ï¼Œé•¿æ²™æ–¯å¡”å…‹&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å¹¿ä¸œçœ&quot;</span>:</span><br><span class="line">                    <span class="keyword">switch</span> (ipLocation.<span class="property">data</span>.<span class="property">city</span>) &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;å¹¿å·å¸‚&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;çœ‹å°è›®è…°ï¼Œå–æ—©èŒ¶äº†å˜›~&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;æ·±åœ³å¸‚&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;ä»Šå¤©ä½ é€›å•†åœºäº†å˜›~&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;é˜³æ±Ÿå¸‚&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;é˜³æ˜¥åˆæ°´ï¼åšä¸»å®¶ä¹¡~ æ¬¢è¿æ¥ç©~&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="attr">default</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;æ¥ä¸¤æ–¤ç¦å»ºäºº~&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å¹¿è¥¿å£®æ—è‡ªæ²»åŒº&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;æ¡‚æ—å±±æ°´ç”²å¤©ä¸‹&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æµ·å—çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;æœè§‚æ—¥å‡ºé€ç™½æµªï¼Œå¤•çœ‹äº‘èµ·æ”¶éœå…‰&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å››å·çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;åº·åº·å·å¦¹å­&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;è´µå·çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;èŒ…å°ï¼Œå­¦ç”Ÿï¼Œå†å¡200&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;äº‘å—çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;ç‰é¾™é£èˆäº‘ç¼ ç»•ï¼Œä¸‡ä»å†°å·ç›´è€¸å¤©&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;è¥¿è—è‡ªæ²»åŒº&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;èººåœ¨èŒ«èŒ«è‰åŸä¸Šï¼Œä»°æœ›è“å¤©&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;é™•è¥¿çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;æ¥ä»½è‡Šå­é¢åŠ é¦&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;ç”˜è‚ƒçœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;ç¾Œç¬›ä½•é¡»æ€¨æ¨æŸ³ï¼Œæ˜¥é£ä¸åº¦ç‰é—¨å…³&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;é’æµ·çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;ç‰›è‚‰å¹²å’Œè€é…¸å¥¶éƒ½å¥½å¥½åƒ&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å®å¤å›æ—è‡ªæ²»åŒº&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;å¤§æ¼ å­¤çƒŸç›´ï¼Œé•¿æ²³è½æ—¥åœ†&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;é©¼é“ƒå¤é“ä¸ç»¸è·¯ï¼Œèƒ¡é©¬çŠ¹é—»å”æ±‰é£&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;å°æ¹¾çœ&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;æˆ‘åœ¨è¿™å¤´ï¼Œå¤§é™†åœ¨é‚£å¤´&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;æ°¸å®šè´¼æœ‰æ®‹ç•™åœ°é¬¼åšï¼Œè¿å‡»å…‰éå²ç‰&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;æ€§æ„Ÿè·å®˜ï¼Œåœ¨çº¿å‘ç‰Œ&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="attr">default</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;å¸¦æˆ‘å»ä½ çš„åŸå¸‚é€›é€›å§ï¼&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">            posdesc = <span class="string">&quot;å¸¦æˆ‘å»ä½ çš„å›½å®¶é€›é€›å§&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ¹æ®æœ¬åœ°æ—¶é—´åˆ‡æ¢æ¬¢è¿è¯­</span></span><br><span class="line">    <span class="keyword">let</span> timeChange;</span><br><span class="line">    <span class="keyword">let</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">5</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">11</span>) timeChange = <span class="string">&quot;&lt;span&gt;ğŸŒ¤ï¸ æ—©ä¸Šå¥½ï¼ŒåŠ æ²¹åŠ æ²¹ ğŸ’ª&lt;/span&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">11</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">13</span>) timeChange = <span class="string">&quot;&lt;span&gt;â˜€ï¸ ä¸­åˆå¥½ï¼Œè®°å¾—åˆä¼‘å–” ğŸ¹&lt;/span&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">13</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">17</span>) timeChange = <span class="string">&quot;&lt;span&gt;ğŸ• ä¸‹åˆå¥½ï¼Œé¥®èŒ¶å…ˆå•¦ â˜•&lt;/span&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">17</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">19</span>) timeChange = <span class="string">&quot;&lt;span&gt;ğŸš¶â€â™‚ï¸ å³å°†ä¸‹ç­ï¼ŒæŒ‰æ—¶åƒé¥­å–” ğŸš&lt;/span&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">19</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">24</span>) timeChange = <span class="string">&quot;&lt;span&gt;ğŸŒ™ æ™šä¸Šå¥½ï¼Œå¤œç”Ÿæ´»å—¨èµ·æ¥ ğŸ»&lt;/span&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">0</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">5</span>) timeChange = <span class="string">&quot;&lt;span&gt;ğŸ›ï¸ å¤œæ·±äº†ï¼Œæ—©ç‚¹ä¼‘æ¯ ğŸŒƒ&lt;/span&gt;&quot;</span>;</span><br><span class="line">    <span class="comment">// else timeChange = &quot;å¤œæ·±äº†ï¼Œæ—©ç‚¹ä¼‘æ¯&quot;;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> welcomeInfoElement = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;welcome-info&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (welcomeInfoElement) &#123;</span><br><span class="line">        welcomeInfoElement.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">æ¬¢è¿æ¥è‡ª &lt;b style=&quot;font-size: 15px; color: var(--theme-color)&quot;&gt;<span class="subst">$&#123;pos&#125;</span>&lt;/b&gt; çš„æœ‹å‹ğŸ’–</span></span><br><span class="line"><span class="string">è·åšä¸»çº¦ï¼š&lt;b style=&quot;font-size: 15px; color: var(--theme-color)&quot;&gt;<span class="subst">$&#123;dist.toFixed(<span class="number">2</span>)&#125;</span>&lt;/b&gt; å…¬é‡Œ ğŸš—</span></span><br><span class="line"><span class="string">IPåœ°å€æ˜¯ï¼š&lt;b style=&quot;font-size: 15px; color: var(--theme-color)&quot;&gt;<span class="subst">$&#123;ip&#125;</span>&lt;/b&gt;</span></span><br><span class="line"><span class="string">&lt;span<span class="subst">$&#123;timeChange&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">&lt;b style=&quot;font-size: 15px; color: var(--theme-color)&quot;&gt;<span class="subst">$&#123;posdesc&#125;</span>&lt;/b&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Pjaxæ— æ³•è·å–å…ƒç´ &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Pjaxå®Œæˆé¡µé¢åˆ‡æ¢çš„äº‹ä»¶å›è°ƒå¤„ç†</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handlePjaxComplete</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">isHomePage</span>()) &#123;</span><br><span class="line">        <span class="title function_">showWelcome</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isHomePage</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span> === <span class="string">&#x27;/&#x27;</span> || <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span> === <span class="string">&#x27;/index.html&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ pjax:completeäº‹ä»¶ç›‘å¬</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">isHomePage</span>()) &#123;</span><br><span class="line">        <span class="title function_">showWelcome</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;pjax:complete&quot;</span>, handlePjaxComplete);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="2-â•åˆ›å»º-welcome-css-æ–‡ä»¶">2. â•åˆ›å»º <code>welcome.css</code> æ–‡ä»¶</h4><ul><li><strong>æ–°å»º <code>[BlogRoot]/source/css/welcome.css</code> æ–‡ä»¶</strong></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* è®¿å®¢å®šä½æ¬¢è¿ä¿¡æ¯ */</span></span><br><span class="line"><span class="selector-id">#welcome-info</span> &#123;</span><br><span class="line">    <span class="attribute">white-space</span>: pre-wrap;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-light);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">6px</span>;  <span class="comment">/* ä¿®æ”¹è¿™é‡Œï¼šå·¦å³å†…è¾¹è·è®¾ä¸º5px */</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="built_in">var</span>(--border-style);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#welcome-info</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-dark);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-â•-å¼•å…¥-xxx-jså’Œxxx-css">3. â• å¼•å…¥ <code>xxx.jså’Œxxx.css</code></h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/welcome.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/js/welcome.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment"># ä¸»é¢˜é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="attr">card_announcement:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">content:</span> <span class="string">&lt;div</span> <span class="string">id=&quot;welcome-info&quot;&gt;&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><h4 id="4-ğŸš€-æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š-4">4. ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="footer-animal"></a></p><h2 id="ğŸ¾-äºŒåäº”ã€è„šé¡µæ·»åŠ å°åŠ¨ç‰©">ğŸ¾ äºŒåäº”ã€è„šé¡µæ·»åŠ å°åŠ¨ç‰©</h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-25">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>åœ¨é¡µè„šåŒºåŸŸæ·»åŠ å¯çˆ±çš„å°åŠ¨ç‰©è£…é¥°ï¼Œå¢åŠ ç½‘ç«™è¶£å‘³æ€§å’Œäº²å’ŒåŠ›ã€‚</p><h3 id="ğŸ”§-å®ç°æ­¥éª¤-10">ğŸ”§ å®ç°æ­¥éª¤</h3><h4 id="1-âœï¸-ä¿®æ”¹é¡µè„šæ¨¡æ¿ï¼š">1. âœï¸ ä¿®æ”¹é¡µè„šæ¨¡æ¿ï¼š</h4><p>ä½œè€…åšå®¢ï¼š<a href="https://blog.qjqq.cn/posts/f69c.html">https://blog.qjqq.cn/posts/f69c.html</a></p><p><strong>ä¿®æ”¹<code>[BlogRoot]/themes/solitude/layout/includes/footer.pug</code>æ–‡ä»¶ï¼Œæ–°å¢ä»¥ä¸‹ä»£ç ï¼ˆæˆ‘æ˜¯åœ¨æœ«å°¾æ·»åŠ çš„ï¼‰</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#footer-animal</span><br><span class="line">  .animal-wall</span><br><span class="line">  img.animal(</span><br><span class="line">    src=&quot;https://cdn.meimolihan.eu.org/hexo/img/color.avif&quot;</span><br><span class="line">    alt=&quot;åŠ¨ç‰©&quot;</span><br><span class="line">    onerror=&quot;this.onerror=null;this.src=&#x27;/img/404.jpg&#x27;&quot;</span><br><span class="line">  )</span><br></pre></td></tr></table></figure><ul><li><strong>æ–°å»º <code>[BlogRoot]/source/css/welcome.css</code> æ–‡ä»¶</strong></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* è„šé¡µæ·»åŠ å°åŠ¨ç‰© */</span></span><br><span class="line"><span class="selector-id">#footer-animal</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">20px</span>; <span class="comment">/* ä¸ä¸Šæ–¹å†…å®¹é—´éš” */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#footer-animal</span> <span class="selector-class">.animal-wall</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">36px</span>;</span><br><span class="line">    <span class="attribute">max-width</span>: none;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#bcb0a4</span> <span class="built_in">url</span>(<span class="string">&quot;https://cdn.meimolihan.eu.org/hexo/img/photo.avif&quot;</span>) repeat center;</span><br><span class="line">    <span class="attribute">background-size</span>: auto <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">4px</span> <span class="number">7px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">15</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#footer-animal</span> <span class="selector-tag">img</span><span class="selector-class">.animal</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">974px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">2</span>; <span class="comment">/* ç¡®ä¿åœ¨ .animal-wall ä¸Šæ–¹ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å“åº”å¼è°ƒæ•´ */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">1023px</span>) &#123;</span><br><span class="line">    <span class="selector-id">#footer-animal</span> <span class="selector-class">.animal-wall</span> &#123;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">4vw</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#footer-animal</span> <span class="selector-tag">img</span><span class="selector-class">.animal</span> &#123;</span><br><span class="line">        <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç¡®ä¿é¡µè„šæ•´ä½“æ ·å¼ä¸å—å½±å“ */</span></span><br><span class="line"><span class="selector-id">#footer-bar</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å°åŠ¨ç‰©ç§»åŠ¨ */</span></span><br><span class="line"><span class="comment">/* å®¹å™¨ï¼šå›ºå®šåŠ¨ç”»å…ƒç´ çš„å¸ƒå±€ç©ºé—´ */</span></span><br><span class="line"><span class="selector-class">.animal-container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">120px</span>;  <span class="comment">/* æ ¹æ®åŠ¨ç”»ä½ç§»èŒƒå›´è°ƒæ•´ */</span></span><br><span class="line">    <span class="attribute">height</span>: auto;  <span class="comment">/* ç¡®ä¿é«˜åº¦è¶³å¤Ÿå®¹çº³åŠ¨ç”» */</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">    <span class="attribute">contain</span>: layout paint;  <span class="comment">/* éš”ç¦»å¸ƒå±€å’Œç»˜åˆ¶å½±å“ */</span></span><br><span class="line">    <span class="attribute">perspective</span>: <span class="number">1000px</span>;  <span class="comment">/* å¯ç”¨3Dæ¸²æŸ“ä¸Šä¸‹æ–‡ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åŠ¨ç”»å…ƒç´  */</span></span><br><span class="line"><span class="selector-class">.animal</span> &#123;</span><br><span class="line">    <span class="attribute">animation</span>: sway <span class="number">3s</span> ease-in-out infinite;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">    <span class="attribute">position</span>: relative;  <span class="comment">/* è„±ç¦»æ–‡æ¡£æµï¼Œé¿å…é‡æ’ */</span></span><br><span class="line">    <span class="attribute">will-change</span>: transform;  <span class="comment">/* æå‰ä¼˜åŒ–åŠ¨ç”»æ€§èƒ½ */</span></span><br><span class="line">    <span class="attribute">backface-visibility</span>: hidden;  <span class="comment">/* ä¿®å¤æ¸²æŸ“é—ªçƒ */</span></span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateZ</span>(<span class="number">0</span>);  <span class="comment">/* å¼ºåˆ¶GPUåŠ é€Ÿ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å…³é”®å¸§åŠ¨ç”» */</span></span><br><span class="line"><span class="keyword">@keyframes</span> sway &#123;</span><br><span class="line">    <span class="number">0%</span>, <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">5px</span>) <span class="built_in">translateZ</span>(<span class="number">0</span>);  <span class="comment">/* å‡å°ä½ç§»èŒƒå›´ */</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">50%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">5px</span>) <span class="built_in">translateZ</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åœ¨ä½äº1100pxçš„å±å¹•å®½åº¦ä¸‹å…³é—­åŠ¨ç”» */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">1099px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.animal</span> &#123;</span><br><span class="line">        <span class="attribute">animation</span>: none <span class="meta">!important</span>;  <span class="comment">/* å…³é—­åŠ¨ç”» */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-â•å¼•å…¥-welcome-css">2. â•å¼•å…¥ <code>welcome.css</code></h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/welcome.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-ğŸš€-æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š-2">3. ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="poem-widget"></a></p><h2 id="ğŸ“œ-äºŒåå…­ã€ä»Šæ—¥è¯—è¯ä¾§è¾¹æ ">ğŸ“œ äºŒåå…­ã€ä»Šæ—¥è¯—è¯ä¾§è¾¹æ </h2><h3 id="âœ¨-åŠŸèƒ½ç‰¹ç‚¹-26">âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h3><p>åœ¨ä¾§è¾¹æ æ˜¾ç¤ºéšæœºå¤è¯—è¯ï¼Œæ¯æ—¥æ›´æ–°ï¼Œå¢æ·»æ–‡åŒ–æ°”æ¯ï¼Œæå‡åšå®¢å“å‘³ã€‚</p><h3 id="ğŸ”§-å®ç°æ­¥éª¤-11">ğŸ”§ å®ç°æ­¥éª¤</h3><h4 id="1-â•-åˆ›å»ºè¯—è¯ç»„ä»¶ï¼š">1. â• åˆ›å»ºè¯—è¯ç»„ä»¶ï¼š</h4><p>å¼ æ´ªHeoï¼š<a href="https://blog.zhheo.com/p/2ed9d8dd.html">https://blog.zhheo.com/p/2ed9d8dd.html</a><br>ä»Šæ—¥è¯—è¯APIï¼š<a href="https://www.jinrishici.com/">https://www.jinrishici.com/</a></p><p><strong>åˆ›å»ºç»„ä»¶</strong><br>ä¸»é¢˜æ–°å»º<code>[BlogRoot]/themes/butterfly/layout/includes/widget/card_poem.pug</code>å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#card-poem.card-widget</span><br><span class="line">    #poem_sentence</span><br><span class="line">    #poem_info</span><br><span class="line">        #poem_dynasty</span><br><span class="line">        span.dot &lt;!-- æ’å…¥ä¸€ä¸ªå…ƒç´  --&gt;</span><br><span class="line">        #poem_author</span><br><span class="line">script(src=&#x27;https://cdn.jsdelivr.net/npm/js-heo@1.0.11/poem/jinrishici.js&#x27;, charset=&#x27;utf-8&#x27;)</span><br><span class="line">script(type=&#x27;text/javascript&#x27;).</span><br><span class="line">    jinrishici.load(function(result) &#123;</span><br><span class="line">        var sentence = document.querySelector(&quot;#poem_sentence&quot;)</span><br><span class="line">        var author = document.querySelector(&quot;#poem_author&quot;)</span><br><span class="line">        var dynasty = document.querySelector(&quot;#poem_dynasty&quot;)</span><br><span class="line"></span><br><span class="line">        var sentenceText = result.data.content</span><br><span class="line">        sentenceText = sentenceText.substr(0, sentenceText.length - 1);</span><br><span class="line">        sentence.innerHTML = sentenceText</span><br><span class="line">        dynasty.innerHTML = result.data.origin.dynasty</span><br><span class="line">        author.innerHTML = result.data.origin.author + &#x27;ã€Š&#x27; + result.data.origin.title + &#x27;ã€‹&#x27;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><h4 id="2-ğŸ”¨-é…ç½®ä¾§è¾¹æ å¸ƒå±€">2. ğŸ”¨ é…ç½®ä¾§è¾¹æ å¸ƒå±€</h4><ul><li>å¼•å…¥ç»„ä»¶<ul><li>åœ¨ <code>[BlogRoot]/themes/butterfly/layout/includes/widget/index.pug</code> ä¸­ä½ éœ€è¦çš„ä½ç½®æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!=partial(&#x27;includes/widget/card_poem&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br></pre></td></tr></table></figure><ul><li>å¡«å†™ç¤ºä¾‹ï¼Œå¯ä»¥åœ¨ä¿©ä¸ª</li></ul><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#aside-content.aside-content</span><br><span class="line">  //- post</span><br><span class="line">  if is_post()</span><br><span class="line">    - const tocStyle = page.toc_style_simple</span><br><span class="line">    - const tocStyleVal = tocStyle <span class="comment">=== true || tocStyle === false ? tocStyle : theme.toc.style_simple</span></span><br><span class="line">    if showToc &amp;&amp; tocStyleVal</span><br><span class="line">      .sticky_layout</span><br><span class="line">        include ./card_post_toc.pug</span><br><span class="line">    else</span><br><span class="line">      !=partial(&#x27;includes/widget/card_author&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"><span class="addition">+     !=partial(&#x27;includes/widget/card_poem&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span></span><br><span class="line">      !=partial(&#x27;includes/widget/card_announcement&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">      !=partial(&#x27;includes/widget/card_top_self&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">      .sticky_layout</span><br><span class="line">        if showToc</span><br><span class="line">          include ./card_post_toc.pug</span><br><span class="line">        !=partial(&#x27;includes/widget/card_weibo&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">        !=partial(&#x27;includes/widget/card_recent_post&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">        !=partial(&#x27;includes/widget/card_ad&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">  else</span><br><span class="line">    //- page</span><br><span class="line">    !=partial(&#x27;includes/widget/card_author&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"><span class="addition">+   !=partial(&#x27;includes/widget/card_poem&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span></span><br><span class="line">    !=partial(&#x27;includes/widget/card_announcement&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">    !=partial(&#x27;includes/widget/card_top_self&#x27;, &#123;&#125;, &#123;cache: true&#125;)   </span><br></pre></td></tr></table></figure><ul><li><strong>åˆ›å»º <code>Hexoæ ¹ç›®å½•/source/css/custom.css</code> æ–‡ä»¶ï¼Œå°†ä»£ç å¤åˆ¶ç²˜è´´åˆ°è¯¥æ–‡ä»¶ä¸­ã€‚</strong></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#card-poem</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0.5rem</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">130px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#poem_sentence</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">font-family</span>: serif,cursive;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.9</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0.66rem</span>; <span class="comment">/* è¯—è¯ä¸ä½œè€… é—´è·è°ƒæ•´ */</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1rem</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-light);</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">62px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--theme-color);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-tag">div</span><span class="selector-id">#poem_sentence</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-dark);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* æœä»£ */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#poem_dynasty</span> &#123;</span><br><span class="line">    <span class="attribute">order</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1px</span> <span class="number">5px</span> <span class="number">5px</span> <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-light);</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-tag">div</span><span class="selector-id">#poem_dynasty</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-dark);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* è¯—è¯ä½œè€…å’Œåå­— */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#poem_info</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">0.5rem</span>;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">11px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#poem_author</span> &#123;</span><br><span class="line">    <span class="attribute">order</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-light);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-tag">div</span><span class="selector-id">#poem_author</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--trans-dark);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å°ç‚¹çš„æ ·å¼ */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#poem_info</span> <span class="selector-class">.dot</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">6px</span>; <span class="comment">/* å°ç‚¹çš„å®½åº¦ */</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">6px</span>; <span class="comment">/* å°ç‚¹çš„é«˜åº¦ */</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--theme-color); <span class="comment">/* å°ç‚¹çš„é¢œè‰²ï¼Œä½¿ç”¨ CSS å˜é‡ */</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>; <span class="comment">/* å°†å°ç‚¹å˜æˆåœ†å½¢ */</span></span><br><span class="line">    <span class="attribute">position</span>: relative; <span class="comment">/* ä½¿ç”¨ç›¸å¯¹å®šä½ */</span></span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">6px</span>, <span class="number">15px</span>); <span class="comment">/* å‘å³ç§»åŠ¨ 10 åƒç´ ï¼Œå‘ä¸‹ç§»åŠ¨ 5 åƒç´  */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-â•å¼•å…¥-custom-css">2. â•å¼•å…¥ <code>custom.css</code></h4><ul><li>åœ¨ <code>_config.butterfly.yml</code> æ–‡ä»¶ä¸­æ‰¾åˆ° <code>inject</code> éƒ¨åˆ†ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-ğŸš€-æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š-3">3. ğŸš€ æ¸…ç†å¹¶é‡å¯é¡¹ç›®ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="copy-popup"></a></p><h2 id="ğŸ“‹äºŒåä¸ƒã€å¤åˆ¶å¼¹çª—æé†’">ğŸ“‹äºŒåä¸ƒã€å¤åˆ¶å¼¹çª—æé†’</h2><ul><li><strong>ä¿®æ”¹ <code>_config.butterfly.yml</code></strong></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Snackbar - Toast å¤åˆ¶æé†’é€šçŸ¥</span></span><br><span class="line"><span class="comment"># https://github.com/polonel/SnackBar</span></span><br><span class="line"><span class="comment"># top-left      # é€šçŸ¥ä½ç½®ï¼šå±å¹•å·¦ä¸Šè§’ï¼ˆé»˜è®¤ä½ç½®ï¼‰</span></span><br><span class="line"><span class="comment"># top-center  # é€šçŸ¥ä½ç½®ï¼šå±å¹•é¡¶éƒ¨å±…ä¸­</span></span><br><span class="line"><span class="comment"># top-right     # é€šçŸ¥ä½ç½®ï¼šå±å¹•å³ä¸Šè§’</span></span><br><span class="line"><span class="comment"># bottom-left   # é€šçŸ¥ä½ç½®ï¼šå±å¹•å·¦ä¸‹è§’</span></span><br><span class="line"><span class="comment"># bottom-center# é€šçŸ¥ä½ç½®ï¼šå±å¹•åº•éƒ¨å±…ä¸­</span></span><br><span class="line"><span class="comment"># bottom-right# é€šçŸ¥ä½ç½®ï¼šå±å¹•å³ä¸‹è§’</span></span><br><span class="line"><span class="attr">snackbar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># æ˜¯å¦å¯ç”¨ Snackbar</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">top-center</span> <span class="comment"># é€šçŸ¥ä½ç½®ï¼šå±å¹•é¡¶éƒ¨å±…ä¸­</span></span><br><span class="line">  <span class="comment"># æµ…è‰²æ¨¡å¼å’Œæ·±è‰²æ¨¡å¼ä¸‹çš„é€šçŸ¥èƒŒæ™¯é¢œè‰²</span></span><br><span class="line">  <span class="attr">bg_light:</span> <span class="string">&#x27;#BDB76B&#x27;</span></span><br><span class="line">  <span class="attr">bg_dark:</span> <span class="string">&#x27;#BDB76B&#x27;</span></span><br></pre></td></tr></table></figure><hr><p><a id="butterfly-envelope"></a></p><h2 id="âœ¨-äºŒåå…«ã€ç•™è¨€æ¿-Violet-é£æ ¼">âœ¨ äºŒåå…«ã€ç•™è¨€æ¿ Violet é£æ ¼</h2><p><code>hexo-butterfly-envelope</code> æ˜¯ä¸€æ¬¾ä¸“ä¸º Butterfly ä¸»é¢˜è®¾è®¡çš„ç•™è¨€æ¿æ’ä»¶ã€‚å®ƒä»¥å…¶ç‹¬ç‰¹çš„ä¿¡å°æŠ½æ‹‰åŠ¨ç”»å’Œä¼˜é›…çš„ç´«ç½—å…°ï¼ˆVioletï¼‰é£æ ¼è®¾è®¡è€Œå¤‡å—é’çã€‚</p><h3 id="1-ğŸ“¦-å®‰è£…æ’ä»¶">1.ğŸ“¦ å®‰è£…æ’ä»¶</h3><p>åœ¨åšå®¢æ ¹ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…æ’ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-envelope --save</span><br></pre></td></tr></table></figure><h3 id="2-âš™ï¸-é…ç½®èœå•">2. âš™ï¸ é…ç½®èœå•</h3><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>_config.butterfly.yml</code> ä¸­ï¼Œä¸º <code>menu</code> é¡¹æ·»åŠ ã€ç•™è¨€æ¿ã€‘æ¡ç›®ï¼Œå¹¶æŒ‡å®šå…¶å›¾æ ‡ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">é¦–é¡µ:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">icon-zhuye</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">  <span class="string">æ–‡ç« </span> <span class="string">||</span> <span class="string">icon-wenzhang</span> <span class="string">||</span> <span class="string">faa-tada</span> <span class="string">||</span> <span class="attr">hide:</span></span><br><span class="line">  <span class="string">æ ‡ç­¾:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">icon-biaoqian</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">  <span class="string">åˆ†ç±»:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">icon-fenlei</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br><span class="line">  <span class="string">ç•™è¨€æ¿:</span> <span class="string">/comments/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-envelope</span> <span class="comment"># æ–°å¢æ­¤è¡Œ</span></span><br><span class="line">  <span class="string">å…³äº:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">icon-guanyu1</span> <span class="string">||</span> <span class="string">faa-tada</span></span><br></pre></td></tr></table></figure><h3 id="3-ğŸ”§-é…ç½®è¯¦è§£">3. ğŸ”§ é…ç½®è¯¦è§£</h3><p>ä»¥ä¸‹æ‰€æœ‰é…ç½®å‡éœ€æ·»åŠ åˆ°ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>_config.butterfly.yml</code> ä¸­ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># see https://akilar.top/posts/e2d3c450/</span></span><br><span class="line"><span class="attr">envelope_comment:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#æ§åˆ¶å¼€å…³</span></span><br><span class="line">  <span class="attr">custom_pic:</span></span><br><span class="line">    <span class="attr">cover:</span> <span class="string">https://cdn.meimolihan.eu.org/hexo/violet/violet.webp</span> <span class="comment">#ä¿¡ç¬ºå¤´éƒ¨å›¾ç‰‡</span></span><br><span class="line">    <span class="attr">line:</span> <span class="string">https://cdn.meimolihan.eu.org/hexo/violet/line.png</span> <span class="comment">#ä¿¡ç¬ºåº•éƒ¨å›¾ç‰‡</span></span><br><span class="line">    <span class="attr">beforeimg:</span> <span class="string">https://cdn.meimolihan.eu.org/hexo/violet/before.png</span> <span class="comment"># ä¿¡å°å‰åŠéƒ¨åˆ†</span></span><br><span class="line">    <span class="attr">afterimg:</span> <span class="string">https://cdn.meimolihan.eu.org/hexo/violet/after.png</span> <span class="comment"># ä¿¡å°ååŠéƒ¨åˆ†</span></span><br><span class="line">  <span class="attr">message:</span> <span class="comment">#ä¿¡ç¬ºæ­£æ–‡ï¼Œå¤šè¡Œæ–‡æœ¬ï¼Œå†™æ³•å¦‚ä¸‹</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">æœ‰ä»€ä¹ˆæƒ³é—®çš„ï¼Ÿ</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">æœ‰ä»€ä¹ˆæƒ³è¯´çš„ï¼Ÿ</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">æœ‰ä»€ä¹ˆæƒ³åæ§½çš„ï¼Ÿ</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">å“ªæ€•æ˜¯æœ‰ä»€ä¹ˆæƒ³åƒçš„ï¼Œéƒ½å¯ä»¥å‘Šè¯‰æˆ‘å“¦~</span></span><br><span class="line">  <span class="attr">bottom:</span> <span class="string">è‡ªåŠ¨ä¹¦è®°äººå¶ç«­è¯šä¸ºæ‚¨æœåŠ¡ï¼</span> <span class="comment">#ä»…æ”¯æŒå•è¡Œæ–‡æœ¬</span></span><br><span class="line">  <span class="attr">height:</span> <span class="string">1050px</span> <span class="comment"># ä¿¡å°åˆ’å‡ºçš„é«˜åº¦ï¼Œå¯æ ¹æ®å†…å®¹å¤šå°‘è°ƒæ•´</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">comments</span> <span class="comment"># ã€å¯é€‰ã€‘ç•™è¨€æ¿é¡µé¢çš„è·¯å¾„åç§°ã€‚é»˜è®¤ä¸º commentsï¼Œè®¿é—®åœ°å€æ˜¯ /comments/</span></span><br><span class="line">  <span class="attr">front_matter:</span> <span class="comment"># ã€å¯é€‰ã€‘ä¸ºç•™è¨€æ¿é¡µé¢è®¾ç½®å•ç‹¬çš„ Front Matter</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">ç•™è¨€æ¿</span></span><br><span class="line">    <span class="attr">comments:</span> <span class="literal">true</span> <span class="comment"># ç¡®ä¿æ­¤é¡µé¢çš„è¯„è®ºåŠŸèƒ½æ˜¯å¼€å¯çš„</span></span><br></pre></td></tr></table></figure><h3 id="4-ğŸŒ-CDN-é…ç½®æ¨è">4. ğŸŒ CDN é…ç½®æ¨è</h3><p>ä¸ºäº†åŠ é€Ÿå›¾ç‰‡åŠ è½½ï¼Œå»ºè®®ä½¿ç”¨ CDN æœåŠ¡ã€‚ä»¥ä¸‹æ˜¯ä¸‰ç§æ¨èçš„é…ç½®æ–¹æ¡ˆã€‚</p><h4 id="ğŸš€-jsDelivr-CDN">ğŸš€ jsDelivr CDN</h4><p><a href="https://www.jsdelivr.com/">jsDelivr</a> æ˜¯ä¸€ä¸ªå…è´¹çš„å…¬å…± CDNï¼Œé€Ÿåº¦å¿«ä¸”ç¨³å®šï¼Œéå¸¸é€‚åˆå¼€æºé¡¹ç›®ã€‚<strong>ï¼ˆæ¨èä½¿ç”¨ï¼‰</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom_pic:</span></span><br><span class="line">  <span class="attr">cover:</span> <span class="string">https://cdn.jsdelivr.net/gh/meimolihan/cdn@v1.0.0/hexo/violet/violet.webp</span></span><br><span class="line">  <span class="attr">line:</span> <span class="string">https://cdn.jsdelivr.net/gh/meimolihan/cdn@v1.0.0/hexo/violet/line.png</span></span><br><span class="line">  <span class="attr">beforeimg:</span> <span class="string">https://cdn.jsdelivr.net/gh/meimolihan/cdn@v1.0.0/hexo/violet/before.png</span></span><br><span class="line">  <span class="attr">afterimg:</span> <span class="string">https://cdn.jsdelivr.net/gh/meimolihan/cdn@v1.0.0/hexo/violet/after.png</span></span><br></pre></td></tr></table></figure><h4 id="ğŸ¦„-Vercel-CDN">ğŸ¦„ Vercel CDN</h4><p>å¦‚æœæ‚¨å¸Œæœ›ä½¿ç”¨è‡ªå·±çš„å›¾åºŠï¼Œå¯ä»¥å°†å›¾ç‰‡éƒ¨ç½²åˆ° <a href="https://vercel.com/">Vercel</a> ç­‰å¹³å°ï¼Œè·å¾—æ›´è‡ªä¸»çš„æ§åˆ¶æƒã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom_pic:</span></span><br><span class="line">  <span class="attr">cover:</span> <span class="string">https://cdn.meimolihan.eu.org/hexo/violet/violet.webp</span> <span class="comment">#ä¿¡ç¬ºå¤´éƒ¨å›¾ç‰‡</span></span><br><span class="line">  <span class="attr">line:</span> <span class="string">https://cdn.meimolihan.eu.org/hexo/violet/line.png</span> <span class="comment">#ä¿¡ç¬ºåº•éƒ¨å›¾ç‰‡</span></span><br><span class="line">  <span class="attr">beforeimg:</span> <span class="string">https://cdn.meimolihan.eu.org/hexo/violet/before.png</span> <span class="comment"># ä¿¡å°å‰åŠéƒ¨åˆ†</span></span><br><span class="line">  <span class="attr">afterimg:</span> <span class="string">https://cdn.meimolihan.eu.org/hexo/violet/after.png</span> <span class="comment"># ä¿¡å°ååŠéƒ¨åˆ†</span></span><br></pre></td></tr></table></figure><h4 id="ğŸ¢-å®˜æ–¹-CDN">ğŸ¢ å®˜æ–¹ CDN</h4><p>æ’ä»¶ä¹Ÿæä¾›äº†ç”± npm åˆ†å‘çš„å®˜æ–¹å›¾ç‰‡é“¾æ¥ï¼Œä½œä¸ºå¤‡é€‰æ–¹æ¡ˆã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom_pic:</span></span><br><span class="line">  <span class="attr">cover:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/violet.jpg</span></span><br><span class="line">  <span class="attr">line:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/line.png</span></span><br><span class="line">  <span class="attr">beforeimg:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/before.png</span></span><br><span class="line">  <span class="attr">afterimg:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-envelope/lib/after.png</span></span><br></pre></td></tr></table></figure><hr><p><a id="butterfly-swiper"></a></p><h2 id="äºŒåä¹-ã€ğŸ“–-æ–‡ç« ç½®é¡¶è½®æ’­å›¾">äºŒåä¹ ã€ğŸ“– æ–‡ç« ç½®é¡¶è½®æ’­å›¾</h2><blockquote><p>ğŸš€ æç¤ºï¼šæœ¬æ’ä»¶åŸºäºButterflyä¸»é¢˜æ·±åº¦å®šåˆ¶ï¼Œå®‰è£…åæ— éœ€é¢å¤–æ ·å¼è°ƒæ•´å³å¯å®Œç¾èå…¥æ‚¨çš„åšå®¢è®¾è®¡ã€‚<br><em>ğŸ”— æ’ä»¶ä½œè€…ï¼šAkilar</em><br><em>ğŸŒ æ¥æºï¼š<a href="https://akilar.top/posts/8e1264d1/">https://akilar.top/posts/8e1264d1/</a></em></p></blockquote><h3 id="ğŸ“¦-å®‰è£…æ­¥éª¤">ğŸ“¦ å®‰è£…æ­¥éª¤</h3><p>åœ¨åšå®¢æ ¹ç›®å½•<code>[Blogroot]</code>ä¸‹æ‰“å¼€ç»ˆç«¯ï¼Œè¿è¡Œä»¥ä¸‹å®‰è£…æŒ‡ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-swiper --save</span><br></pre></td></tr></table></figure><h3 id="âš™ï¸-é…ç½®è¯´æ˜">âš™ï¸ é…ç½®è¯´æ˜</h3><p>åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶<code>_config.yml</code>æˆ–è€…ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®æ®µï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-butterfly-swiper</span></span><br><span class="line"><span class="comment"># è¯¦ç»†æ•™ç¨‹è¯·å‚è€ƒï¼šhttps://akilar.top/posts/8e1264d1/</span></span><br><span class="line"><span class="attr">swiper:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># åŠŸèƒ½å¼€å…³</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment"># è¿‡æ»¤å™¨ä¼˜å…ˆæƒ</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">all</span> <span class="comment"># åº”ç”¨é¡µé¢</span></span><br><span class="line">  <span class="attr">timemode:</span> <span class="string">date</span> <span class="comment"># æ—¶é—´æ˜¾ç¤ºæ¨¡å¼ï¼šdate/updated</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># æŒ‚è½½å®¹å™¨é…ç½®</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">default_descr:</span> <span class="string">å†æ€ä¹ˆçœ‹æˆ‘ä¹Ÿä¸çŸ¥é“æ€ä¹ˆæè¿°å®ƒçš„å•¦ï¼</span> <span class="comment"># é»˜è®¤æ–‡ç« æè¿°</span></span><br><span class="line">  <span class="attr">swiper_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css</span> <span class="comment"># swiper cssä¾èµ–</span></span><br><span class="line">  <span class="attr">swiper_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js</span> <span class="comment"># swiper jsä¾èµ–</span></span><br><span class="line">  <span class="attr">custom_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css</span> <span class="comment"># é€‚é…ä¸»é¢˜æ ·å¼è¡¥ä¸</span></span><br><span class="line">  <span class="attr">custom_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js</span> <span class="comment"># swiperåˆå§‹åŒ–æ–¹æ³•</span></span><br></pre></td></tr></table></figure><h3 id="ğŸ”§-å‚æ•°è¯¦è§£">ğŸ”§ å‚æ•°è¯¦è§£</h3><table><thead><tr><th>å‚æ•°</th><th>å¤‡é€‰å€¼/ç±»å‹</th><th>é‡Šä¹‰</th></tr></thead><tbody><tr><td><code>priority</code></td><td>number</td><td>ã€å¯é€‰ã€‘è¿‡æ»¤å™¨ä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå°ï¼Œæ‰§è¡Œè¶Šæ—©ï¼Œé»˜è®¤ä¸º10</td></tr><tr><td><code>enable</code></td><td>true/false</td><td>ã€å¿…é€‰ã€‘åŠŸèƒ½æ§åˆ¶å¼€å…³</td></tr><tr><td><code>enable_page</code></td><td>path/all</td><td>ã€å¯é€‰ã€‘å¡«å†™æƒ³è¦åº”ç”¨çš„é¡µé¢çš„ç›¸å¯¹è·¯å¾„ï¼ˆå³è·¯ç”±åœ°å€ï¼‰ã€‚å¦‚æ ¹ç›®å½•å¡«â€™/â€˜ï¼Œåˆ†ç±»é¡µé¢å¡«â€™/categories/'ã€‚å¡«â€™allâ€™åº”ç”¨äºæ‰€æœ‰é¡µé¢</td></tr><tr><td><code>timemode</code></td><td>date/updated</td><td>ã€å¯é€‰ã€‘æ—¶é—´æ˜¾ç¤ºæ¨¡å¼ï¼Œdateä¸ºåˆ›å»ºæ—¥æœŸï¼Œupdatedä¸ºæ›´æ–°æ—¥æœŸ</td></tr><tr><td><code>layout.type</code></td><td>id/class</td><td>ã€å¯é€‰ã€‘æŒ‚è½½å®¹å™¨ç±»å‹ï¼Œå¡«å†™idæˆ–classï¼Œé»˜è®¤ä¸ºid</td></tr><tr><td><code>layout.name</code></td><td>text</td><td>ã€å¿…é€‰ã€‘æŒ‚è½½å®¹å™¨åç§°</td></tr><tr><td><code>layout.index</code></td><td>0å’Œæ­£æ•´æ•°</td><td>ã€å¯é€‰ã€‘å½“layout.typeä¸ºclassæ—¶ä½¿ç”¨ï¼ŒæŒ‡å®šåŒçº§classä¸­çš„é¡ºä½</td></tr><tr><td><code>default_descr</code></td><td>text</td><td>ã€å¯é€‰ã€‘é»˜è®¤æ–‡ç« æè¿°æ–‡æœ¬</td></tr><tr><td><code>swiper_css</code></td><td>url</td><td>ã€å¯é€‰ã€‘è‡ªå®šä¹‰swiperçš„CSSä¾èµ–é“¾æ¥</td></tr><tr><td><code>swiper_js</code></td><td>url</td><td>ã€å¯é€‰ã€‘è‡ªå®šä¹‰swiperçš„JSä¾èµ–é“¾æ¥</td></tr><tr><td><code>custom_css</code></td><td>url</td><td>ã€å¯é€‰ã€‘ä¸»é¢˜é€‚é…æ ·å¼è¡¥ä¸</td></tr><tr><td><code>custom_js</code></td><td>url</td><td>ã€å¯é€‰ã€‘swiperåˆå§‹åŒ–æ–¹æ³•è„šæœ¬</td></tr></tbody></table><h3 id="ğŸ“-ä½¿ç”¨æ–¹æ³•">ğŸ“ ä½¿ç”¨æ–¹æ³•</h3><p>åœ¨éœ€è¦ç½®é¡¶çš„æ–‡ç« çš„front-matterä¸­æ·»åŠ <code>swiper_index</code>é…ç½®é¡¹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: æ–‡ç« æ ‡é¢˜</span><br><span class="line">date: åˆ›å»ºæ—¥æœŸ</span><br><span class="line">updated: æ›´æ–°æ—¥æœŸ</span><br><span class="line">cover: æ–‡ç« å°é¢</span><br><span class="line">description: æ–‡ç« æè¿°</span><br><span class="line"><span class="section">swiper<span class="emphasis">_index: 1 # ç½®é¡¶è½®æ’­å›¾é¡ºåºï¼Œéè´Ÿæ•´æ•°ï¼ˆ0,1,2,...ï¼‰ï¼Œæ•°å­—è¶Šå¤§è¶Šé å‰</span></span></span><br><span class="line"><span class="emphasis"><span class="section">---</span></span></span><br></pre></td></tr></table></figure><hr><h2 id="ğŸ’«-æ€»ç»“">ğŸ’« æ€»ç»“</h2><p>æœ¬æŒ‡å—è¯¦ç»†ä»‹ç»äº†26ç§Hexoåšå®¢ç¾åŒ–æŠ€å·§ï¼Œä»åŸºç¡€çš„æ ·å¼ä¿®æ”¹åˆ°é«˜çº§çš„äº¤äº’æ•ˆæœï¼Œå…¨æ–¹ä½æå‡åšå®¢çš„è§†è§‰ä½“éªŒå’Œç”¨æˆ·ä½“éªŒã€‚</p><h3 id="ğŸ”§-ä½¿ç”¨å»ºè®®">ğŸ”§ ä½¿ç”¨å»ºè®®</h3><ol><li><strong>æŒ‰éœ€å¯ç”¨</strong>ï¼šæ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„åŠŸèƒ½</li><li><strong>é€æ­¥æµ‹è¯•</strong>ï¼šæ¯æ¬¡åªæ·»åŠ ä¸€ä¸ªåŠŸèƒ½å¹¶è¿›è¡Œæµ‹è¯•</li><li><strong>å®šæœŸå¤‡ä»½</strong>ï¼šä¿®æ”¹å‰å¤‡ä»½åŸå§‹æ–‡ä»¶</li><li><strong>è‡ªå®šä¹‰è°ƒæ•´</strong>ï¼šæ ¹æ®ä¸ªäººå–œå¥½è°ƒæ•´å‚æ•°å’Œæ ·å¼</li></ol><h3 id="ğŸ“š-å­¦ä¹ èµ„æº">ğŸ“š å­¦ä¹ èµ„æº</h3><ul><li><a href="https://hexo.io/zh-cn/docs/">Hexoå®˜æ–¹æ–‡æ¡£</a></li><li><a href="https://butterfly.js.org/">Butterflyä¸»é¢˜æ–‡æ¡£</a></li><li><a href="https://animate.style/">CSSåŠ¨ç”»æŒ‡å—</a></li><li><a href="https://fontawesome.com/">å­—ä½“å›¾æ ‡åº“</a></li></ul><p>ğŸ‰ ç¥ä½ çš„åšå®¢ç¾åŒ–ä¹‹æ—…é¡ºåˆ©ï¼å¦‚æœ‰é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµè®¨è®ºã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Hexo + Butterfly ä¸»é¢˜ç¾åŒ–æŒ‡å— ğŸ¨&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://file.meimolihan.eu.org/img/hexo-01.webp&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;âœ¨ ç‰¹åˆ«è¯´æ˜</summary>
      
    
    
    
    <category term="é»˜è®¤åˆ†ç±»" scheme="https://www.meimolihan.eu.org/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/"/>
    
    
    <category term="hexo" scheme="https://www.meimolihan.eu.org/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo + Butterfly åšå®¢æ­å»ºæŒ‡å— ğŸ¨</title>
    <link href="https://www.meimolihan.eu.org/posts/e3de0347.html"/>
    <id>https://www.meimolihan.eu.org/posts/e3de0347.html</id>
    <published>2025-09-13T02:15:59.000Z</published>
    <updated>2025-09-13T02:15:59.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Hexo + Butterfly åšå®¢æ­å»ºæŒ‡å— ğŸ¨</h1><p><img src="https://file.meimolihan.eu.org/img/hexo-01.webp" alt=""></p><blockquote><p><strong>âœ¨ ç‰¹åˆ«è¯´æ˜</strong><br>æ¬¢è¿è®¿é—®**<a href="https://www.meimolihan.eu.org/">æœ¬ç«™</a>**ï¼æœ¬åšå®¢åŸºäº <strong><a href="https://hexo.io/zh-cn/">Hexo</a></strong> é™æ€æ¡†æ¶ + <strong><a href="https://butterfly.js.org/">Butterfly</a></strong> ä¸»é¢˜æ„å»ºï¼Œå…¼å…·ç®€æ´ç¾è§‚ä¸å¼ºå¤§åŠŸèƒ½ã€‚<br>ğŸ“Œ æœ¬ç«™å†…å®¹ä»…ä¾›å­¦ä¹ äº¤æµï¼Œä¸æ‰¿æ‹…å› ç‰ˆæœ¬å·®å¼‚å¯¼è‡´çš„é—®é¢˜ã€‚å·²é€‚é…ç‰ˆæœ¬ï¼š</p><ul><li>Hexo <code>7.3.0</code></li><li>Butterfly <code>5.5.0</code></li></ul></blockquote><hr><h2 id="ğŸ“‘-å¯¼èˆªç›®å½•">ğŸ“‘ å¯¼èˆªç›®å½•</h2><ul><li><a href="#install-basic-tools">ğŸ› ï¸ ä¸€ã€ä¸‹è½½å®‰è£…åŸºç¡€è¿è¡Œç¨‹åº</a></li><li><a href="#install-hexo">âš™ï¸ äºŒã€å®‰è£… Hexo</a></li><li><a href="#hexo-commands">ğŸ”§ ä¸‰ã€Hexo å¸¸ç”¨å‘½ä»¤</a></li><li><a href="#install-butterfly">ğŸ¨ å››ã€å®‰è£…ä¸é…ç½® Butterfly ä¸»é¢˜</a></li><li><a href="#setup-navigation">ğŸ§­ äº”ã€è®¾ç½®å¯¼èˆªèœå•</a></li><li><a href="#dynamic-effects">âœ¨ å…­ã€åŠ¨æ€ç‰¹æ•ˆä¸åŠŸèƒ½å¢å¼º</a></li><li><a href="#stats-and-search">ğŸ“Š ä¸ƒã€æ•°æ®ç»Ÿè®¡ä¸æœç´¢</a></li><li><a href="#random-cover-api">ğŸ–¼ï¸ å…«ã€éšæœºå°é¢å›¾ API</a></li><li><a href="#subtitle-and-sidebar">ğŸ’« ä¹ã€å‰¯æ ‡é¢˜ä¸ä¾§è¾¹æ ä¼˜åŒ–</a></li><li><a href="#permalinks">ğŸ”— åã€æ°¸ä¹…é“¾æ¥ç”Ÿæˆ</a></li><li><a href="#blog-migration">ğŸ”„ åä¸€ã€åšå®¢è¿ç§»æŒ‡å—</a></li><li><a href="#plugins-and-updates">ğŸ“¦ åäºŒã€æ’ä»¶åˆ—è¡¨ä¸å‡çº§æŒ‡å—</a></li></ul><hr><p><a id="install-basic-tools"></a></p><h2 id="ğŸ› ï¸-ä¸€ã€ä¸‹è½½å®‰è£…åŸºç¡€è¿è¡Œç¨‹åº">ğŸ› ï¸ ä¸€ã€ä¸‹è½½å®‰è£…åŸºç¡€è¿è¡Œç¨‹åº</h2><p>æ­å»ºåšå®¢å‰ï¼Œéœ€å®‰è£…ä»¥ä¸‹åŸºç¡€å·¥å…·ï¼š</p><ol><li><strong>Git</strong>ï¼š<a href="https://git-scm.com/">ä¸‹è½½åœ°å€</a><br>ğŸ“Œ å®‰è£…æ—¶æ³¨æ„å‹¾é€‰â€œAdd Git Bash Hereâ€å’Œâ€œAdd to PATHâ€é€‰é¡¹ã€‚</li><li><strong>Node.js</strong>ï¼š<a href="https://nodejs.org/en/">ä¸‹è½½åœ°å€</a><br>ğŸ“Œ å»ºè®®é€‰æ‹© LTS ç‰ˆæœ¬ï¼Œç¡®ä¿ç¯å¢ƒç¨³å®šæ€§ã€‚</li></ol><h3 id="ğŸ”„-åˆ‡æ¢æ·˜å®é•œåƒåŠ é€Ÿ">ğŸ”„ åˆ‡æ¢æ·˜å®é•œåƒåŠ é€Ÿ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry http://registry.npm.taobao.org/</span><br><span class="line"><span class="comment"># éªŒè¯æ˜¯å¦åˆ‡æ¢æˆåŠŸ</span></span><br><span class="line">npm get registry</span><br></pre></td></tr></table></figure><p>ğŸ”§ å¦‚éœ€åˆ‡æ¢å›å®˜æ–¹æºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https://registry.npmmirror.com/</span><br></pre></td></tr></table></figure><hr><p><a id="install-hexo"></a></p><h2 id="âš™ï¸-äºŒã€å®‰è£…-Hexo">âš™ï¸ äºŒã€å®‰è£… Hexo</h2><h3 id="ğŸŒ-å…¨å±€å®‰è£…-Hexo-CLI">ğŸŒ å…¨å±€å®‰è£… Hexo CLI</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><h3 id="ğŸ“¦-å±€éƒ¨å®‰è£…ï¼ˆå¯é€‰ï¼‰">ğŸ“¦ å±€éƒ¨å®‰è£…ï¼ˆå¯é€‰ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo</span><br></pre></td></tr></table></figure><h3 id="ğŸ”„-å‡çº§-Hexo">ğŸ”„ å‡çº§ Hexo</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm update hexo -g</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹å½“å‰ç‰ˆæœ¬">æŸ¥çœ‹å½“å‰ç‰ˆæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm list hexo</span><br></pre></td></tr></table></figure><hr><p><a id="hexo-commands"></a></p><h2 id="ğŸ”§-ä¸‰ã€Hexo-å¸¸ç”¨å‘½ä»¤">ğŸ”§ ä¸‰ã€Hexo å¸¸ç”¨å‘½ä»¤</h2><h3 id="1-åˆå§‹åŒ–åšå®¢">1. åˆå§‹åŒ–åšå®¢</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo init blog  <span class="comment"># åˆ›å»ºåä¸º blog çš„ç›®å½•å¹¶åˆå§‹åŒ–</span></span><br><span class="line"><span class="built_in">cd</span> blog &amp;&amp; npm install  <span class="comment"># è¿›å…¥ç›®å½•å¹¶å®‰è£…ä¾èµ–</span></span><br></pre></td></tr></table></figure><h3 id="2-å¸¸ç”¨å‘½ä»¤ç»„åˆ">2. å¸¸ç”¨å‘½ä»¤ç»„åˆ</h3><table><thead><tr><th>ç»„åˆå‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code></td><td>æ¸…é™¤ç¼“å­˜ â†’ ç”Ÿæˆé™æ€æ–‡ä»¶ â†’ å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼ˆæ¨èï¼‰</td></tr><tr><td><code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code></td><td>æ¸…é™¤ç¼“å­˜ â†’ ç”Ÿæˆé™æ€æ–‡ä»¶ â†’ éƒ¨ç½²åˆ°è¿œç¨‹ä»“åº“</td></tr><tr><td><code>hexo clean &amp;&amp; hexo g -d</code></td><td>æ¸…é™¤ç¼“å­˜åç›´æ¥ç”Ÿæˆå¹¶éƒ¨ç½²ï¼ˆç®€åŒ–ç‰ˆï¼‰</td></tr><tr><td><code>hexo new &quot;æ–‡ç« æ ‡é¢˜&quot; &amp;&amp; hexo s</code></td><td>åˆ›å»ºæ–°æ–‡ç« åç«‹å³å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨é¢„è§ˆ</td></tr><tr><td><code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s -p 5000</code></td><td>æ¸…é™¤ç¼“å­˜ â†’ ç”Ÿæˆ â†’ åœ¨æŒ‡å®šç«¯å£(5000)å¯åŠ¨æœåŠ¡å™¨</td></tr></tbody></table><hr><p><a id="install-butterfly"></a></p><h2 id="ğŸ¨-å››ã€å®‰è£…ä¸é…ç½®-Butterfly-ä¸»é¢˜">ğŸ¨ å››ã€å®‰è£…ä¸é…ç½® Butterfly ä¸»é¢˜</h2><h3 id="1-å…‹éš†ä¸»é¢˜ä»“åº“">1. å…‹éš†ä¸»é¢˜ä»“åº“</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><h3 id="2-å®‰è£…æ¸²æŸ“å™¨">2. å®‰è£…æ¸²æŸ“å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><h3 id="3-å¯ç”¨ä¸»é¢˜">3. å¯ç”¨ä¸»é¢˜</h3><p>ä¿®æ”¹æ ¹ç›®å½• <code>_config.yml</code>ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">butterfly</span></span><br></pre></td></tr></table></figure><h3 id="4-ä¸»é¢˜é…ç½®ä¼˜åŒ–">4. ä¸»é¢˜é…ç½®ä¼˜åŒ–</h3><p>å°†ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>themes/butterfly/_config.yml</code> ç§»åŠ¨è‡³æ ¹ç›®å½•å¹¶é‡å‘½åä¸º <code>_config.butterfly.yml</code>ï¼Œä¾¿äºç»Ÿä¸€ç®¡ç†ã€‚</p><hr><p><a id="setup-navigation"></a></p><h2 id="ğŸ§­-äº”ã€è®¾ç½®å¯¼èˆªèœå•">ğŸ§­ äº”ã€è®¾ç½®å¯¼èˆªèœå•</h2><h3 id="1-é…ç½®èœå•é¡¹">1. é…ç½®èœå•é¡¹</h3><ul><li><strong>ç¼–è¾‘ <code>_config.butterfly.yml</code></strong></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">ä¸»é¡µ:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="string">æ ‡ç­¾:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">åˆ†ç±»:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">å½’æ¡£:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">å‹é“¾:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="string">å…³äº:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br><span class="line">  <span class="string">ç•™è¨€æ¿:</span> <span class="string">/comment/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-paper-plane</span></span><br></pre></td></tr></table></figure><h3 id="2-åˆ›å»ºèœå•é¡µé¢">2. åˆ›å»ºèœå•é¡µé¢</h3><p>ä½¿ç”¨ Hexo é¡µé¢ç”Ÿæˆå‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">hexo new page tags      <span class="comment"># åˆ›å»ºâ€œæ ‡ç­¾â€é¡µé¢</span></span><br><span class="line">hexo new page categories <span class="comment"># åˆ›å»ºâ€œåˆ†ç±»â€é¡µé¢</span></span><br><span class="line">hexo new page archives   <span class="comment"># åˆ›å»ºâ€œå½’æ¡£â€é¡µé¢</span></span><br><span class="line">hexo new page <span class="built_in">link</span>       <span class="comment"># åˆ›å»ºâ€œå‹é“¾â€é¡µé¢</span></span><br><span class="line">hexo new page about      <span class="comment"># åˆ›å»ºâ€œå…³äºâ€é¡µé¢</span></span><br><span class="line">hexo new page comment    <span class="comment"># åˆ›å»ºâ€œç•™è¨€æ¿â€é¡µé¢</span></span><br></pre></td></tr></table></figure><h3 id="3-å‹é“¾æ•°æ®é…ç½®">3. å‹é“¾æ•°æ®é…ç½®</h3><p>åœ¨ <code>source/_data/link.yml</code> ä¸­é…ç½®å‹é“¾ä¿¡æ¯ï¼ˆç¤ºä¾‹ï¼‰ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">å‹æƒ…é“¾æ¥</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">é‚£äº›äººï¼Œé‚£äº›äº‹</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Hexo</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://hexo.io/zh-tw/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">å¿«é€Ÿã€ç®€å•ä¸”å¼ºå¤§çš„ç½‘å¿—æ¡†æ¶</span></span><br></pre></td></tr></table></figure><h3 id="4-æ–‡ç« æ¨¡æ¿ä¼˜åŒ–">4. æ–‡ç« æ¨¡æ¿ä¼˜åŒ–</h3><p>ç¼–è¾‘ <code>scaffolds/post.md</code> å¯è‡ªå®šä¹‰æ–‡ç«  Front Matterï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> &#123;&#123; <span class="string">title</span> &#125;&#125;</span><br><span class="line"><span class="attr">date:</span> &#123;&#123; <span class="string">date</span> &#125;&#125;</span><br><span class="line"><span class="attr">description:</span> &#123;&#123; <span class="string">description</span> &#125;&#125;</span><br><span class="line"><span class="attr">top_img:</span> &#123;&#123; <span class="string">top_img</span> &#125;&#125;</span><br><span class="line"><span class="attr">sticky:</span> &#123;&#123; <span class="string">sticky</span> &#125;&#125;</span><br><span class="line"><span class="attr">categories:</span></span><br><span class="line">  <span class="bullet">-</span> </span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line">  <span class="bullet">-</span> </span><br><span class="line"><span class="attr">cover:</span> &#123;&#123; <span class="string">cover</span> &#125;&#125;</span><br><span class="line"><span class="attr">updated:</span> &#123;&#123; <span class="string">date</span> &#125;&#125;</span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><hr><p><a id="dynamic-effects"></a></p><h2 id="âœ¨-å…­ã€åŠ¨æ€ç‰¹æ•ˆä¸åŠŸèƒ½å¢å¼º">âœ¨ å…­ã€åŠ¨æ€ç‰¹æ•ˆä¸åŠŸèƒ½å¢å¼º</h2><h3 id="1-åŠ¨æ€å½©å¸¦æ•ˆæœ">1. åŠ¨æ€å½©å¸¦æ•ˆæœ</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">canvas_fluttering_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span>  <span class="comment"># ç§»åŠ¨ç«¯ç¦ç”¨</span></span><br></pre></td></tr></table></figure><h3 id="2-é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ">2. é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">fireworks:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span>  <span class="comment"># å¯å¼€å¯çƒŸèŠ±ç‰¹æ•ˆ</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">9999</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="3-é¡µé¢åŠ è½½åŠ¨ç”»">3. é¡µé¢åŠ è½½åŠ¨ç”»</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">preloader:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">source:</span> <span class="number">1</span>  <span class="comment"># 1=å…¨å±åŠ è½½åŠ¨ç”»ï¼Œ2=è¿›åº¦æ¡</span></span><br></pre></td></tr></table></figure><hr><p><a id="stats-and-search"></a></p><h2 id="ğŸ“Š-ä¸ƒã€æ•°æ®ç»Ÿè®¡ä¸æœç´¢">ğŸ“Š ä¸ƒã€æ•°æ®ç»Ÿè®¡ä¸æœç´¢</h2><h3 id="1-å­—æ•°ç»Ÿè®¡æ’ä»¶">1. å­—æ•°ç»Ÿè®¡æ’ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-wordcount --save or yarn add hexo-wordcount</span><br></pre></td></tr></table></figure><p>é…ç½®ä¸»é¢˜æ–‡ä»¶ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">wordcount:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post_wordcount:</span> <span class="literal">true</span>    <span class="comment"># æ–‡ç« å­—æ•°</span></span><br><span class="line">  <span class="attr">min2read:</span> <span class="literal">true</span>          <span class="comment"># é˜…è¯»æ—¶é—´</span></span><br><span class="line">  <span class="attr">total_wordcount:</span> <span class="literal">true</span>   <span class="comment"># æ€»å­—æ•°ç»Ÿè®¡</span></span><br></pre></td></tr></table></figure><h3 id="2-æœ¬åœ°æœç´¢åŠŸèƒ½">2. æœ¬åœ°æœç´¢åŠŸèƒ½</h3><ul><li><strong>å®‰è£…æœç´¢æ’ä»¶</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><ul><li><strong>åœ¨ <code>_config.yml</code> ä¸»é…ç½®æ–‡ä»¶ä¸­æ·»åŠ </strong></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure><ul><li><strong>åœ¨ <code>_config.butterfly.yml</code> ä¸»é¢˜é…ç½®ä¸­å¯ç”¨</strong></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">use:</span> <span class="string">local_search</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><hr><p><a id="random-cover-api"></a></p><h2 id="ğŸ–¼ï¸-å…«ã€éšæœºå°é¢å›¾-API">ğŸ–¼ï¸ å…«ã€éšæœºå°é¢å›¾ API</h2><h3 id="1-åˆ›å»ºéšæœºå›¾è„šæœ¬">1. åˆ›å»ºéšæœºå›¾è„šæœ¬</h3><ul><li><strong>åœ¨ <code>themes/butterfly/scripts/</code> ä¸‹åˆ›å»º <code>random_img.js</code></strong></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Butterfly</span></span><br><span class="line"><span class="comment"> * random cover</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æå–æ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºå¸¸é‡ï¼Œé¿å…æ¯æ¬¡è°ƒç”¨æ—¶éƒ½é‡æ–°åˆ›å»º</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">IMG_TEST_REG</span> = <span class="regexp">/\.(png|jpe?g|gif|svg|webp)(\?.*)?$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œè¿‡æ»¤å™¨ï¼Œåœ¨æ–‡ç« æ¸²æŸ“å‰å¤„ç†æ–‡ç« æ•°æ®</span></span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">filter</span>.<span class="title function_">register</span>(<span class="string">&#x27;before_post_render&#x27;</span>, <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; config &#125; = <span class="variable language_">this</span>;</span><br><span class="line">    <span class="keyword">const</span> &#123; post_asset_folder &#125; = config;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœå¯ç”¨äº†æ–‡ç« èµ„æºæ–‡ä»¶å¤¹</span></span><br><span class="line">    <span class="keyword">if</span> (post_asset_folder) &#123;</span><br><span class="line">        <span class="title function_">processImagePath</span>(data, <span class="string">&#x27;top_img&#x27;</span>);</span><br><span class="line">        <span class="title function_">processImagePath</span>(data, <span class="string">&#x27;cover&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœæ–‡ç« çš„ cover ä¸º falseï¼Œä½¿ç”¨éšæœºå°é¢</span></span><br><span class="line">    <span class="keyword">if</span> (data.<span class="property">cover</span> === <span class="literal">false</span>) &#123;</span><br><span class="line">        data.<span class="property">randomcover</span> = <span class="title function_">getRandomCover</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// å¦åˆ™ï¼Œä½¿ç”¨æ–‡ç« çš„ cover æˆ–è€…éšæœºå°é¢</span></span><br><span class="line">        data.<span class="property">cover</span> = data.<span class="property">cover</span> || <span class="title function_">getRandomCover</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> data;</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤„ç†å›¾ç‰‡è·¯å¾„çš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">processImagePath</span>(<span class="params">data, key</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> image = data[key];</span><br><span class="line">    <span class="keyword">if</span> (image &amp;&amp; image.<span class="title function_">indexOf</span>(<span class="string">&#x27;/&#x27;</span>) === -<span class="number">1</span> &amp;&amp; <span class="variable constant_">IMG_TEST_REG</span>.<span class="title function_">test</span>(image)) &#123;</span><br><span class="line">        data[key] = data.<span class="property">path</span> + image;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–éšæœºå°é¢çš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getRandomCover</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> theme = hexo.<span class="property">theme</span>.<span class="property">config</span>;</span><br><span class="line">    <span class="keyword">let</span> cover;</span><br><span class="line">    <span class="keyword">let</span> num;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> defaultCovers = theme.<span class="property">cover</span> &amp;&amp; theme.<span class="property">cover</span>.<span class="property">default_cover</span>;</span><br><span class="line">    <span class="keyword">if</span> (defaultCovers) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(defaultCovers)) &#123;</span><br><span class="line">            cover = defaultCovers;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            num = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * defaultCovers.<span class="property">length</span>);</span><br><span class="line">            cover = defaultCovers[num];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        cover = theme.<span class="property">default_top_img</span> || <span class="string">&#x27;data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ ¹æ®é…ç½®æ·»åŠ éšæœºåç¼€</span></span><br><span class="line">    <span class="keyword">if</span> (theme.<span class="property">cover</span> &amp;&amp; theme.<span class="property">cover</span>.<span class="property">suffix</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> randomValue = <span class="title class_">Math</span>.<span class="title function_">ceil</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">10000</span>);</span><br><span class="line">        <span class="keyword">if</span> (theme.<span class="property">cover</span>.<span class="property">suffix</span> === <span class="number">1</span>) &#123;</span><br><span class="line">            cover += <span class="string">`?<span class="subst">$&#123;randomValue&#125;</span>`</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (theme.<span class="property">cover</span>.<span class="property">suffix</span> === <span class="number">2</span>) &#123;</span><br><span class="line">            cover += <span class="string">`&amp;<span class="subst">$&#123;randomValue&#125;</span>`</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> cover;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://file.meimolihan.eu.org/screenshot/random_img-01.jpg" alt="æ•ˆæœ"></p><h3 id="2-é…ç½®å°é¢è®¾ç½®">2. é…ç½®å°é¢è®¾ç½®</h3><ul><li><strong>åœ¨ <code>_config.butterfly.yml</code>  ä¸»é¢˜é…ç½®ä¸­ä¿®æ”¹</strong></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">both</span></span><br><span class="line">  <span class="attr">suffix:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">default_cover:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://api.mobufan.eu.org:666</span>  <span class="comment"># éšæœºå›¾API</span></span><br></pre></td></tr></table></figure><hr><p><a id="subtitle-and-sidebar"></a></p><h2 id="ğŸ’«-ä¹ã€å‰¯æ ‡é¢˜ä¸ä¾§è¾¹æ ä¼˜åŒ–">ğŸ’« ä¹ã€å‰¯æ ‡é¢˜ä¸ä¾§è¾¹æ ä¼˜åŒ–</h2><h3 id="1-åŠ¨æ€å‰¯æ ‡é¢˜è®¾ç½®-config-butterfly-yml">1. åŠ¨æ€å‰¯æ ‡é¢˜è®¾ç½®  <code>_config.butterfly.yml</code></h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">subtitle:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">true</span>  <span class="comment"># æ‰“å­—æœºæ•ˆæœ</span></span><br><span class="line">  <span class="attr">source:</span> <span class="number">1</span>     <span class="comment"># è°ƒç”¨ä¸€è¨€API</span></span><br><span class="line">  <span class="attr">sub:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">ä½ åœ¨æŠ±æ€¨ä»€ä¹ˆå‘¢</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">ä¸ºæ˜å¤©åˆ°æ¥çš„äº‹ï¼Œè¯´äººç”Ÿåƒæ˜¯æ²¡æœ‰æ„ä¹‰</span></span><br></pre></td></tr></table></figure><h3 id="2-ä¾§è¾¹æ é…ç½®-config-butterfly-yml">2. ä¾§è¾¹æ é…ç½®  <code>_config.butterfly.yml</code></h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="comment"># ä¾§è¾¹æ è®¾ç½®</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>      <span class="comment"># å¯ç”¨ä¾§è¾¹æ </span></span><br><span class="line">  <span class="attr">hide:</span> <span class="literal">false</span>       <span class="comment"># é»˜è®¤ä¸éšè—</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span>      <span class="comment"># æ˜¾ç¤ºéšè—ä¾§è¾¹æ çš„æŒ‰é’®ï¼ˆå³ä¸‹è§’ï¼‰</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span>      <span class="comment"># åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå¯ç”¨</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span>   <span class="comment"># ä¾§è¾¹æ ä½ç½®ï¼šleft / right</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment"># é¡µé¢æ˜¾ç¤ºè®¾ç½®</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">archive:</span> <span class="literal">true</span>   <span class="comment"># åœ¨å½’æ¡£é¡µé¢æ˜¾ç¤º</span></span><br><span class="line">    <span class="attr">tag:</span> <span class="literal">true</span>       <span class="comment"># åœ¨æ ‡ç­¾é¡µé¢æ˜¾ç¤º</span></span><br><span class="line">    <span class="attr">category:</span> <span class="literal">true</span>  <span class="comment"># åœ¨åˆ†ç±»é¡µé¢æ˜¾ç¤º</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment"># ä½œè€…ä¿¡æ¯å¡ç‰‡</span></span><br><span class="line">  <span class="attr">card_author:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span>    <span class="comment"># æ˜¾ç¤ºä½œè€…å¡ç‰‡</span></span><br><span class="line">    <span class="attr">description:</span>    <span class="comment"># ä½œè€…æè¿°</span></span><br><span class="line">    <span class="attr">button:</span></span><br><span class="line">      <span class="attr">enable:</span> <span class="literal">true</span>  <span class="comment"># æ˜¾ç¤ºæŒ‰é’®</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">fab</span> <span class="string">fa-github</span>  <span class="comment"># æŒ‰é’®å›¾æ ‡</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">GitHub</span>  <span class="comment"># æŒ‰é’®æ–‡æœ¬</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://github.com/meimolihan</span>  <span class="comment"># æŒ‰é’®é“¾æ¥</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment"># å…¬å‘Šå¡ç‰‡</span></span><br><span class="line">  <span class="attr">card_announcement:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span>    <span class="comment"># æ˜¾ç¤ºå…¬å‘Šå¡ç‰‡</span></span><br><span class="line">    <span class="attr">content:</span> <span class="string">&lt;center&gt;&lt;b&gt;---</span> <span class="string">ä¸»åŸŸå</span> <span class="string">---&lt;br&gt;&lt;a</span> <span class="string">href=&quot;https://www.meimolihan.eu.org&quot;</span> <span class="string">title=&quot;æ­¤çº¿è·¯éƒ¨ç½²äºVercel&quot;</span> <span class="string">class=&quot;anno_content&quot;&gt;&lt;font</span> <span class="string">color=&quot;#5ea6e5&quot;&gt;www.meimolihan.eu.org&lt;/font&gt;&lt;/a&gt;&amp;nbsp;|&amp;nbsp;&lt;a</span> <span class="string">href=&quot;https://meimolihan.eu.org&quot;</span> <span class="string">title=&quot;æ­¤çº¿è·¯éƒ¨ç½²äºVercel&quot;</span> <span class="string">class=&quot;anno_content&quot;&gt;&lt;font</span> <span class="string">color=&quot;#5ea6e5&quot;&gt;meimolihan.eu.org&lt;/font&gt;&lt;/a&gt;&lt;/b&gt;&lt;/center&gt;</span></span><br></pre></td></tr></table></figure><hr><p><a id="permalinks"></a></p><h2 id="ğŸ”—-åã€æ°¸ä¹…é“¾æ¥ç”Ÿæˆ">ğŸ”— åã€æ°¸ä¹…é“¾æ¥ç”Ÿæˆ</h2><p><strong>æ’ä»¶é“¾æ¥: <a href="https://github.com/ohroy/hexo-abbrlink">xo-abbrlink</a></strong></p><h3 id="1-å®‰è£…-abbrlink-æ’ä»¶">1. å®‰è£… abbrlink æ’ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><h3 id="2-é…ç½®æ°¸ä¹…é“¾æ¥">2. é…ç½®æ°¸ä¹…é“¾æ¥</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">permalink_defaults:</span> <span class="comment"># é»˜è®¤æ°¸ä¹…é“¾æ¥æ ¼å¼</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:abbrlink.html</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># abbrlink æ–‡ç« ç¼©å†™é“¾æ¥ç”Ÿæˆé…ç½®</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line">  <span class="attr">alg:</span> <span class="string">crc32</span>       <span class="comment"># ç”Ÿæˆç®—æ³•ï¼šå¯é€‰ crc16ï¼ˆé»˜è®¤ï¼‰æˆ– crc32</span></span><br><span class="line">  <span class="attr">rep:</span> <span class="string">hex</span>         <span class="comment"># é“¾æ¥æ ¼å¼ï¼šdecï¼ˆåè¿›åˆ¶ï¼‰æˆ– hexï¼ˆåå…­è¿›åˆ¶ï¼‰</span></span><br><span class="line">  <span class="attr">drafts:</span> <span class="literal">false</span>    <span class="comment"># æ˜¯å¦å¤„ç†è‰ç¨¿æ–‡ç« </span></span><br><span class="line">  <span class="attr">auto_category:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span>   <span class="comment"># æ˜¯å¦è‡ªåŠ¨ä»æ–‡ä»¶è·¯å¾„ç”Ÿæˆåˆ†ç±»</span></span><br><span class="line">    <span class="attr">depth:</span> <span class="number">3</span>       <span class="comment"># ç”Ÿæˆåˆ†ç±»çš„æœ€å¤§ç›®å½•æ·±åº¦</span></span><br><span class="line">    <span class="attr">over_write:</span> <span class="literal">false</span> <span class="comment"># æ˜¯å¦è¦†ç›–å·²æœ‰åˆ†ç±»</span></span><br><span class="line">  <span class="attr">auto_title:</span> <span class="literal">false</span> <span class="comment"># æ˜¯å¦æ ¹æ®è·¯å¾„è‡ªåŠ¨ç”Ÿæˆæ ‡é¢˜</span></span><br><span class="line">  <span class="attr">auto_date:</span> <span class="literal">false</span>  <span class="comment"># æ˜¯å¦è‡ªåŠ¨å¡«å……å½“å‰æ—¥æœŸ</span></span><br><span class="line">  <span class="attr">force:</span> <span class="literal">false</span>      <span class="comment"># æ˜¯å¦å¼ºåˆ¶é‡æ–°ç”Ÿæˆæ‰€æœ‰é“¾æ¥ï¼ˆå¿½ç•¥ç¼“å­˜ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ°¸ä¹…é“¾æ¥ç¾åŒ–è®¾ç½®</span></span><br><span class="line"><span class="attr">pretty_urls:</span></span><br><span class="line">  <span class="attr">trailing_index:</span> <span class="literal">true</span>  <span class="comment"># falseï¼šé“¾æ¥ä¸­ç§»é™¤ index.html</span></span><br><span class="line">  <span class="attr">trailing_html:</span> <span class="literal">true</span>  <span class="comment"># falseï¼šç§»é™¤é“¾æ¥æœ«å°¾çš„ .html åç¼€</span></span><br></pre></td></tr></table></figure><p><font color=#98FB98 size=4 face="STCAIYUN">ğŸŸ¡ è­¦å‘Šï¼šè°¨æ…ä¿®æ”¹ï¼Œä¸ç„¶éƒ¨ç½²åˆ° Vercel æ–‡ç« æ— æ³•è§£æ</font></p><h3 id="3-é…ç½®è¯´æ˜">3. é…ç½®è¯´æ˜</h3><h4 id="crc16">crc16</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">crc16 &amp; hex</span><br><span class="line"><span class="attr">http</span>:<span class="comment">//localhost:4000/posts/66c8</span></span><br><span class="line"></span><br><span class="line">crc16 &amp; dec</span><br><span class="line"><span class="attr">http</span>:<span class="comment">//localhost:4000/posts/65535</span></span><br></pre></td></tr></table></figure><h4 id="crc32">crc32</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">crc32 &amp; hex</span><br><span class="line"><span class="attr">http</span>:<span class="comment">//localhost:4000/posts/8ddf18fb</span></span><br><span class="line"></span><br><span class="line">crc32 &amp; dec</span><br><span class="line"><span class="attr">http</span>:<span class="comment">//localhost:4000/posts/1690090958</span></span><br></pre></td></tr></table></figure><hr><p><a id="blog-migration"></a></p><h2 id="ğŸ”„-åä¸€ã€åšå®¢è¿ç§»æŒ‡å—">ğŸ”„ åä¸€ã€åšå®¢è¿ç§»æŒ‡å—</h2><h3 id="ğŸ–¥ï¸-æ–°ç”µè„‘ç¯å¢ƒé…ç½®">ğŸ–¥ï¸ æ–°ç”µè„‘ç¯å¢ƒé…ç½®</h3><ol><li><strong>Git</strong>ï¼š<a href="https://git-scm.com/">ä¸‹è½½åœ°å€</a><br>ğŸ“Œ å®‰è£…æ—¶æ³¨æ„å‹¾é€‰â€œAdd Git Bash Hereâ€å’Œâ€œAdd to PATHâ€é€‰é¡¹ã€‚</li><li><strong>Node.js</strong>ï¼š<a href="https://nodejs.org/en/">ä¸‹è½½åœ°å€</a><br>ğŸ“Œ å»ºè®®é€‰æ‹© LTS ç‰ˆæœ¬ï¼Œç¡®ä¿ç¯å¢ƒç¨³å®šæ€§ã€‚</li><li>å…³é—­ SSL ä¸¥æ ¼æ¨¡å¼ï¼ˆè§£å†³è¯ä¹¦é—®é¢˜ï¼‰ï¼š <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="built_in">set</span> strict-ssl <span class="literal">false</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="ğŸ“¦-è¿ç§»é¡¹ç›®æ–‡ä»¶">ğŸ“¦ è¿ç§»é¡¹ç›®æ–‡ä»¶</h3><ul><li><strong>æ‹·è´ä»¥ä¸‹æ–‡ä»¶åˆ°æ–°é¡¹ç›®ï¼š</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- `_config.yml`</span><br><span class="line">- `_config.butterfly.yml`</span><br><span class="line">- `themes/`</span><br><span class="line">- `<span class="built_in">source</span>/`</span><br><span class="line">- `scaffolds/`</span><br><span class="line">- `package.json`</span><br><span class="line">- `.gitignore`</span><br></pre></td></tr></table></figure><h3 id="ğŸ”‘-SSHå¯†é’¥é‡æ–°é…ç½®">ğŸ”‘ SSHå¯†é’¥é‡æ–°é…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;YourName&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;your@email.com&quot;</span></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;your@email.com&quot;</span></span><br><span class="line"><span class="comment"># å°†æ–°å…¬é’¥æ·»åŠ åˆ°GitHub</span></span><br></pre></td></tr></table></figure><h3 id="ğŸš€-éƒ¨ç½²æµ‹è¯•">ğŸš€ éƒ¨ç½²æµ‹è¯•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g </span><br><span class="line">npm install</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">hexo clean; hexo g; hexo s</span><br></pre></td></tr></table></figure><hr><p><a id="plugins-and-updates"></a></p><h2 id="ğŸ“¦-åäºŒã€æ’ä»¶åˆ—è¡¨ä¸å‡çº§æŒ‡å—">ğŸ“¦ åäºŒã€æ’ä»¶åˆ—è¡¨ä¸å‡çº§æŒ‡å—</h2><h3 id="ğŸ”„-å…¨å±€å®‰è£…-å‡çº§-Hexo-åŠç›¸å…³å·¥å…·å¸¸ç”¨å‘½ä»¤">ğŸ”„ å…¨å±€å®‰è£…/å‡çº§ Hexo åŠç›¸å…³å·¥å…·å¸¸ç”¨å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. å…¨å±€å®‰è£… Hexo å‘½ä»¤è¡Œå·¥å…·ï¼ˆhexo-cliï¼‰</span></span><br><span class="line">npm i hexo-cli -g</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. å…¨å±€å®‰è£… npm-checkï¼šæ£€æŸ¥è¿‡æ—¶ã€æœªä½¿ç”¨ã€å¯å‡çº§çš„ä¾èµ–</span></span><br><span class="line">npm install -g npm-check</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. å…¨å±€å®‰è£… npm-upgradeï¼šäº¤äº’å¼æ‰¹é‡å‡çº§ä¾èµ–ç‰ˆæœ¬</span></span><br><span class="line">npm install -g npm-upgrade</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. è¿è¡Œ npm-checkï¼ŒæŸ¥çœ‹å½“å‰é¡¹ç›®ä¾èµ–çš„å¥åº·çŠ¶å†µ</span></span><br><span class="line">npm-check</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. è¿è¡Œ npm-upgradeï¼Œäº¤äº’å¼é€‰æ‹©è¦å‡çº§çš„ä¾èµ–</span></span><br><span class="line">npm-upgrade</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6. å‡çº§æ‰€æœ‰**å…¨å±€**å®‰è£…çš„åŒ…åˆ°æœ€æ–°ç‰ˆæœ¬</span></span><br><span class="line">npm update -g</span><br><span class="line"></span><br><span class="line"><span class="comment"># 7. æ ¹æ® package.json èŒƒå›´è§„åˆ™ï¼Œå‡çº§**å½“å‰é¡¹ç›®**çš„ä¾èµ–ï¼Œå¹¶è‡ªåŠ¨ä¿®æ”¹ package.json ä¸ package-lock.json</span></span><br><span class="line">npm update --save</span><br></pre></td></tr></table></figure><hr><h3 id="ğŸ§©-å¸¸ç”¨æ’ä»¶åˆ—è¡¨">ğŸ§© å¸¸ç”¨æ’ä»¶åˆ—è¡¨</h3><table><thead><tr><th>æ’ä»¶åç§°</th><th>åŠŸèƒ½æè¿°</th><th>å®‰è£…å‘½ä»¤</th></tr></thead><tbody><tr><td>hexo-wordcount</td><td>å­—æ•°ç»Ÿè®¡</td><td><code>npm install hexo-wordcount --save</code></td></tr><tr><td>hexo-abbrlink</td><td>æ°¸ä¹…é“¾æ¥</td><td><code>npm install hexo-abbrlink --save</code></td></tr><tr><td>hexo-generator-search</td><td>æœ¬åœ°æœç´¢</td><td><code>npm install hexo-generator-search --save</code></td></tr><tr><td>hexo-deployer-git</td><td>Gitéƒ¨ç½²</td><td><code>npm install hexo-deployer-git --save</code></td></tr></tbody></table><blockquote><p>ğŸ“ æ›´å¤šæ’ä»¶è¯·å‚è€ƒåŸæ–‡ä¸­çš„å®Œæ•´æ’ä»¶è¡¨æ ¼ï¼ŒæŒ‰éœ€å®‰è£…ä½¿ç”¨ã€‚</p></blockquote><hr><p><strong>ğŸ‰ æ­å–œï¼</strong> æ‚¨å·²å®Œæˆ Hexo åšå®¢çš„æ­å»ºä¸ç¾åŒ–ã€‚å¦‚æœ‰é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Hexo + Butterfly åšå®¢æ­å»ºæŒ‡å— ğŸ¨&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://file.meimolihan.eu.org/img/hexo-01.webp&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;âœ¨ ç‰¹åˆ«è¯´æ˜</summary>
      
    
    
    
    <category term="é»˜è®¤åˆ†ç±»" scheme="https://www.meimolihan.eu.org/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/"/>
    
    
    <category term="hexo" scheme="https://www.meimolihan.eu.org/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Docker éƒ¨ç½²å—å¢™ WAF ğŸ›¡ï¸</title>
    <link href="https://www.meimolihan.eu.org/posts/29e622ca.html"/>
    <id>https://www.meimolihan.eu.org/posts/29e622ca.html</id>
    <published>2025-09-13T01:38:19.000Z</published>
    <updated>2025-09-13T01:38:19.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Docker éƒ¨ç½²å—å¢™ WAF ğŸ›¡ï¸</h1><p><img src="https://file.meimolihan.eu.org/img/docker-uuwaf-01.webp" alt=""></p><hr><h2 id="ğŸ“‹-ç›®å½•å¯¼èˆª">ğŸ“‹ ç›®å½•å¯¼èˆª</h2><ul><li><a href="#project-intro">ğŸ¯ é¡¹ç›®ç®€ä»‹</a></li><li><a href="#features">ğŸ› ï¸ æ ¸å¿ƒç‰¹æ€§</a></li><li><a href="#deploy">ğŸ³ Docker éƒ¨ç½²å—å¢™ WAF</a><ul><li><a href="#auto-install">1. Linux è‡ªåŠ¨å®‰è£…</a></li><li><a href="#manual-deploy">2. Docker æ‰‹åŠ¨éƒ¨ç½²</a><ul><li><a href="#deploy-setup">åˆ›å»ºéƒ¨ç½²ç›®å½•å’Œé…ç½®æ–‡ä»¶</a></li><li><a href="#deploy-start">æ‹‰å–é•œåƒå¹¶å¯åŠ¨å®¹å™¨</a></li></ul></li></ul></li><li><a href="#usage">ğŸš€ ä½¿ç”¨å—å¢™ WAF</a><ul><li><a href="#usage-access">1. è®¿é—® Web ç•Œé¢</a></li><li><a href="#usage-first">2. é¦–æ¬¡ä½¿ç”¨æ­¥éª¤</a></li></ul></li><li><a href="#nginx">ğŸŒ Nginx åå‘ä»£ç†é…ç½®</a><ul><li><a href="#nginx-config">1. åˆ›å»º Nginx é…ç½®æ–‡ä»¶</a></li><li><a href="#nginx-reload">2. æµ‹è¯•å¹¶é‡è½½ Nginx</a></li></ul></li><li><a href="#maintenance">ğŸ”§ å®¹å™¨ç»´æŠ¤å‘½ä»¤</a><ul><li><a href="#docker-compose">1. Docker Compose å‘½ä»¤</a></li><li><a href="#docker">2. Docker å®¹å™¨å‘½ä»¤</a></li><li><a href="#docker-images">3. Docker é•œåƒç®¡ç†</a></li></ul></li><li><a href="#conclusion">ğŸŒŸ å¼€å¯å®‰å…¨é˜²æŠ¤æ–°ç¯‡ç« </a></li></ul><hr><p><a id="project-intro"></a></p><h2 id="ğŸ¯-é¡¹ç›®ç®€ä»‹">ğŸ¯ é¡¹ç›®ç®€ä»‹</h2><p>å—å¢™ WAF (UUsec WAF) æ˜¯ä¸€æ¬¾åŸºäº Docker å®¹å™¨åŒ–éƒ¨ç½²çš„ Web åº”ç”¨é˜²ç«å¢™ï¼Œä¸“ä¸ºç°ä»£ Web åº”ç”¨æä¾›å…¨æ–¹ä½å®‰å…¨é˜²æŠ¤ã€‚å®ƒèƒ½å¤Ÿæœ‰æ•ˆé˜²å¾¡ SQL æ³¨å…¥ã€XSS è·¨ç«™è„šæœ¬ã€CSRF æ”»å‡»ã€æ¶æ„çˆ¬è™«ç­‰å¸¸è§ Web å®‰å…¨å¨èƒï¼ŒåŒæ—¶å…·å¤‡é«˜æ€§èƒ½ã€æ˜“éƒ¨ç½²ã€å¯è§†åŒ–ç®¡ç†ç­‰ä¼˜åŠ¿ã€‚</p><ul><li><strong>ğŸŒ å—å¢™ WAF å®˜ç½‘åœ°å€ï¼š<a href="https://waf.uusec.com/">https://waf.uusec.com/</a></strong></li><li><strong>ğŸ± GitHub é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/Safe3/uusec-waf">https://github.com/Safe3/uusec-waf</a></strong></li></ul><p><a id="features"></a></p><h2 id="ğŸ› ï¸-æ ¸å¿ƒç‰¹æ€§">ğŸ› ï¸ æ ¸å¿ƒç‰¹æ€§</h2><p>âœ¨ <strong>å…¨é¢é˜²æŠ¤</strong> - æ”¯æŒå¤šç§ Web æ”»å‡»æ£€æµ‹å’Œé˜²å¾¡ï¼ŒåŒ…æ‹¬ OWASP Top 10 å¸¸è§æ¼æ´<br>ğŸš€ <strong>é«˜æ€§èƒ½</strong> - åŸºäºæ™ºèƒ½å¼•æ“ï¼Œä½å»¶è¿Ÿã€é«˜å¹¶å‘å¤„ç†èƒ½åŠ›ï¼Œä¸å½±å“ä¸šåŠ¡æ­£å¸¸è®¿é—®<br>ğŸ”§ <strong>æ˜“äºéƒ¨ç½²</strong> - æä¾› Docker ä¸€é”®éƒ¨ç½²æ–¹æ¡ˆï¼Œæ”¯æŒå¤šç§ç¯å¢ƒå¿«é€Ÿå®‰è£…<br>ğŸ“Š <strong>å¯è§†åŒ–ç®¡ç†</strong> - æä¾›å‹å¥½çš„ç®¡ç†ç•Œé¢ï¼Œå®æ—¶å±•ç¤ºå®‰å…¨æ€åŠ¿å’Œæ”»å‡»æ—¥å¿—<br>ğŸ›¡ï¸ <strong>æ™ºèƒ½å­¦ä¹ </strong> - æ”¯æŒæ­£å¸¸æµé‡å­¦ä¹ ï¼Œé™ä½è¯¯æŠ¥ç‡ï¼Œæé«˜é˜²æŠ¤ç²¾åº¦<br>ğŸŒ <strong>çµæ´»æ‰©å±•</strong> - æ”¯æŒè‡ªå®šä¹‰è§„åˆ™ï¼Œå¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚çµæ´»è°ƒæ•´é˜²æŠ¤ç­–ç•¥</p><hr><p><a id="deploy"></a></p><h2 id="ğŸ³-Docker-éƒ¨ç½²å—å¢™-WAF">ğŸ³ Docker éƒ¨ç½²å—å¢™ WAF</h2><p>å—å¢™ WAF æä¾›ä¸¤ç§éƒ¨ç½²æ–¹å¼ï¼šLinux è‡ªåŠ¨å®‰è£…å’Œ Docker æ‰‹åŠ¨éƒ¨ç½²ã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©é€‚åˆçš„æ–¹å¼ã€‚</p><p><a id="auto-install"></a></p><h3 id="1-Linux-è‡ªåŠ¨å®‰è£…å‘½ä»¤">1. Linux è‡ªåŠ¨å®‰è£…å‘½ä»¤</h3><p>ğŸ“¦ ä¸€é”®å®‰è£…ï¼š3 åˆ†é’Ÿå³å¯å®Œæˆè‡ªåŠ¨å®‰è£…ï¼Œé€‚åˆå¿«é€Ÿéƒ¨ç½²åœºæ™¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> bash -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://waf.uusec.com/installer.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure><p><a id="manual-deploy"></a></p><h3 id="2-Docker-æ‰‹åŠ¨éƒ¨ç½²">2. Docker æ‰‹åŠ¨éƒ¨ç½²</h3><p><a id="deploy-setup"></a></p><h4 id="åˆ›å»ºéƒ¨ç½²ç›®å½•å’Œé…ç½®æ–‡ä»¶-ğŸ“">åˆ›å»ºéƒ¨ç½²ç›®å½•å’Œé…ç½®æ–‡ä»¶ ğŸ“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºéƒ¨ç½²ç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> -p /vol1/1000/compose/uuwaf &amp;&amp; <span class="built_in">cd</span> <span class="variable">$_</span> &amp;&amp; \</span><br><span class="line"><span class="built_in">cat</span> &gt; docker-compose.yml &lt;&lt;<span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">services:</span><br><span class="line">  uuwaf:</span><br><span class="line">    image: uusec/waf:7.0.3</span><br><span class="line">    ulimits:</span><br><span class="line">      <span class="built_in">nproc</span>: 65535</span><br><span class="line">      nofile:</span><br><span class="line">        soft: 102400</span><br><span class="line">        hard: 102400</span><br><span class="line">    container_name: uuwaf</span><br><span class="line">    networks:</span><br><span class="line">      - 1panel-network</span><br><span class="line">    ports:</span><br><span class="line">      - 880:80</span><br><span class="line">      - 666:443</span><br><span class="line">      - 4443:4443</span><br><span class="line">    volumes:</span><br><span class="line">      - /etc/localtime:/etc/localtime:ro  <span class="comment"># ä¿®æ”¹ä¸ºä½¿ç”¨ç³»ç»Ÿæ—¶åŒºæ–‡ä»¶</span></span><br><span class="line">      - /etc/timezone:/etc/timezone:ro    <span class="comment"># æ·»åŠ æ—¶åŒºé…ç½®æ–‡ä»¶</span></span><br><span class="line">      - ./waf_config:/uuwaf/web/conf</span><br><span class="line">      - ./waf_acme:/uuwaf/acme</span><br><span class="line">      - ./waf_logs:/uuwaf/logs</span><br><span class="line">    environment:</span><br><span class="line">      - TZ=Asia/Shanghai                  <span class="comment"># æ·»åŠ æ—¶åŒºç¯å¢ƒå˜é‡</span></span><br><span class="line">      - UUWAF_MYSQL_PASSWORD=Safe3.WAF</span><br><span class="line">      - UUWAF_RESOLVER=resolver 127.0.0.11 valid=30s ipv6=off;</span><br><span class="line">    depends_on:</span><br><span class="line">      wafdb:</span><br><span class="line">        condition: service_healthy</span><br><span class="line">  wafdb:</span><br><span class="line">    image: mysql:5.7.44</span><br><span class="line">    container_name: uuwaf-db</span><br><span class="line">    networks:</span><br><span class="line">      - 1panel-network</span><br><span class="line">    volumes:</span><br><span class="line">      - /etc/timezone:/etc/timezone:ro    <span class="comment"># ä¿®æ”¹ä¸ºä½¿ç”¨ç³»ç»Ÿæ—¶åŒºæ–‡ä»¶</span></span><br><span class="line">      - /etc/localtime:/etc/localtime:ro  <span class="comment"># ä¿®æ”¹ä¸ºä½¿ç”¨ç³»ç»Ÿæ—¶åŒºæ–‡ä»¶</span></span><br><span class="line">      - ./waf_data:/var/lib/mysql</span><br><span class="line">    environment:</span><br><span class="line">      - TZ=Asia/Shanghai                  <span class="comment"># æ·»åŠ æ—¶åŒºç¯å¢ƒå˜é‡</span></span><br><span class="line">      - MYSQL_ROOT_PASSWORD=Safe3.WAF</span><br><span class="line">    <span class="built_in">command</span>: [<span class="string">&quot;--max_connections=512&quot;</span>]</span><br><span class="line">    healthcheck:</span><br><span class="line">      <span class="built_in">test</span>: [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;mysqladmin&quot;</span>, <span class="string">&quot;-uroot&quot;</span>, <span class="string">&quot;-pSafe3.WAF&quot;</span>, <span class="string">&quot;ping&quot;</span>, <span class="string">&quot;-h&quot;</span>, <span class="string">&quot;127.0.0.1&quot;</span>, <span class="string">&quot;--silent&quot;</span>]</span><br><span class="line">      start_period: 3s</span><br><span class="line">      interval: 5s</span><br><span class="line">      <span class="built_in">timeout</span>: 3s</span><br><span class="line">      retries: 10</span><br><span class="line"></span><br><span class="line">networks:</span><br><span class="line">  1panel-network:</span><br><span class="line">    external: <span class="literal">true</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p><a id="deploy-start"></a></p><h4 id="æ‹‰å–é•œåƒå¹¶å¯åŠ¨å®¹å™¨-ğŸš€">æ‹‰å–é•œåƒå¹¶å¯åŠ¨å®¹å™¨ ğŸš€</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‹‰å–æœ€æ–°é•œåƒ</span></span><br><span class="line">docker compose pull</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨å®¹å™¨</span></span><br><span class="line">docker compose up -d</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å®¹å™¨çŠ¶æ€</span></span><br><span class="line">docker compose ps</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å¯åŠ¨æ—¥å¿—</span></span><br><span class="line">docker compose logs -f</span><br></pre></td></tr></table></figure><hr><p><a id="usage"></a></p><h2 id="ğŸš€-ä½¿ç”¨å—å¢™-WAF">ğŸš€ ä½¿ç”¨å—å¢™ WAF</h2><p><a id="usage-access"></a></p><h3 id="1-è®¿é—®-Web-ç•Œé¢-ğŸ’»">1. è®¿é—® Web ç•Œé¢ ğŸ’»</h3><ul><li><strong>æœ¬åœ°è®¿é—®</strong>ï¼š<a href="http://localhost:4443">http://localhost:4443</a></li><li><strong>åŸŸåè®¿é—®</strong>ï¼š<a href="https://uuwaf.example.com:4443">https://uuwaf.example.com:4443</a>ï¼ˆé…ç½®åå‘ä»£ç†åï¼‰</li></ul><p>é»˜è®¤ç™»å½•ä¿¡æ¯ï¼š</p><ul><li>ç”¨æˆ·åï¼š<code>admin</code></li><li>å¯†ç ï¼š<code>#Passw0rd</code>ï¼ˆé¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹ï¼‰</li></ul><p><a id="usage-first"></a></p><h3 id="2-é¦–æ¬¡ä½¿ç”¨æ­¥éª¤-ğŸ¯">2. é¦–æ¬¡ä½¿ç”¨æ­¥éª¤ ğŸ¯</h3><ol><li><p><strong>åˆå§‹åŒ–è®¾ç½®</strong> ğŸ”§</p><ul><li>æ‰“å¼€æµè§ˆå™¨è®¿é—®ç®¡ç†ç•Œé¢</li><li>ä¿®æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç </li><li>é…ç½®ç³»ç»ŸåŸºæœ¬è®¾ç½®å’Œé€šçŸ¥æ–¹å¼</li></ul></li><li><p><strong>æ·»åŠ é˜²æŠ¤ç«™ç‚¹</strong> ğŸŒ</p><ul><li>è¿›å…¥&quot;ç«™ç‚¹ç®¡ç†&quot; â†’ â€œæ·»åŠ ç«™ç‚¹â€</li><li>å¡«å†™åŸŸåå’Œä¸Šæ¸¸æœåŠ¡å™¨åœ°å€</li><li>é…ç½® SSL è¯ä¹¦ï¼ˆå¦‚éœ€è¦ï¼‰</li></ul></li><li><p><strong>é…ç½®é˜²æŠ¤ç­–ç•¥</strong> ğŸ›¡ï¸</p><ul><li>å¯ç”¨åŸºç¡€é˜²æŠ¤è§„åˆ™é›†</li><li>æ ¹æ®ä¸šåŠ¡ç‰¹ç‚¹è°ƒæ•´é˜²æŠ¤ç­‰çº§</li><li>è®¾ç½®è‡ªå®šä¹‰è§„åˆ™åº”å¯¹ç‰¹å®šåœºæ™¯</li></ul></li><li><p><strong>ç›‘æ§ä¸ä¼˜åŒ–</strong> ğŸ“Š</p><ul><li>æŸ¥çœ‹å®æ—¶æ”»å‡»æ—¥å¿—å’Œç»Ÿè®¡</li><li>åˆ†æå®‰å…¨äº‹ä»¶å’Œå¨èƒæƒ…æŠ¥</li><li>æ ¹æ®å®é™…æƒ…å†µä¼˜åŒ–é˜²æŠ¤è§„åˆ™</li></ul></li></ol><hr><p><a id="nginx"></a></p><h2 id="ğŸŒ-Nginx-åå‘ä»£ç†é…ç½®">ğŸŒ Nginx åå‘ä»£ç†é…ç½®</h2><p>é€šè¿‡ Nginx åå‘ä»£ç†å¯ä»¥æä¾›æ›´çµæ´»çš„è®¿é—®æ–¹å¼å’Œ SSL ç»ˆç«¯å¸è½½åŠŸèƒ½ã€‚</p><p><a id="nginx-config"></a></p><h3 id="1-åˆ›å»º-Nginx-é…ç½®æ–‡ä»¶-ğŸ”§">1. åˆ›å»º Nginx é…ç½®æ–‡ä»¶ ğŸ”§</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /etc/nginx/conf.d &amp;&amp; \</span><br><span class="line"><span class="built_in">cat</span> &gt; /etc/nginx/conf.d/uuwaf.conf &lt;&lt;<span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">server &#123;</span><br><span class="line">    listen 4443 ssl http2;</span><br><span class="line">    listen [::]:4443 ssl http2;</span><br><span class="line">    server_name uuwaf.yourdomain.com;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># SSL é…ç½®</span></span><br><span class="line">    ssl_certificate /path/to/your/cert.pem;</span><br><span class="line">    ssl_certificate_key /path/to/your/private.key;</span><br><span class="line">    ssl_session_timeout 1d;</span><br><span class="line">    ssl_session_cache shared:MozSSL:10m;</span><br><span class="line">    ssl_protocols TLSv1.2 TLSv1.3;</span><br><span class="line">    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256;</span><br><span class="line">    ssl_prefer_server_ciphers off;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®‰å…¨å¤´éƒ¨</span></span><br><span class="line">    add_header X-Frame-Options DENY;</span><br><span class="line">    add_header X-Content-Type-Options nosniff;</span><br><span class="line">    add_header X-XSS-Protection <span class="string">&quot;1; mode=block&quot;</span>;</span><br><span class="line">    add_header Strict-Transport-Security <span class="string">&quot;max-age=63072000&quot;</span> always;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä»£ç†é…ç½®</span></span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass http://127.0.0.1:4443;</span><br><span class="line">        proxy_set_header Host <span class="variable">$host</span>;</span><br><span class="line">        proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        proxy_set_header X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># WebSocket æ”¯æŒ</span></span><br><span class="line">        proxy_http_version 1.1;</span><br><span class="line">        proxy_set_header Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">        proxy_set_header Connection <span class="string">&quot;upgrade&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    access_log /var/log/nginx/uuwaf.access.log;</span><br><span class="line">    error_log /var/log/nginx/uuwaf.error.log;</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p><a id="nginx-reload"></a></p><h3 id="2-æµ‹è¯•å¹¶é‡è½½-Nginx-ğŸ”„">2. æµ‹è¯•å¹¶é‡è½½ Nginx ğŸ”„</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æµ‹è¯•é…ç½®æ–‡ä»¶è¯­æ³•</span></span><br><span class="line">nginx -t</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡è½½ Nginx é…ç½®</span></span><br><span class="line">systemctl reload nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ Nginx çŠ¶æ€</span></span><br><span class="line">systemctl status nginx</span><br></pre></td></tr></table></figure><hr><p><a id="maintenance"></a></p><h2 id="ğŸ”§-å®¹å™¨ç»´æŠ¤å‘½ä»¤">ğŸ”§ å®¹å™¨ç»´æŠ¤å‘½ä»¤</h2><p><a id="docker-compose"></a></p><h3 id="1-Docker-Compose-å‘½ä»¤-ğŸ³">1. Docker Compose å‘½ä»¤ ğŸ³</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span></span><br><span class="line">docker compose ps</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ—¥å¿—</span></span><br><span class="line">docker compose logs</span><br><span class="line">docker compose logs -f  <span class="comment"># å®æ—¶æ—¥å¿—</span></span><br><span class="line">docker compose logs uuwaf  <span class="comment"># æŒ‡å®šæœåŠ¡æ—¥å¿—</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æœåŠ¡ç®¡ç†</span></span><br><span class="line">docker compose stop     <span class="comment"># åœæ­¢æœåŠ¡</span></span><br><span class="line">docker compose start    <span class="comment"># å¯åŠ¨æœåŠ¡</span></span><br><span class="line">docker compose restart  <span class="comment"># é‡å¯æœåŠ¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°å’Œæ¸…ç†</span></span><br><span class="line">docker compose pull     <span class="comment"># æ‹‰å–æœ€æ–°é•œåƒ</span></span><br><span class="line">docker compose up -d    <span class="comment"># é‡æ–°åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨</span></span><br><span class="line">docker compose down     <span class="comment"># åœæ­¢å¹¶åˆ é™¤å®¹å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">docker compose <span class="built_in">exec</span> uuwaf bash  <span class="comment"># è¿›å…¥å®¹å™¨</span></span><br></pre></td></tr></table></figure><p><a id="docker"></a></p><h3 id="2-Docker-å®¹å™¨å‘½ä»¤-ğŸ“¦">2. Docker å®¹å™¨å‘½ä»¤ ğŸ“¦</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®¹å™¨ç®¡ç†</span></span><br><span class="line">docker ps -a                          <span class="comment"># æŸ¥çœ‹æ‰€æœ‰å®¹å™¨</span></span><br><span class="line">docker stop uuwaf                     <span class="comment"># åœæ­¢å®¹å™¨</span></span><br><span class="line">docker start uuwaf                    <span class="comment"># å¯åŠ¨å®¹å™¨</span></span><br><span class="line">docker restart uuwaf                  <span class="comment"># é‡å¯å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">rm</span> uuwaf                       <span class="comment"># åˆ é™¤å®¹å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ—¥å¿—ç®¡ç†</span></span><br><span class="line">docker logs uuwaf                     <span class="comment"># æŸ¥çœ‹æ—¥å¿—</span></span><br><span class="line">docker logs -f uuwaf                  <span class="comment"># å®æ—¶æ—¥å¿—</span></span><br><span class="line">docker logs --<span class="built_in">tail</span> 100 uuwaf          <span class="comment"># æŸ¥çœ‹æœ€å100è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">docker <span class="built_in">exec</span> -it uuwaf bash            <span class="comment"># è¿›å…¥å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> uuwaf nginx -t            <span class="comment"># åœ¨å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤</span></span><br></pre></td></tr></table></figure><p><a id="docker-images"></a></p><h3 id="3-Docker-é•œåƒç®¡ç†-ğŸ“€">3. Docker é•œåƒç®¡ç† ğŸ“€</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é•œåƒæŸ¥çœ‹</span></span><br><span class="line">docker images                         <span class="comment"># åˆ—å‡ºé•œåƒ</span></span><br><span class="line">docker image <span class="built_in">ls</span>                       <span class="comment"># åˆ—å‡ºé•œåƒï¼ˆè¯¦ç»†ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é•œåƒæ¸…ç†</span></span><br><span class="line">docker image prune                    <span class="comment"># åˆ é™¤æ‚¬ç©ºé•œåƒ</span></span><br><span class="line">docker image prune -a                 <span class="comment"># åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨é•œåƒ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é•œåƒæ“ä½œ</span></span><br><span class="line">docker pull uusec/waf:latest          <span class="comment"># æ‹‰å–é•œåƒ</span></span><br><span class="line">docker rmi uusec/waf:latest           <span class="comment"># åˆ é™¤é•œåƒ</span></span><br></pre></td></tr></table></figure><hr><p><a id="conclusion"></a></p><h2 id="ğŸŒŸ-å¼€å¯å®‰å…¨é˜²æŠ¤æ–°ç¯‡ç« ">ğŸŒŸ å¼€å¯å®‰å…¨é˜²æŠ¤æ–°ç¯‡ç« </h2><p>é€šè¿‡æœ¬æ–‡æ¡£ï¼Œæ‚¨å·²ç»æˆåŠŸä½¿ç”¨ Docker éƒ¨ç½²äº†å—å¢™ WAF Web åº”ç”¨é˜²ç«å¢™ï¼Œä¸ºæ‚¨çš„ Web åº”ç”¨å»ºç«‹äº†åšå®çš„å®‰å…¨é˜²çº¿ã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥ï¼š</p><p>ğŸ›¡ï¸ <strong>å…¨é¢é˜²æŠ¤</strong> - æœ‰æ•ˆé˜²å¾¡ SQL æ³¨å…¥ã€XSS æ”»å‡»ç­‰å¸¸è§ Web å¨èƒ<br>ğŸ“Š <strong>å®æ—¶ç›‘æ§</strong> - å¯è§†åŒ–ç•Œé¢å®æ—¶å±•ç¤ºå®‰å…¨æ€åŠ¿å’Œæ”»å‡»æ—¥å¿—<br>âš¡ <strong>é«˜æ€§èƒ½ä¿éšœ</strong> - ä½å»¶è¿Ÿé«˜å¹¶å‘å¤„ç†ï¼Œä¸å½±å“ä¸šåŠ¡æ­£å¸¸è®¿é—®<br>ğŸ”§ <strong>çµæ´»é…ç½®</strong> - æ ¹æ®ä¸šåŠ¡éœ€æ±‚è‡ªå®šä¹‰é˜²æŠ¤è§„åˆ™å’Œç­–ç•¥<br>ğŸŒ <strong>æ˜“æ‰©å±•</strong> - æ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼ï¼Œè½»æ¾åº”å¯¹ä¸šåŠ¡å¢é•¿</p><p>å—å¢™ WAF å°†æˆä¸ºæ‚¨ Web åº”ç”¨çš„å¯é å®ˆæŠ¤è€…ï¼Œ7Ã—24 å°æ—¶ä¸é—´æ–­æä¾›å®‰å…¨é˜²æŠ¤ï¼Œè®©æ‚¨ä¸“æ³¨äºä¸šåŠ¡å‘å±•ï¼Œæ— éœ€æ‹…å¿ƒå®‰å…¨å¨èƒã€‚</p><p>ä»ç°åœ¨å¼€å§‹ï¼Œæ„å»ºå®‰å…¨å¯é çš„ Web åº”ç”¨ç¯å¢ƒï¼Œä¸ºæ‚¨çš„ç”¨æˆ·æä¾›æ›´å®‰å¿ƒçš„æœåŠ¡ä½“éªŒï¼âœ¨</p><hr><p>ğŸ“Œ <strong>æŒç»­æ›´æ–°</strong>ï¼šå»ºè®®å®šæœŸæ£€æŸ¥ <a href="https://waf.uusec.com/">å®˜æ–¹æ–‡æ¡£</a> è·å–æœ€æ–°åŠŸèƒ½å’Œå®‰å…¨æ›´æ–°<br>ğŸ› <strong>é—®é¢˜åé¦ˆ</strong>ï¼šä½¿ç”¨ä¸­é‡åˆ°é—®é¢˜å¯å‰å¾€ <a href="https://github.com/Safe3/uusec-waf/issues">GitHub Issues</a> åé¦ˆ<br>ğŸ’¬ <strong>ç¤¾åŒºæ”¯æŒ</strong>ï¼šåŠ å…¥å®˜æ–¹ç¤¾åŒºè·å–æŠ€æœ¯æ”¯æŒå’Œæœ€ä½³å®è·µåˆ†äº«</p><p>ç¥æ‚¨éƒ¨ç½²é¡ºåˆ©ï¼Œå®‰å…¨æ— å¿§ï¼ğŸ‰</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Docker éƒ¨ç½²å—å¢™ WAF ğŸ›¡ï¸&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://file.meimolihan.eu.org/img/docker-uuwaf-01.webp&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;ğŸ“‹-ç›®å½•å¯¼èˆª&quot;&gt;ğŸ“‹ ç›®å½•å¯¼èˆª</summary>
      
    
    
    
    <category term="Docker" scheme="https://www.meimolihan.eu.org/categories/Docker/"/>
    
    
    <category term="compose" scheme="https://www.meimolihan.eu.org/tags/compose/"/>
    
  </entry>
  
  <entry>
    <title>é›¶æˆæœ¬ç½‘ç«™åŠ é€Ÿ Cloudflare ç¼“å­˜ä»å…¥é—¨åˆ°ç²¾é€š âœ¨</title>
    <link href="https://www.meimolihan.eu.org/posts/13e0677.html"/>
    <id>https://www.meimolihan.eu.org/posts/13e0677.html</id>
    <published>2025-09-13T01:37:35.000Z</published>
    <updated>2025-09-13T01:37:35.000Z</updated>
    
    <content type="html"><![CDATA[<h1>é›¶æˆæœ¬ç½‘ç«™åŠ é€Ÿ Cloudflare ç¼“å­˜ä»å…¥é—¨åˆ°ç²¾é€š âœ¨</h1><p><img src="https://file.meimolihan.eu.org/img/cloudflare-cache-rules-01.webp" alt=""></p><blockquote><p>éš¾é“é™¤äº†åŠ é’±å‡çº§æœåŠ¡å™¨ï¼Œå°±æ²¡æœ‰åˆ«çš„åŠæ³•äº†å—ï¼Ÿ<br>å½“ç„¶æœ‰ï¼ğŸš€</p></blockquote><p>ä»Šå¤©ï¼Œæˆ‘å°†æ‰‹æŠŠæ‰‹å¸¦ä½ åˆ©ç”¨å¼ºå¤§çš„ Cloudflareï¼Œé›¶æˆæœ¬åœ°ä¸ºä½ çš„ç½‘ç«™â€œç»­å‘½â€ï¼Œè®©ä½é…æœåŠ¡å™¨ä¹Ÿèƒ½æ‹¥æœ‰é—ªç”µèˆ¬çš„å“åº”é€Ÿåº¦ã€‚æˆ‘ä»¬å°†ä»ä¸€ä¸ªæœ€ç®€å•çš„â€œæš´åŠ›â€ç¼“å­˜æ–¹æ³•å¼€å§‹ï¼Œä¸€æ­¥æ­¥å¸¦ä½ è¸©å‘ã€å¡«å‘ï¼Œæœ€ç»ˆå®ç°ä¸€å¥—æ—¢èƒ½æè‡´åŠ é€Ÿï¼Œåˆèƒ½ä¿è¯å†…å®¹å®æ—¶æ›´æ–°çš„å®Œç¾ç¼“å­˜ç­–ç•¥ã€‚</p><ul><li><strong>åŸä½œè€… ï¼š<a href="https://joeyblog.net/">Joey Blog</a></strong></li></ul><hr><h2 id="ğŸ“š-æ–‡ç« å¯¼èˆªç›®å½•">ğŸ“š æ–‡ç« å¯¼èˆªç›®å½•</h2><ul><li><a href="#problem-showcase">ğŸ”¥ é—®é¢˜å¤ç°ï¼šæˆ‘çš„å°ç ´ç«™å¿«â€œç‚¸â€äº†</a></li><li><a href="#aggressive-caching">âš¡ æš´åŠ›ç¼“å­˜ï¼šä¸€åˆ†é’Ÿï¼Œèµ·æ­»å›ç”Ÿï¼</a></li><li><a href="#pitfall-one">âš ï¸ è¸©å‘ä¸€ï¼šè­¦å‘Šï¼ä½ çš„åå°åœ¨â€œè£¸å¥”â€ï¼</a></li><li><a href="#advanced-rules">ğŸ”§ è§„åˆ™è¿›é˜¶ï¼šå­¦ä¼šâ€œåŒºåˆ«å¯¹å¾…â€</a></li><li><a href="#pitfall-two">ğŸ”„ è¸©å‘äºŒï¼šæˆ‘å‘äº†æ–°æ–‡ç« ï¼Œä¸ºä»€ä¹ˆæ²¡äººçœ‹å¾—åˆ°ï¼Ÿ</a></li><li><a href="#ultimate-solution">ğŸ¤– ç»ˆææ–¹æ¡ˆï¼šç”¨ API å’Œæ’ä»¶å®ç°â€œè‡ªåŠ¨åˆ·æ–°â€</a></li><li><a href="#miracle">ğŸ‰ è§è¯å¥‡è¿¹ï¼šé€Ÿåº¦ä¸æ›´æ–°å…¼å¾—</a></li><li><a href="#conclusion">ğŸ“Œ æ€»ç»“</a></li></ul><hr><p><a id="problem-showcase"></a></p><h2 id="ğŸ”¥-é—®é¢˜å¤ç°ï¼šæˆ‘çš„å°ç ´ç«™å¿«â€œç‚¸â€äº†">ğŸ”¥ é—®é¢˜å¤ç°ï¼šæˆ‘çš„å°ç ´ç«™å¿«â€œç‚¸â€äº†</h2><p>ä¸ºäº†è®©æ•ˆæœæ›´å…·æˆå‰§æ€§ï¼Œæˆ‘ç‰¹æ„å‡†å¤‡äº†ä¸€å°ä½é…çš„è°·æ­Œäº‘æœåŠ¡å™¨ï¼Œå¹¶å°†æˆ‘çš„åšå®¢éƒ¨ç½²äº†ä¸Šå»ã€‚åœ¨æ²¡æœ‰ä»»ä½•ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒçš„è¡¨ç°ã€‚</p><p>éšä¾¿æ‰“å¼€ä¸€ç¯‡æ–‡ç« ï¼ŒåŠ è½½é€Ÿåº¦è‚‰çœ¼å¯è§çš„æ…¢ã€‚</p><p><img src="https://file.meimolihan.eu.org/screenshot/cache-rules-001.webp" alt=""></p><p>è¿™æ—¶ï¼Œæˆ‘ä»¬å†ç”¨å·¥å…·æ¨¡æ‹Ÿä¸€ä¸ªç®€å•çš„å¹¶å‘è®¿é—®ï¼ŒæœåŠ¡å™¨åå°çš„ CPU ç¬é—´å°±â€œæ‹‰æ»¡â€äº†ï¼Œç½‘ç«™ç›´æ¥å´©æºƒï¼Œæ— æ³•è®¿é—®ã€‚</p><p><img src="https://file.meimolihan.eu.org/screenshot/cache-rules-002.webp" alt=""></p><p>è¿™å°±æ˜¯æˆ‘ä»¬å³å°†è¦è§£å†³çš„å…¸å‹åœºæ™¯ã€‚</p><hr><p><a id="aggressive-caching"></a></p><h2 id="âš¡-æš´åŠ›ç¼“å­˜ï¼šä¸€åˆ†é’Ÿï¼Œèµ·æ­»å›ç”Ÿï¼">âš¡ æš´åŠ›ç¼“å­˜ï¼šä¸€åˆ†é’Ÿï¼Œèµ·æ­»å›ç”Ÿï¼</h2><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬è¯·å‡ºä»Šå¤©çš„ä¸»è§’â€”â€”<strong>Cloudflare</strong>ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å®ƒæœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ï¼š<strong>ç¼“å­˜è§„åˆ™ï¼ˆCache Rulesï¼‰</strong>ã€‚</p><h3 id="ğŸ”§-åŠŸèƒ½ç‰¹ç‚¹ï¼š">ğŸ”§ åŠŸèƒ½ç‰¹ç‚¹ï¼š</h3><ul><li><strong>å…¨çƒè¾¹ç¼˜èŠ‚ç‚¹</strong>ï¼šCloudflare æ‹¥æœ‰éå¸ƒå…¨çƒçš„æœåŠ¡å™¨ï¼Œå¯ç¼“å­˜å†…å®¹å¹¶å°±è¿‘åˆ†å‘ç»™ç”¨æˆ·ã€‚</li><li><strong>é›¶æˆæœ¬åŠ é€Ÿ</strong>ï¼šå…è´¹å¥—é¤å³å¯äº«å—å¼ºå¤§çš„ç¼“å­˜åŠŸèƒ½ï¼Œå‡è½»æºæœåŠ¡å™¨å‹åŠ›ã€‚</li><li><strong>ç®€å•æ˜“ç”¨</strong>ï¼šé€šè¿‡å¯è§†åŒ–ç•Œé¢é…ç½®è§„åˆ™ï¼Œæ— éœ€ä»£ç åŸºç¡€ã€‚</li></ul><h3 id="ğŸ“-æ“ä½œæ­¥éª¤ï¼š">ğŸ“ æ“ä½œæ­¥éª¤ï¼š</h3><ol><li>ç™»å½•ä½ çš„ Cloudflare è´¦æˆ·ï¼Œé€‰æ‹©ä½ çš„åŸŸåï¼Œè¿›å…¥<strong>ç¼“å­˜ï¼ˆCachingï¼‰</strong> â†’ <strong>ç¼“å­˜è§„åˆ™ï¼ˆCache Rulesï¼‰</strong>ã€‚</li><li>ç‚¹å‡»<strong>åˆ›å»ºè§„åˆ™ï¼ˆCreate ruleï¼‰</strong>ã€‚</li><li>è§„åˆ™åç§°éšä¾¿å¡«ï¼Œä¾‹å¦‚â€œç¼“å­˜æ‰€æœ‰â€ã€‚</li><li>åœ¨â€œWhen incoming requests matchâ€¦â€éƒ¨åˆ†ï¼Œç›´æ¥ä½¿ç”¨ Cloudflare æä¾›çš„æ¨¡æ¿ï¼Œé€‰æ‹©<strong>ç¼“å­˜æ‰€æœ‰å†…å®¹ï¼ˆCache everythingï¼‰</strong>ã€‚è¿™ä¸ªæ¨¡æ¿ä¼šè‡ªåŠ¨å¸®ä½ å¡«å……å¥½æ‰€æœ‰åŠ¨æ€ã€é™æ€å†…å®¹çš„åŒ¹é…è§„åˆ™ã€‚</li></ol><p><img src="https://file.meimolihan.eu.org/screenshot/cache-rules-003.webp" alt=""><br><img src="https://file.meimolihan.eu.org/screenshot/cache-rules-004.webp" alt=""></p><p>å¥½äº†ï¼Œéƒ¨ç½²å®Œæˆã€‚ç°åœ¨æˆ‘ä»¬å†æ¥è®¿é—®ç½‘ç«™è¯•è¯•ï¼Ÿ<br>å¥‡è¿¹å‘ç”Ÿäº†ï¼ç½‘ç«™ç§’å¼€ï¼Œé¡µé¢åˆ‡æ¢å¦‚ä¸èˆ¬é¡ºæ»‘ã€‚æˆ‘ä»¬å†çœ‹ä¸€çœ¼æœåŠ¡å™¨åå°ï¼ŒCPU å ç”¨ç‡å‡ ä¹ä¸ºé›¶ï¼Œå®Œå…¨åœ¨â€œæ‘¸é±¼â€ğŸ˜´ã€‚</p><p><img src="https://file.meimolihan.eu.org/screenshot/cache-rules-005.webp" alt=""></p><p>åŸç†å¾ˆç®€å•ï¼šCloudflare éå¸ƒå…¨çƒçš„è¾¹ç¼˜èŠ‚ç‚¹å·²ç»å°†ä½ çš„æ•´ä¸ªç½‘ç«™å†…å®¹ç¼“å­˜äº†ä¸‹æ¥ï¼Œæ‰€æœ‰ç”¨æˆ·çš„è®¿é—®è¯·æ±‚éƒ½ç”±ç¦»ä»–ä»¬æœ€è¿‘çš„ Cloudflare èŠ‚ç‚¹ç›´æ¥å“åº”ï¼Œæ ¹æœ¬ä¸ä¼šå†â€œæ‰“æ‰°â€ä½ é‚£å°è¿œåœ¨ç¾å›½çš„ä½é…æºæœåŠ¡å™¨äº†ã€‚</p><hr><p><a id="pitfall-one"></a></p><h2 id="âš ï¸-è¸©å‘ä¸€ï¼šè­¦å‘Šï¼ä½ çš„åå°åœ¨â€œè£¸å¥”â€ï¼">âš ï¸ è¸©å‘ä¸€ï¼šè­¦å‘Šï¼ä½ çš„åå°åœ¨â€œè£¸å¥”â€ï¼</h2><p>æ­£å½“ä½ ä¸ºè¿™æƒŠäººçš„æ•ˆæœæ²¾æ²¾è‡ªå–œæ—¶ï¼Œä¸€ä¸ªå·¨å¤§çš„å®‰å…¨æ¼æ´å·²ç»æ‚„ç„¶å‡ºç°ã€‚</p><p>æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨çš„â€œæ— ç—•æ¨¡å¼â€ï¼ˆç¡®ä¿æ²¡æœ‰ä»»ä½•ç™»å½•ä¿¡æ¯ï¼‰ï¼Œç„¶åå°è¯•è®¿é—® WordPress çš„åå°åœ°å€ï¼Œä¾‹å¦‚ <code>https://ä½ çš„åŸŸå.com/wp-admin/</code>ã€‚</p><p>æŒ‰å¸¸ç†ï¼Œå®ƒåº”è¯¥ä¼šè·³è½¬åˆ°ç™»å½•é¡µé¢ã€‚ä½†ç°åœ¨â€¦â€¦</p><p><img src="https://file.meimolihan.eu.org/screenshot/cache-rules-006.webp" alt=""></p><p>æ˜¯çš„ï¼Œä½ æ²¡çœ‹é”™ã€‚ç”±äºæˆ‘ä»¬â€œæš´åŠ›â€åœ°ç¼“å­˜äº†ä¸€åˆ‡ï¼Œè¿éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®çš„åå°ç®¡ç†é¡µé¢ï¼Œä¹Ÿè¢« Cloudflare å½“æˆé™æ€é¡µé¢ç¼“å­˜èµ·æ¥ï¼Œå¹¶æ¯«æ— ä¿ç•™åœ°å±•ç¤ºç»™äº†æ‰€æœ‰è®¿å®¢ã€‚è¿™æ˜¯ä¸€ä¸ªç¾éš¾æ€§çš„å®‰å…¨é—®é¢˜ï¼</p><hr><p><a id="advanced-rules"></a></p><h2 id="ğŸ”§-è§„åˆ™è¿›é˜¶ï¼šå­¦ä¼šâ€œåŒºåˆ«å¯¹å¾…â€">ğŸ”§ è§„åˆ™è¿›é˜¶ï¼šå­¦ä¼šâ€œåŒºåˆ«å¯¹å¾…â€</h2><p>é—®é¢˜çš„åŸå› åœ¨äºæˆ‘ä»¬çš„ç¼“å­˜è§„åˆ™è¿‡äºâ€œä¸€åˆ€åˆ‡â€ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬è¦æ•™ä¼š Cloudflare â€œåŒºåˆ«å¯¹å¾…â€ï¼Œå‘Šè¯‰å®ƒå“ªäº›å†…å®¹ç»å¯¹ä¸èƒ½ç¼“å­˜ã€‚</p><p>æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€æ¡æ–°çš„ã€æ›´é«˜ä¼˜å…ˆçº§çš„è§„åˆ™æ¥â€œè·³è¿‡â€ç¼“å­˜ã€‚</p><h3 id="ğŸ“-æ“ä½œæ­¥éª¤ï¼š-2">ğŸ“ æ“ä½œæ­¥éª¤ï¼š</h3><ol><li>å†æ¬¡å›åˆ°<strong>ç¼“å­˜è§„åˆ™ï¼ˆCache Rulesï¼‰</strong> é¡µé¢ï¼Œç‚¹å‡»<strong>åˆ›å»ºè§„åˆ™ï¼ˆCreate ruleï¼‰</strong>ã€‚</li><li>å°†è¿™æ¡æ–°è§„åˆ™æ‹–åŠ¨åˆ°æˆ‘ä»¬åˆšæ‰åˆ›å»ºçš„â€œç¼“å­˜æ‰€æœ‰â€è§„åˆ™çš„ä¸Šæ–¹ï¼Œç¡®ä¿å®ƒçš„ä¼˜å…ˆçº§æ›´é«˜ã€‚</li><li>è§„åˆ™åç§°è®¾ä¸ºâ€œè·³è¿‡åå°å’Œç™»å½•ç”¨æˆ·â€ã€‚</li><li>åœ¨â€œWhen incoming requests matchâ€¦â€éƒ¨åˆ†ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨ç¼–è¾‘è¡¨è¾¾å¼ï¼Œä½¿ç”¨ OR é€»è¾‘ç»„åˆä¸¤ä¸ªæ¡ä»¶ï¼š<ul><li>æ¡ä»¶ä¸€ï¼š<code>(http.request.uri.path contains &quot;/wp-admin/&quot;)</code> â€”â€” å½“ URL è·¯å¾„åŒ…å«åå°åœ°å€æ—¶ã€‚</li><li>æ¡ä»¶äºŒï¼š<code>(http.cookie contains &quot;wp&quot;)</code> â€”â€” å½“è¯·æ±‚çš„ Cookie ä¸­åŒ…å« WordPress ç™»å½•å‡­è¯æ—¶ã€‚</li></ul></li></ol><p><img src="https://file.meimolihan.eu.org/screenshot/cache-rules-007.webp" alt=""></p><ol start="5"><li>åœ¨â€œThenâ€¦â€éƒ¨åˆ†ï¼Œå°†ç¼“å­˜èµ„æ ¼ï¼ˆCache eligibilityï¼‰é€‰æ‹©ä¸º<strong>ç»•è¿‡ç¼“å­˜ï¼ˆBypass cacheï¼‰</strong>ã€‚</li><li>éƒ¨ç½²è§„åˆ™ã€‚</li></ol><p><img src="https://file.meimolihan.eu.org/screenshot/cache-rules-008.webp" alt=""></p><p>ç°åœ¨ï¼Œåå°è£¸å¥”çš„é—®é¢˜è§£å†³äº†ã€‚æœªç™»å½•ç”¨æˆ·è®¿é—®åå°ä¼šæ­£ç¡®è·³è½¬åˆ°ç™»å½•é¡µï¼Œè€Œå·²ç™»å½•çš„ç”¨æˆ·åˆ™å› ä¸º Cookie åŒ¹é…æˆåŠŸï¼Œä¹Ÿä¸ä¼šè¢«ç¼“å­˜ï¼Œå¯ä»¥æ­£å¸¸è¿›è¡Œç®¡ç†æ“ä½œã€‚</p><hr><p><a id="pitfall-two"></a></p><h2 id="ğŸ”„-è¸©å‘äºŒï¼šæˆ‘å‘äº†æ–°æ–‡ç« ï¼Œä¸ºä»€ä¹ˆæ²¡äººçœ‹å¾—åˆ°ï¼Ÿ">ğŸ”„ è¸©å‘äºŒï¼šæˆ‘å‘äº†æ–°æ–‡ç« ï¼Œä¸ºä»€ä¹ˆæ²¡äººçœ‹å¾—åˆ°ï¼Ÿ</h2><p>å®‰å…¨é—®é¢˜è§£å†³äº†ï¼Œä½†æ–°çš„é—®é¢˜åˆæ¥äº†ã€‚</p><p>ä½ åœ¨åå°å…´è‡´å‹ƒå‹ƒåœ°å‘å¸ƒäº†ä¸€ç¯‡æ–°æ–‡ç« ï¼Œä½†åœ¨é¦–é¡µä¸Šï¼Œå®ƒå´è¿Ÿè¿Ÿä¸å‡ºç°ã€‚æ— è®ºä½ æ€ä¹ˆåˆ·æ–°ï¼Œç”šè‡³â€œæ¸…ç©ºç¼“å­˜å¹¶å¼ºåˆ¶åˆ·æ–°â€ï¼Œæ–°æ–‡ç« å°±æ˜¯ä¸è§è¸ªå½±ã€‚</p><p><img src="https://file.meimolihan.eu.org/screenshot/cache-rules-009.webp" alt=""></p><p>åŸå› ä¹Ÿå¾ˆç®€å•ï¼šå¯¹äºæœªç™»å½•çš„è®¿å®¢ï¼ŒCloudflare ä¾ç„¶åœ¨å¿ å®åœ°æ‰§è¡Œæˆ‘ä»¬ç¬¬ä¸€æ¡â€œç¼“å­˜æ‰€æœ‰â€çš„è§„åˆ™â€”â€”ä»å®ƒçš„è¾¹ç¼˜èŠ‚ç‚¹è¿”å›é‚£ä¸ªè¢«ç¼“å­˜äº†â€œä¸€å¹´â€çš„æ—§é¦–é¡µã€‚å®ƒå¹¶ä¸çŸ¥é“ä½ çš„æºæœåŠ¡å™¨ä¸Šå†…å®¹å·²ç»æ›´æ–°äº†ã€‚</p><hr><p><a id="ultimate-solution"></a></p><h2 id="ğŸ¤–-ç»ˆææ–¹æ¡ˆï¼šç”¨-API-å’Œæ’ä»¶å®ç°â€œè‡ªåŠ¨åˆ·æ–°â€">ğŸ¤– ç»ˆææ–¹æ¡ˆï¼šç”¨ API å’Œæ’ä»¶å®ç°â€œè‡ªåŠ¨åˆ·æ–°â€</h2><p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•ï¼šåœ¨å†…å®¹æ›´æ–°æ—¶ï¼Œä¸»åŠ¨é€šçŸ¥ Cloudflare â€œä½ è¯¥æ¸…ç†ä¸€ä¸‹è¿™ä¸ªé¡µé¢çš„ç¼“å­˜äº†â€ã€‚è¿™å°±è¦ç”¨åˆ° Cloudflare å¼ºå¤§çš„ <strong>API</strong>ã€‚</p><p>æ‰‹åŠ¨å» API åˆ·æ–°æ˜¾ç„¶ä¸ç°å®ã€‚å› æ­¤ï¼Œæˆ‘ç‰¹æ„ä¸ºå¤§å®¶å‡†å¤‡äº†ä¸€ä¸ªè‡ªç ”çš„ WordPress æ’ä»¶ï¼Œå®ƒèƒ½å®Œç¾åœ°è‡ªåŠ¨åŒ–è¿™ä¸ªè¿‡ç¨‹ã€‚</p><h3 id="ğŸ”§-æ’ä»¶åŠŸèƒ½ç‰¹ç‚¹ï¼š">ğŸ”§ æ’ä»¶åŠŸèƒ½ç‰¹ç‚¹ï¼š</h3><ul><li><strong>è‡ªåŠ¨è§¦å‘</strong>ï¼šæ–‡ç« å‘å¸ƒ/æ›´æ–°æ—¶è‡ªåŠ¨æ¸…ç†ç›¸å…³ç¼“å­˜ã€‚</li><li><strong>ç²¾å‡†æ¸…ç†</strong>ï¼šå¯æ¸…ç†æ–‡ç« é¡µã€é¦–é¡µã€åˆ†ç±»é¡µç­‰å¤šç±»é¡µé¢ã€‚</li><li><strong>ç®€å•é…ç½®</strong>ï¼šåªéœ€å¡«å†™é‚®ç®±ã€API å¯†é’¥å’ŒåŸŸåã€‚</li></ul><h3 id="ğŸ“-é…ç½®æ–¹æ³•ï¼š">ğŸ“ é…ç½®æ–¹æ³•ï¼š</h3><ol><li>å®‰è£…å¹¶å¯ç”¨æ’ä»¶åï¼Œè¿›å…¥<strong>è®¾ç½® â†’ CF Purge Cache</strong>ã€‚</li><li>ä½ éœ€è¦å¡«å†™ä¸‰é¡¹ä¿¡æ¯ï¼š<ul><li><strong>Cloudflare Email</strong>ï¼šä½ çš„ç™»å½•é‚®ç®±ã€‚</li><li><strong>Cloudflare Global API Key</strong>ï¼šä½ çš„å…¨å±€ API å¯†é’¥ã€‚</li><li><strong>Zone</strong>ï¼šé€‰æ‹©éœ€è¦æ“ä½œçš„åŸŸåã€‚</li></ul></li></ol><p>å…¨å±€ API å¯†é’¥å¯ä»¥åœ¨ Cloudflare ä»ªè¡¨ç›˜çš„<strong>æˆ‘çš„ä¸ªäººèµ„æ–™ â†’ APIä»¤ç‰Œ</strong>ä¸­æ‰¾åˆ°ã€‚</p><p><img src="https://file.meimolihan.eu.org/screenshot/cache-rules-010.webp" alt=""></p><hr><p><a id="miracle"></a></p><h2 id="ğŸ‰-è§è¯å¥‡è¿¹ï¼šé€Ÿåº¦ä¸æ›´æ–°å…¼å¾—">ğŸ‰ è§è¯å¥‡è¿¹ï¼šé€Ÿåº¦ä¸æ›´æ–°å…¼å¾—</h2><p>é…ç½®å¥½æ’ä»¶åï¼Œæˆ‘ä»¬æ¥è§è¯æœ€ç»ˆçš„å®Œç¾æ•ˆæœã€‚</p><p>æˆ‘ä»¬å†æ¬¡ç¼–è¾‘åˆšæ‰å‘å¸ƒçš„æ–‡ç« ï¼Œéšä¾¿ä¿®æ”¹ç‚¹å†…å®¹ï¼Œç„¶åç‚¹å‡»â€œæ›´æ–°â€ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬å†æ‰“å¼€ä¸€ä¸ªæ— ç—•çª—å£è®¿é—®é¦–é¡µï¼Œæ–°æ–‡ç« èµ«ç„¶åœ¨åˆ—ï¼Œå¹¶ä¸”æ•´ä¸ªç½‘ç«™çš„è®¿é—®é€Ÿåº¦ä¾ç„¶æ˜¯ç§’å¼€ï¼</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬æˆåŠŸåœ°å®ç°äº†æˆ‘ä»¬çš„ç»ˆæç›®æ ‡ï¼š</p><ul><li>ğŸš€ <strong>æè‡´çš„æ€§èƒ½</strong>ï¼š99% çš„è®¿é—®å‹åŠ›éƒ½ç”± Cloudflare æ‰¿æ‹…ï¼Œä½ çš„æºæœåŠ¡å™¨è½»æ¾æ— æ¯”ã€‚</li><li>ğŸ”„ <strong>æ™ºèƒ½çš„æ›´æ–°</strong>ï¼šå†…å®¹ä¸€ç»ä¿®æ”¹ï¼Œç¼“å­˜è‡ªåŠ¨åˆ·æ–°ï¼Œè®¿å®¢æ°¸è¿œèƒ½çœ‹åˆ°æœ€æ–°çš„å†…å®¹ã€‚</li><li>ğŸ’° <strong>é›¶æˆæœ¬</strong>ï¼šè¿™ä¸€åˆ‡éƒ½åŸºäº Cloudflare çš„å…è´¹å¥—é¤ã€‚</li></ul><hr><p><a id="conclusion"></a></p><h2 id="ğŸ“Œ-æ€»ç»“">ğŸ“Œ æ€»ç»“</h2><p>ä»ä¸€ä¸ªæ¿’ä¸´å´©æºƒçš„æ…¢é€Ÿç½‘ç«™ï¼Œåˆ°ä¸€ä¸ªå…¼å…·æè‡´æ€§èƒ½å’ŒåŠ¨æ€æ›´æ–°çš„æµç•…ç«™ç‚¹ï¼Œæˆ‘ä»¬é€šè¿‡å‡ æ¡ç®€å•çš„ Cloudflare è§„åˆ™å’Œä¸€ä¸ªå°æ’ä»¶å°±å®Œæˆäº†èœ•å˜ã€‚è¿™å¥—æ–¹æ³•å°¤å…¶é€‚åˆä¸ªäººåšå®¢ã€ä¸­å°å‹ä¼ä¸šç½‘ç«™ç­‰é¢„ç®—æœ‰é™ä½†å¯¹æ€§èƒ½æœ‰è¿½æ±‚çš„åœºæ™¯ã€‚</p><p>å¸Œæœ›è¿™ç¯‡ä»å…¥é—¨åˆ°å¡«å‘çš„ç»ˆææŒ‡å—èƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚å»è¯•è¯•å§ï¼Œè®©ä½ çš„ç½‘ç«™ä¹Ÿé£èµ·æ¥ï¼</p><hr><p><a href="https://github.com/byJoey/cfc/tree/v0.0.1">ğŸ“¥ æ’ä»¶ä¸‹è½½åœ°å€</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;é›¶æˆæœ¬ç½‘ç«™åŠ é€Ÿ Cloudflare ç¼“å­˜ä»å…¥é—¨åˆ°ç²¾é€š âœ¨&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://file.meimolihan.eu.org/img/cloudflare-cache-rules-01.webp&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquo</summary>
      
    
    
    
    <category term="é»˜è®¤åˆ†ç±»" scheme="https://www.meimolihan.eu.org/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/"/>
    
    
  </entry>
  
  <entry>
    <title>Google BBR æ‹¥å¡æ§åˆ¶ç®—æ³•ç®¡ç†è„šæœ¬ ğŸš€</title>
    <link href="https://www.meimolihan.eu.org/posts/87b07522.html"/>
    <id>https://www.meimolihan.eu.org/posts/87b07522.html</id>
    <published>2025-09-13T01:36:09.000Z</published>
    <updated>2025-09-13T01:36:09.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Google BBR æ‹¥å¡æ§åˆ¶ç®—æ³•ç®¡ç†è„šæœ¬ ğŸš€</h1><p><img src="https://file.meimolihan.eu.org/img/google-bbr-01.webp" alt=""></p><p>æœ¬æ–‡ä»‹ç»ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ BBR æ‹¥å¡æ§åˆ¶ç®—æ³•ç®¡ç†è„šæœ¬ï¼Œæ”¯æŒä¸€é”®å®‰è£…ã€æ›´æ–°å’Œç®¡ç† BBR v3 å†…æ ¸åŠæ‹¥å¡æ§åˆ¶é…ç½®ï¼Œå¸®åŠ©æ‚¨è½»æ¾ä¼˜åŒ–æœåŠ¡å™¨ç½‘ç»œæ€§èƒ½ã€‚</p><hr><h2 id="ğŸ“‹-å¯¼èˆªç›®å½•">ğŸ“‹ å¯¼èˆªç›®å½•</h2><ul><li><a href="#script-info">ğŸ“‹ è„šæœ¬ä¿¡æ¯</a></li><li><a href="#supported-systems">ğŸ–¥ï¸ æ”¯æŒçš„ç³»ç»Ÿ</a></li><li><a href="#main-features">ğŸš€ ä¸»è¦åŠŸèƒ½</a></li><li><a href="#usage-guide">ğŸ“¥ ä½¿ç”¨æ–¹æ³•</a></li><li><a href="#technical-details">âš™ï¸ æŠ€æœ¯ç»†èŠ‚</a></li><li><a href="#important-notes">ğŸ’¡ æ³¨æ„äº‹é¡¹</a></li><li><a href="#troubleshooting">ğŸ”§ æ•…éšœæ’é™¤</a></li><li><a href="#script-features">âœ¨ è„šæœ¬ç‰¹ç‚¹</a></li><li><a href="#use-cases">ğŸ¯ ä½¿ç”¨åœºæ™¯</a></li></ul><hr><p><a id="script-info"></a></p><h2 id="ğŸ“‹-è„šæœ¬ä¿¡æ¯">ğŸ“‹ è„šæœ¬ä¿¡æ¯</h2><ul><li><strong>è„šæœ¬åç§°</strong>: <code>install-bbr.sh</code></li><li><strong>ä½œè€…</strong>: Joey</li><li><strong>æœ€æ–°ç‰ˆæœ¬</strong>: æ”¯æŒè‡ªåŠ¨æ£€æµ‹å’Œå®‰è£…æœ€æ–°ç‰ˆ BBR v3 å†…æ ¸</li><li><strong>åé¦ˆæ¸ é“</strong>: <a href="https://t.me/+ft-zI76oovgwNmRh">Telegram ç¾¤ç»„</a> æä¾›æŠ€æœ¯äº¤æµå’Œæ”¯æŒ</li><li><strong>å¼€æºåœ°å€</strong>: è„šæœ¬åŸºäºå¼€æºé¡¹ç›®å¼€å‘ï¼ŒæŒç»­æ›´æ–°ç»´æŠ¤</li></ul><p><a id="supported-systems"></a></p><h2 id="ğŸ–¥ï¸-æ”¯æŒçš„ç³»ç»Ÿ">ğŸ–¥ï¸ æ”¯æŒçš„ç³»ç»Ÿ</h2><h3 id="ç³»ç»Ÿè¦æ±‚">ç³»ç»Ÿè¦æ±‚</h3><ul><li><strong>ä»…æ”¯æŒåŸºäº Debian/Ubuntu çš„ç³»ç»Ÿ</strong> (åŒ…æ‹¬ Ubuntu 18.04+, Debian 10+ ç­‰ä¸»æµç‰ˆæœ¬)</li><li>éœ€è¦ <code>apt-get</code> åŒ…ç®¡ç†å™¨</li><li>éœ€è¦ root æƒé™æ‰§è¡Œç®¡ç†æ“ä½œ</li></ul><h3 id="æ”¯æŒçš„æ¶æ„">æ”¯æŒçš„æ¶æ„</h3><ul><li><code>x86_64</code> (AMD64) - å¤§å¤šæ•°äº‘æœåŠ¡å™¨å’Œç‰©ç†æœº</li><li><code>aarch64</code> (ARM64) - æ ‘è“æ´¾ã€ARMæœåŠ¡å™¨å’Œç§»åŠ¨è®¾å¤‡</li></ul><h3 id="è‡ªåŠ¨å®‰è£…çš„ä¾èµ–">è‡ªåŠ¨å®‰è£…çš„ä¾èµ–</h3><p>è„šæœ¬ä¼šè‡ªåŠ¨æ£€æŸ¥å¹¶å®‰è£…ä»¥ä¸‹å¿…è¦å·¥å…·ï¼š</p><ul><li><code>curl</code>, <code>wget</code> - ç”¨äºä¸‹è½½å†…æ ¸åŒ…å’Œèµ„æºæ–‡ä»¶</li><li><code>dpkg</code> - ç”¨äºè½¯ä»¶åŒ…ç®¡ç†æ“ä½œ</li><li><code>awk</code>, <code>sed</code> - ç”¨äºæ–‡æœ¬å¤„ç†å’Œé…ç½®ä¿®æ”¹</li><li><code>sysctl</code> - ç”¨äºå†…æ ¸å‚æ•°è°ƒæ•´</li><li><code>jq</code> - ç”¨äºè§£æJSONæ•°æ®ï¼ˆè·å–ç‰ˆæœ¬ä¿¡æ¯ï¼‰</li></ul><p><a id="main-features"></a></p><h2 id="ğŸš€-ä¸»è¦åŠŸèƒ½">ğŸš€ ä¸»è¦åŠŸèƒ½</h2><p>è„šæœ¬æä¾›ä»¥ä¸‹ä¸ƒå¤§æ“ä½œé€‰é¡¹ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚ï¼š</p><ol><li><strong>å®‰è£…æˆ–æ›´æ–° BBR v3 (æœ€æ–°ç‰ˆ)</strong> - è‡ªåŠ¨è·å–å¹¶å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼Œä¿æŒç³»ç»Ÿæœ€æ–°</li><li><strong>æŒ‡å®šç‰ˆæœ¬å®‰è£…</strong> - ä»å¯ç”¨ç‰ˆæœ¬åˆ—è¡¨ä¸­é€‰æ‹©å®‰è£…ï¼Œé€‚åˆéœ€è¦ç‰¹å®šç‰ˆæœ¬çš„åœºæ™¯</li><li><strong>æ£€æŸ¥ BBR v3 çŠ¶æ€</strong> - éªŒè¯å½“å‰ BBR ç‰ˆæœ¬å’ŒçŠ¶æ€ï¼Œå¿«é€Ÿè¯Šæ–­é—®é¢˜</li><li><strong>å¯ç”¨ BBR + FQ</strong> - é…ç½® BBR ä¸ FQ (Fair Queue) é˜Ÿåˆ—ç®—æ³•ï¼Œå¹³è¡¡æµé‡åˆ†é…</li><li><strong>å¯ç”¨ BBR + FQ_PIE</strong> - é…ç½® BBR ä¸ FQ_PIE é˜Ÿåˆ—ç®—æ³•ï¼Œå¢å¼ºç½‘ç»œç¨³å®šæ€§</li><li><strong>å¯ç”¨ BBR + CAKE</strong> - é…ç½® BBR ä¸ CAKE é˜Ÿåˆ—ç®—æ³•ï¼Œæä¾›é«˜çº§æµé‡ç®¡ç†åŠŸèƒ½</li><li><strong>å¸è½½ BBR å†…æ ¸</strong> - å®‰å…¨ç§»é™¤ç”±æœ¬è„šæœ¬å®‰è£…çš„å†…æ ¸ï¼Œæ¢å¤åŸç³»ç»Ÿé…ç½®</li></ol><p><a id="usage-guide"></a></p><h2 id="ğŸ“¥-ä½¿ç”¨æ–¹æ³•">ğŸ“¥ ä½¿ç”¨æ–¹æ³•</h2><h3 id="ä¸€é”®æ‰§è¡Œè„šæœ¬">ä¸€é”®æ‰§è¡Œè„šæœ¬</h3><p><strong>ä½¿ç”¨ Vercel ä»“åº“:</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL script.meimolihan.eu.org/sh/bbr/install-bbr.sh)</span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨ Gitee ä»“åº“:</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -sL gitee.com/meimolihan/script/raw/master/sh/bbr/install-bbr.sh)</span><br></pre></td></tr></table></figure><p><img src="https://file.meimolihan.eu.org/screenshot/google-bbr-001.webp" alt=""></p><h3 id="ğŸ“-æ‰§è¡Œæµç¨‹">ğŸ“ æ‰§è¡Œæµç¨‹</h3><ol><li>è¿è¡Œè„šæœ¬åä¼šæ˜¾ç¤ºå½“å‰ç³»ç»ŸçŠ¶æ€å’Œå¯é€‰æ“ä½œèœå•</li><li>è¾“å…¥å¯¹åº”æ•°å­—é€‰æ‹©æ“ä½œï¼ˆ1-7ï¼‰</li><li>æ ¹æ®æç¤ºå®Œæˆç›¸åº”æ“ä½œ</li><li>å¯¹äºå†…æ ¸å®‰è£…ï¼Œå®‰è£…å®Œæˆåå¯èƒ½éœ€è¦é‡å¯ç³»ç»Ÿç”Ÿæ•ˆ</li></ol><h3 id="ğŸ”„-å®‰è£…åéªŒè¯">ğŸ”„ å®‰è£…åéªŒè¯</h3><p>å®‰è£…å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤éªŒè¯ BBR çŠ¶æ€ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥å½“å‰å¯ç”¨æ‹¥å¡æ§åˆ¶ç®—æ³•</span></span><br><span class="line">sysctl net.ipv4.tcp_congestion_control</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥é˜Ÿåˆ—è§„åˆ™</span></span><br><span class="line">sysctl net.core.default_qdisc</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰åŠ è½½çš„å†…æ ¸æ¨¡å—</span></span><br><span class="line">lsmod | grep bbr</span><br></pre></td></tr></table></figure><p><a id="technical-details"></a></p><h2 id="âš™ï¸-æŠ€æœ¯ç»†èŠ‚">âš™ï¸ æŠ€æœ¯ç»†èŠ‚</h2><h3 id="é…ç½®æ–‡ä»¶">é…ç½®æ–‡ä»¶</h3><ul><li>ç³»ç»Ÿç½‘ç»œé…ç½®ä¿å­˜åœ¨ <code>/etc/sysctl.d/99-joeyblog.conf</code></li><li>å†…æ ¸åŒ…æ¥è‡ª GitHub Releases: <a href="https://github.com/byJoey/Actions-bbr-v3">byJoey/Actions-bbr-v3</a></li><li>è„šæœ¬ä¼šè‡ªåŠ¨å¤‡ä»½åŸæœ‰é…ç½®ï¼Œä¾¿äºéœ€è¦æ—¶æ¢å¤</li></ul><h3 id="å¼•å¯¼æ›´æ–°">å¼•å¯¼æ›´æ–°</h3><ul><li>è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä½¿ç”¨ <code>update-grub</code> æ›´æ–°å¼•å¯¼é…ç½®</li><li>å¯¹äº ARM ç³»ç»Ÿï¼ˆå¦‚ U-Bootï¼‰ï¼Œæä¾›ç›¸åº”æç¤ºä¿¡æ¯</li><li>æ”¯æŒå¤šå†…æ ¸å¹¶å­˜ï¼Œå¯è‡ªç”±é€‰æ‹©å¯åŠ¨å†…æ ¸</li></ul><h3 id="ğŸ”„-ç‰ˆæœ¬ç®¡ç†">ğŸ”„ ç‰ˆæœ¬ç®¡ç†</h3><ul><li>è‡ªåŠ¨æ£€æµ‹å·²å®‰è£…ç‰ˆæœ¬å’Œå¯ç”¨æ›´æ–°</li><li>æ”¯æŒç‰ˆæœ¬åˆ—è¡¨æ˜¾ç¤ºå’Œé€‰æ‹©å®‰è£…</li><li>è‡ªåŠ¨æ¸…ç†æ—§å†…æ ¸åŒ…ï¼ŒèŠ‚çœç£ç›˜ç©ºé—´</li></ul><p><a id="important-notes"></a></p><h2 id="ğŸ’¡-æ³¨æ„äº‹é¡¹">ğŸ’¡ æ³¨æ„äº‹é¡¹</h2><ol><li><strong>æƒé™è¦æ±‚</strong> - éœ€è¦ root æƒé™æ‰§è¡Œå†…æ ¸å®‰è£…å’Œé…ç½®ä¿®æ”¹æ“ä½œ</li><li><strong>é‡å¯è¦æ±‚</strong> - å®‰è£…æ–°å†…æ ¸åéœ€è¦é‡å¯ç³»ç»Ÿæ‰èƒ½ç”Ÿæ•ˆï¼Œè„šæœ¬ä¼šæç¤ºé‡å¯</li><li><strong>å…¼å®¹æ€§</strong> - è„šæœ¬ä¼šè‡ªåŠ¨å¸è½½æ—§ç‰ˆæœ¬å†…æ ¸ä»¥é¿å…å†²çªï¼Œä½†å»ºè®®å¤‡ä»½é‡è¦æ•°æ®</li><li><strong>ç”Ÿäº§ç¯å¢ƒ</strong> - å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œå»ºè®®å…ˆæµ‹è¯•å†éƒ¨ç½²ï¼Œå¯åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯æ•ˆæœ</li><li><strong>ç½‘ç»œä¾èµ–</strong> - å®‰è£…è¿‡ç¨‹éœ€è¦è”ç½‘ä¸‹è½½å†…æ ¸åŒ…ï¼Œè¯·ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®š</li></ol><p><a id="troubleshooting"></a></p><h2 id="ğŸ”§-æ•…éšœæ’é™¤">ğŸ”§ æ•…éšœæ’é™¤</h2><p>å¦‚æœè„šæœ¬æ‰§è¡Œå‡ºç°é—®é¢˜ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹æ’æŸ¥æ­¥éª¤ï¼š</p><ol><li><strong>æ£€æŸ¥ç½‘ç»œè¿æ¥</strong> - ç¡®ä¿æœåŠ¡å™¨å¯ä»¥æ­£å¸¸è®¿é—®äº’è”ç½‘å’ŒGitHub</li><li><strong>ç¡®è®¤ç³»ç»Ÿå…¼å®¹æ€§</strong> - æ£€æŸ¥ç³»ç»Ÿæ˜¯å¦ä¸ºæ”¯æŒçš„Debian/Ubuntuç‰ˆæœ¬</li><li><strong>æŸ¥çœ‹é”™è¯¯ä¿¡æ¯</strong> - ä»”ç»†é˜…è¯»è„šæœ¬è¾“å‡ºçš„é”™è¯¯ä¿¡æ¯ï¼Œé€šå¸¸åŒ…å«è§£å†³çº¿ç´¢</li><li><strong>æ‰‹åŠ¨ä¸‹è½½æ‰§è¡Œ</strong> - å¦‚æœcurlç›´æ¥æ‰§è¡Œå¤±è´¥ï¼Œå¯ä»¥å°è¯•æ‰‹åŠ¨ä¸‹è½½è„šæœ¬ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/byJoey/Actions-bbr-v3/master/install-bbr.sh</span><br><span class="line"><span class="built_in">chmod</span> +x install-bbr.sh</span><br><span class="line">./install-bbr.sh</span><br></pre></td></tr></table></figure></li><li><strong>å¯»æ±‚å¸®åŠ©</strong> - å¯ä»¥é€šè¿‡Telegramç¾¤ç»„è”ç³»ä½œè€…æˆ–ç¤¾åŒºè·å–æ”¯æŒ</li></ol><p><a id="script-features"></a></p><h2 id="âœ¨-è„šæœ¬ç‰¹ç‚¹">âœ¨ è„šæœ¬ç‰¹ç‚¹</h2><h3 id="ğŸ”„-è‡ªåŠ¨åŒ–ç¨‹åº¦é«˜">ğŸ”„ è‡ªåŠ¨åŒ–ç¨‹åº¦é«˜</h3><ul><li>è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿæ¶æ„å’Œç‰ˆæœ¬</li><li>è‡ªåŠ¨å®‰è£…æ‰€éœ€ä¾èµ–é¡¹</li><li>è‡ªåŠ¨ä¸‹è½½å’ŒéªŒè¯å†…æ ¸åŒ…</li><li>è‡ªåŠ¨é…ç½®ä¼˜åŒ–å‚æ•°</li></ul><h3 id="ğŸ›¡ï¸-å®‰å…¨å¯é ">ğŸ›¡ï¸ å®‰å…¨å¯é </h3><ul><li>ä½¿ç”¨å®˜æ–¹æºå’ŒéªŒè¯è¿‡çš„å†…æ ¸åŒ…</li><li>æä¾›å¸è½½åŠŸèƒ½ï¼Œå¯å®Œæ•´æ¸…ç†</li><li>é…ç½®ä¿®æ”¹å‰è‡ªåŠ¨å¤‡ä»½</li><li>é”™è¯¯å¤„ç†æœºåˆ¶å®Œå–„ï¼Œé¿å…åŠå®ŒæˆçŠ¶æ€</li></ul><h3 id="ğŸ“Š-ç”¨æˆ·ä½“éªŒå¥½">ğŸ“Š ç”¨æˆ·ä½“éªŒå¥½</h3><ul><li>æ¸…æ™°çš„äº¤äº’æç¤ºå’Œè¿›åº¦æ˜¾ç¤º</li><li>é¢œè‰²åŒºåˆ†ä¸åŒç±»å‹ä¿¡æ¯</li><li>è¯¦ç»†çš„çŠ¶æ€æ£€æŸ¥å’ŒéªŒè¯åŠŸèƒ½</li><li>å¤šå¹³å°æ”¯æŒå’Œå®Œå–„çš„æ–‡æ¡£</li></ul><p><a id="use-cases"></a></p><h2 id="ğŸ¯-ä½¿ç”¨åœºæ™¯">ğŸ¯ ä½¿ç”¨åœºæ™¯</h2><p>è¿™ä¸ªBBRç®¡ç†è„šæœ¬ç‰¹åˆ«é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p><h3 id="ğŸŒ-ç½‘ç»œä¼˜åŒ–éœ€æ±‚">ğŸŒ ç½‘ç»œä¼˜åŒ–éœ€æ±‚</h3><ul><li>æµ·å¤–æœåŠ¡å™¨åŠ é€Ÿ - å‡å°‘å›½é™…é“¾è·¯å»¶è¿Ÿå’Œä¸¢åŒ…å½±å“</li><li>è§†é¢‘æµåª’ä½“æœåŠ¡ - æä¾›æ›´ç¨³å®šçš„å¸¦å®½å’Œæ›´ä½çš„ç¼“å†²</li><li>æ¸¸æˆæœåŠ¡å™¨ - é™ä½ç½‘ç»œå»¶è¿Ÿå’ŒæŠ–åŠ¨ï¼Œæå‡æ¸¸æˆä½“éªŒ</li><li>å¤§æ–‡ä»¶ä¼ è¾“ - æé«˜ä¼ è¾“æ•ˆç‡å’Œé€Ÿåº¦ç¨³å®šæ€§</li></ul><h3 id="ğŸ–¥ï¸-æœåŠ¡å™¨ç®¡ç†">ğŸ–¥ï¸ æœåŠ¡å™¨ç®¡ç†</h3><ul><li>æ‰¹é‡æœåŠ¡å™¨éƒ¨ç½² - ä¸€é”®æ ‡å‡†åŒ–ç½‘ç»œé…ç½®</li><li>è‡ªåŠ¨åŒ–è¿ç»´ - å¯é›†æˆåˆ°è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹ä¸­</li><li>æ€§èƒ½è°ƒä¼˜ - å¿«é€Ÿæµ‹è¯•ä¸åŒæ‹¥å¡ç®—æ³•æ•ˆæœ</li><li>ä¸´æ—¶åŠ é€Ÿ - æ´»åŠ¨æœŸé—´ä¸´æ—¶æå‡ç½‘ç»œæ€§èƒ½</li></ul><hr><p>é€šè¿‡è¿™ä¸ªè„šæœ¬ï¼Œæ‚¨å¯ä»¥è½»æ¾ç®¡ç†å’Œä¼˜åŒ–æœåŠ¡å™¨çš„ç½‘ç»œæ€§èƒ½ï¼Œäº«å— BBR v3 å¸¦æ¥çš„ç½‘ç»œåŠ é€Ÿæ•ˆæœã€‚æ— è®ºæ˜¯ä¸ªäººé¡¹ç›®è¿˜æ˜¯ä¼ä¸šåº”ç”¨ï¼Œéƒ½èƒ½ä»ä¸­è·å¾—æ˜¾è‘—çš„ç½‘ç»œæ€§èƒ½æå‡ã€‚</p><blockquote><p>ğŸ’¡ æç¤ºï¼šå»ºè®®å®šæœŸæ£€æŸ¥æ›´æ–°ï¼Œä»¥è·å–æœ€æ–°ç‰ˆæœ¬çš„BBRæ”¹è¿›å’Œæ€§èƒ½ä¼˜åŒ–ã€‚</p></blockquote>]]></content>
    
    
    <summary type="html">æœ¬æ–‡ä»‹ç»ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ BBR æ‹¥å¡æ§åˆ¶ç®—æ³•ç®¡ç†è„šæœ¬ï¼Œæ”¯æŒä¸€é”®å®‰è£…ã€æ›´æ–°å’Œç®¡ç† BBR v3 å†…æ ¸åŠæ‹¥å¡æ§åˆ¶é…ç½®ï¼Œå¸®åŠ©æ‚¨è½»æ¾ä¼˜åŒ–æœåŠ¡å™¨ç½‘ç»œæ€§èƒ½ã€‚</summary>
    
    
    
    <category term="Linux" scheme="https://www.meimolihan.eu.org/categories/Linux/"/>
    
    
    <category term="è„šæœ¬" scheme="https://www.meimolihan.eu.org/tags/%E8%84%9A%E6%9C%AC/"/>
    
  </entry>
  
  <entry>
    <title>Linux é…ç½® Google BBR åŠ é€ŸæŠ€æœ¯æŒ‡å— ğŸ“ˆ</title>
    <link href="https://www.meimolihan.eu.org/posts/e5905f5b.html"/>
    <id>https://www.meimolihan.eu.org/posts/e5905f5b.html</id>
    <published>2025-09-13T01:35:16.000Z</published>
    <updated>2025-09-13T01:35:16.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Linux é…ç½® Google BBR åŠ é€ŸæŠ€æœ¯æŒ‡å— ğŸ“ˆ</h1><p><img src="https://file.meimolihan.eu.org/img/google-bbr-01.webp" alt=""></p><hr><h2 id="ğŸ“–-å¯¼èˆªç›®å½•">ğŸ“– å¯¼èˆªç›®å½•</h2><ul><li><a href="#bbr-overview">ğŸš€ BBRæŠ€æœ¯æ¦‚è¿°</a></li><li><a href="#pre-check">ğŸ“‹ å¯ç”¨å‰çš„ç³»ç»Ÿæ£€æŸ¥</a></li><li><a href="#flyingbull-os-setup">ğŸ› ï¸ é£ç‰›OSå¯ç”¨BBRå®Œæ•´æ­¥éª¤</a><ul><li><a href="#flyingbull-step1">ğŸ“ æ­¥éª¤1ï¼šåŠ è½½BBRå†…æ ¸æ¨¡å—</a></li><li><a href="#flyingbull-step2">ğŸ“ æ­¥éª¤2ï¼šè®¾ç½®æ‹¥å¡æ§åˆ¶ç®—æ³•</a></li><li><a href="#flyingbull-step3">ğŸ“ æ­¥éª¤3ï¼šé…ç½®å…¬å¹³é˜Ÿåˆ—(FQ)</a></li><li><a href="#flyingbull-step4">ğŸ“ æ­¥éª¤4ï¼šåˆ›å»ºæŒä¹…åŒ–é…ç½®æ–‡ä»¶</a></li><li><a href="#flyingbull-step5">ğŸ“ æ­¥éª¤5ï¼šåº”ç”¨æ–°é…ç½®</a></li></ul></li><li><a href="#proxmox-ve-setup">âš™ï¸ Proxmox VEå¯ç”¨BBRå®Œæ•´æ­¥éª¤</a><ul><li><a href="#proxmox-step1">ğŸ”§ æ­¥éª¤1ï¼šåŠ è½½BBRå†…æ ¸æ¨¡å—</a></li><li><a href="#proxmox-step2">ğŸ”§ æ­¥éª¤2ï¼šè®¾ç½®BBRä¸ºæ‹¥å¡æ§åˆ¶ç®—æ³•</a></li><li><a href="#proxmox-step3">ğŸ”§ æ­¥éª¤3ï¼šé…ç½®å…¬å¹³é˜Ÿåˆ—(FQ)</a></li><li><a href="#proxmox-step4">ğŸ”§ æ­¥éª¤4ï¼šåˆ›å»ºæŒä¹…åŒ–é…ç½®æ–‡ä»¶</a></li><li><a href="#proxmox-step5">ğŸ”§ æ­¥éª¤5ï¼šåº”ç”¨æ–°é…ç½®å¹¶ä¼˜åŒ–é™„åŠ å‚æ•°</a></li></ul></li><li><a href="#debian-setup">ğŸ§ Debianç³»ç»Ÿå¯ç”¨BBR</a><ul><li><a href="#debian-method1">ğŸª„ æ–¹æ³•ä¸€ï¼šä¸€é”®è„šæœ¬é…ç½®</a></li><li><a href="#debian-method2">ğŸ› ï¸ æ–¹æ³•äºŒï¼šæ‰‹åŠ¨é…ç½®</a></li></ul></li><li><a href="#performance-test">ğŸ§ª ç½‘ç»œæ€§èƒ½æµ‹è¯•æ–¹æ³•</a></li><li><a href="#notes-and-rollback">âš ï¸ æ³¨æ„äº‹é¡¹ä¸å›é€€æ–¹æ¡ˆ</a></li><li><a href="#faq">â“ å¸¸è§é—®é¢˜è§£ç­”</a></li><li><a href="#optimization-tips">ğŸ’ æ€§èƒ½ä¼˜åŒ–å»ºè®®</a></li></ul><hr><p><a id="bbr-overview"></a></p><h2 id="ğŸš€-BBRæŠ€æœ¯æ¦‚è¿°">ğŸš€ BBRæŠ€æœ¯æ¦‚è¿°</h2><p>BBRï¼ˆBottleneck Bandwidth and Round-trip propagation timeï¼‰æ˜¯Googleå¼€å‘çš„ä¸€ç§é©å‘½æ€§TCPæ‹¥å¡æ§åˆ¶ç®—æ³•ï¼Œé€šè¿‡æ™ºèƒ½æµ‹é‡ç½‘ç»œè·¯å¾„çš„<strong>å¸¦å®½å®¹é‡</strong>å’Œ<strong>å¾€è¿”æ—¶é—´</strong>ï¼ˆRTTï¼‰æ¥åŠ¨æ€ä¼˜åŒ–æ•°æ®å‘é€é€Ÿç‡ã€‚ä¸ä¼ ç»Ÿç®—æ³•ç›¸æ¯”ï¼ŒBBRæä¾›äº†æ›´æ™ºèƒ½çš„ç½‘ç»œæµé‡ç®¡ç†æ–¹å¼ï¼</p><h3 id="âœ¨-BBRçš„æ ¸å¿ƒä¼˜åŠ¿">âœ¨ BBRçš„æ ¸å¿ƒä¼˜åŠ¿</h3><ul><li><strong>ğŸ“¶ æå‡ç½‘ç»œååé‡</strong>ï¼šå¹³å‡æå‡30%ä»¥ä¸Šä¼ è¾“é€Ÿåº¦</li><li><strong>â±ï¸ é™ä½ç½‘ç»œå»¶è¿Ÿ</strong>ï¼šå‡å°‘20-30%çš„ç½‘ç»œå“åº”æ—¶é—´</li><li><strong>ğŸ“‰ å‡å°‘æ•°æ®åŒ…ä¸¢å¤±</strong>ï¼šæ›´æ™ºèƒ½çš„æ‹¥å¡é¢„æµ‹æœºåˆ¶</li><li><strong>ğŸŒ é«˜å¸¦å®½é«˜å»¶è¿Ÿä¼˜åŒ–</strong>ï¼šç‰¹åˆ«é€‚åˆç°ä»£ç½‘ç»œç¯å¢ƒ</li><li><strong>ğŸ”„ æ›´å¥½çš„å…¬å¹³æ€§</strong>ï¼šä¸å…¶ä»–BBRæµå…±äº«å¸¦å®½æ›´å…¬å¹³</li></ul><hr><p><a id="pre-check"></a></p><h2 id="ğŸ“‹-å¯ç”¨å‰çš„ç³»ç»Ÿæ£€æŸ¥">ğŸ“‹ å¯ç”¨å‰çš„ç³»ç»Ÿæ£€æŸ¥</h2><h3 id="ğŸ”-1-éªŒè¯å†…æ ¸ç‰ˆæœ¬">ğŸ” 1. éªŒè¯å†…æ ¸ç‰ˆæœ¬</h3><p>BBRéœ€è¦Linuxå†…æ ¸4.9åŠä»¥ä¸Šç‰ˆæœ¬ã€‚æ£€æŸ¥æ‚¨çš„ç³»ç»Ÿæ˜¯å¦æ»¡è¶³è¦æ±‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">uname</span> -r</span><br><span class="line"><span class="comment"># é£ç‰›OS 32.5 è¾“å‡ºç¤ºä¾‹ï¼š5.15.0-xx-generic</span></span><br><span class="line"><span class="comment"># Proxmox VE 32.254 è¾“å‡ºç¤ºä¾‹ï¼š6.2.16-xx-pve</span></span><br><span class="line"><span class="comment"># Debian 11/12 è¾“å‡ºç¤ºä¾‹ï¼š5.10.0-xx-amd64 æˆ– 6.1.0-xx-amd64</span></span><br></pre></td></tr></table></figure><h3 id="ğŸ”-2-æ£€æŸ¥å½“å‰æ‹¥å¡æ§åˆ¶ç®—æ³•">ğŸ” 2. æ£€æŸ¥å½“å‰æ‹¥å¡æ§åˆ¶ç®—æ³•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sysctl net.ipv4.tcp_congestion_control</span><br><span class="line"><span class="comment"># é»˜è®¤è¾“å‡ºå¯èƒ½ä¸ºï¼šcubic æˆ– reno</span></span><br></pre></td></tr></table></figure><h3 id="ğŸ”-3-ç¡®è®¤BBRæ¨¡å—å¯ç”¨æ€§">ğŸ” 3. ç¡®è®¤BBRæ¨¡å—å¯ç”¨æ€§</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> modprobe tcp_bbr &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;âœ… BBRæ¨¡å—å¯ç”¨&quot;</span></span><br><span class="line">lsmod | grep bbr</span><br></pre></td></tr></table></figure><hr><p><a id="flyingbull-os-setup"></a></p><h2 id="ğŸ› ï¸-é£ç‰›OSå¯ç”¨BBRå®Œæ•´æ­¥éª¤">ğŸ› ï¸ é£ç‰›OSå¯ç”¨BBRå®Œæ•´æ­¥éª¤</h2><p><a id="flyingbull-step1"></a></p><h3 id="ğŸ“-æ­¥éª¤1ï¼šåŠ è½½BBRå†…æ ¸æ¨¡å—">ğŸ“ æ­¥éª¤1ï¼šåŠ è½½BBRå†…æ ¸æ¨¡å—</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> modprobe tcp_bbr</span><br></pre></td></tr></table></figure><p><a id="flyingbull-step2"></a></p><h3 id="ğŸ“-æ­¥éª¤2ï¼šè®¾ç½®æ‹¥å¡æ§åˆ¶ç®—æ³•">ğŸ“ æ­¥éª¤2ï¼šè®¾ç½®æ‹¥å¡æ§åˆ¶ç®—æ³•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> sysctl -w net.ipv4.tcp_congestion_control=bbr</span><br></pre></td></tr></table></figure><p><a id="flyingbull-step3"></a></p><h3 id="ğŸ“-æ­¥éª¤3ï¼šé…ç½®å…¬å¹³é˜Ÿåˆ—-FQ">ğŸ“ æ­¥éª¤3ï¼šé…ç½®å…¬å¹³é˜Ÿåˆ—(FQ)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> sysctl -w net.core.default_qdisc=fq</span><br></pre></td></tr></table></figure><p><a id="flyingbull-step4"></a></p><h3 id="ğŸ“-æ­¥éª¤4ï¼šåˆ›å»ºæŒä¹…åŒ–é…ç½®æ–‡ä»¶">ğŸ“ æ­¥éª¤4ï¼šåˆ›å»ºæŒä¹…åŒ–é…ç½®æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.ipv4.tcp_congestion_control=bbr&quot;</span> | <span class="built_in">sudo</span> <span class="built_in">tee</span> -a /etc/sysctl.d/99-bbr.conf</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.core.default_qdisc=fq&quot;</span> | <span class="built_in">sudo</span> <span class="built_in">tee</span> -a /etc/sysctl.d/99-bbr.conf</span><br></pre></td></tr></table></figure><p><a id="flyingbull-step5"></a></p><h3 id="ğŸ“-æ­¥éª¤5ï¼šåº”ç”¨æ–°é…ç½®">ğŸ“ æ­¥éª¤5ï¼šåº”ç”¨æ–°é…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> sysctl -p /etc/sysctl.d/99-bbr.conf</span><br></pre></td></tr></table></figure><hr><p><a id="proxmox-ve-setup"></a></p><h2 id="âš™ï¸-Proxmox-VEå¯ç”¨BBRå®Œæ•´æ­¥éª¤">âš™ï¸ Proxmox VEå¯ç”¨BBRå®Œæ•´æ­¥éª¤</h2><p><a id="proxmox-step1"></a></p><h3 id="ğŸ”§-æ­¥éª¤1ï¼šåŠ è½½BBRå†…æ ¸æ¨¡å—">ğŸ”§ æ­¥éª¤1ï¼šåŠ è½½BBRå†…æ ¸æ¨¡å—</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">modprobe tcp_bbr</span><br></pre></td></tr></table></figure><p><a id="proxmox-step2"></a></p><h3 id="ğŸ”§-æ­¥éª¤2ï¼šè®¾ç½®BBRä¸ºæ‹¥å¡æ§åˆ¶ç®—æ³•">ğŸ”§ æ­¥éª¤2ï¼šè®¾ç½®BBRä¸ºæ‹¥å¡æ§åˆ¶ç®—æ³•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl -w net.ipv4.tcp_congestion_control=bbr</span><br></pre></td></tr></table></figure><p><a id="proxmox-step3"></a></p><h3 id="ğŸ”§-æ­¥éª¤3ï¼šé…ç½®å…¬å¹³é˜Ÿåˆ—-FQ">ğŸ”§ æ­¥éª¤3ï¼šé…ç½®å…¬å¹³é˜Ÿåˆ—(FQ)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl -w net.core.default_qdisc=fq</span><br></pre></td></tr></table></figure><p><a id="proxmox-step4"></a></p><h3 id="ğŸ”§-æ­¥éª¤4ï¼šåˆ›å»ºæŒä¹…åŒ–é…ç½®æ–‡ä»¶">ğŸ”§ æ­¥éª¤4ï¼šåˆ›å»ºæŒä¹…åŒ–é…ç½®æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.ipv4.tcp_congestion_control=bbr&quot;</span> &gt;&gt; /etc/sysctl.d/99-bbr.conf</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.core.default_qdisc=fq&quot;</span> &gt;&gt; /etc/sysctl.d/99-bbr.conf</span><br></pre></td></tr></table></figure><p><a id="proxmox-step5"></a></p><h3 id="ğŸ”§-æ­¥éª¤5ï¼šåº”ç”¨æ–°é…ç½®å¹¶ä¼˜åŒ–é™„åŠ å‚æ•°">ğŸ”§ æ­¥éª¤5ï¼šåº”ç”¨æ–°é…ç½®å¹¶ä¼˜åŒ–é™„åŠ å‚æ•°</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åº”ç”¨BBRé…ç½®</span></span><br><span class="line">sysctl -p /etc/sysctl.d/99-bbr.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¼˜åŒ–ç½‘ç»œå†…å­˜å‚æ•°ï¼ˆProxmoxç‰¹åˆ«æ¨èï¼‰</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.core.rmem_max=16777216&quot;</span> &gt;&gt; /etc/sysctl.d/99-bbr.conf</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.core.wmem_max=16777216&quot;</span> &gt;&gt; /etc/sysctl.d/99-bbr.conf</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.ipv4.tcp_rmem=4096 87380 16777216&quot;</span> &gt;&gt; /etc/sysctl.d/99-bbr.conf</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.ipv4.tcp_wmem=4096 65536 16777216&quot;</span> &gt;&gt; /etc/sysctl.d/99-bbr.conf</span><br><span class="line">sysctl -p /etc/sysctl.d/99-bbr.conf</span><br></pre></td></tr></table></figure><hr><p><a id="debian-setup"></a></p><h2 id="ğŸ§-Debianç³»ç»Ÿå¯ç”¨BBR">ğŸ§ Debianç³»ç»Ÿå¯ç”¨BBR</h2><p><a id="debian-method1"></a></p><h3 id="ğŸª„-æ–¹æ³•ä¸€ï¼šä¸€é”®è„šæœ¬é…ç½®">ğŸª„ æ–¹æ³•ä¸€ï¼šä¸€é”®è„šæœ¬é…ç½®</h3><p>å¯¹äºåŸºäºDebiançš„ç³»ç»Ÿï¼ˆåŒ…æ‹¬Ubuntuã€é£ç‰›OSç­‰ï¼‰ï¼Œå¯ä½¿ç”¨ä¸€é”®é…ç½®è„šæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ç§‘æŠ€Lionçš„ä¸€é”®è„šæœ¬</span></span><br><span class="line">bash &lt;(curl -sL kejilion.sh)</span><br></pre></td></tr></table></figure><p>é€‰æ‹©èœå•é€‰é¡¹ï¼š<code>13. ç³»ç»Ÿå·¥å…·</code> â†’ <code>16. è®¾ç½®BBR3åŠ é€Ÿ</code></p><p><a id="debian-method2"></a></p><h3 id="ğŸ› ï¸-æ–¹æ³•äºŒï¼šæ‰‹åŠ¨é…ç½®">ğŸ› ï¸ æ–¹æ³•äºŒï¼šæ‰‹åŠ¨é…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. ç¼–è¾‘sysctlé…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">sudo</span> nano /etc/sysctl.d/99-bbr.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. æ·»åŠ ä»¥ä¸‹å†…å®¹</span></span><br><span class="line">net.core.default_qdisc = fq</span><br><span class="line">net.ipv4.tcp_congestion_control = bbr</span><br><span class="line">net.ipv4.tcp_fastopen = 3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. ä¿å­˜å¹¶åº”ç”¨é…ç½®</span></span><br><span class="line"><span class="built_in">sudo</span> sysctl -p /etc/sysctl.d/99-bbr.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. æ£€æŸ¥æ˜¯å¦ç”Ÿæ•ˆ</span></span><br><span class="line">sysctl net.ipv4.tcp_congestion_control</span><br><span class="line"><span class="comment"># åº”è¯¥æ˜¾ç¤º: net.ipv4.tcp_congestion_control = bbr</span></span><br></pre></td></tr></table></figure><hr><p><a id="performance-test"></a></p><h2 id="ğŸ§ª-ç½‘ç»œæ€§èƒ½æµ‹è¯•æ–¹æ³•">ğŸ§ª ç½‘ç»œæ€§èƒ½æµ‹è¯•æ–¹æ³•</h2><h3 id="ğŸ“Š-éªŒè¯BBRæ˜¯å¦å¯ç”¨æˆåŠŸ">ğŸ“Š éªŒè¯BBRæ˜¯å¦å¯ç”¨æˆåŠŸ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sysctl net.ipv4.tcp_congestion_control</span><br><span class="line"><span class="comment"># åº”è¾“å‡ºï¼šnet.ipv4.tcp_congestion_control = bbr</span></span><br><span class="line"></span><br><span class="line">sysctl net.core.default_qdisc</span><br><span class="line"><span class="comment"># åº”è¾“å‡ºï¼šnet.core.default_qdisc = fq</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨sså‘½ä»¤æ£€æŸ¥å®é™…è¿æ¥</span></span><br><span class="line">ss -tin | grep bbr</span><br></pre></td></tr></table></figure><h3 id="ğŸ§ª-æ€§èƒ½åŸºå‡†æµ‹è¯•">ğŸ§ª æ€§èƒ½åŸºå‡†æµ‹è¯•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…iperf3ï¼ˆè‹¥æœªå®‰è£…ï¼‰</span></span><br><span class="line"><span class="built_in">sudo</span> apt install iperf3 -y</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºç«‹æµ‹è¯•æœåŠ¡å™¨ï¼ˆåœ¨å¦ä¸€å°æœºå™¨ï¼‰</span></span><br><span class="line">iperf3 -s</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨å·²å¯ç”¨BBRçš„ç³»ç»Ÿä¸Šè¿è¡Œå®¢æˆ·ç«¯æµ‹è¯•</span></span><br><span class="line">iperf3 -c &lt;server_ip&gt; -t 30 -P 4</span><br></pre></td></tr></table></figure><h3 id="ğŸ“ˆ-Proxmoxç‰¹å®šæµ‹è¯•">ğŸ“ˆ Proxmoxç‰¹å®šæµ‹è¯•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è™šæ‹Ÿæœºé—´ç½‘ç»œæ€§èƒ½æµ‹è¯•</span></span><br><span class="line">vm_id=100</span><br><span class="line"><span class="keyword">time</span> qm migrate <span class="variable">$vm_id</span> &lt;target_node&gt; --online --with-local-disks</span><br><span class="line"></span><br><span class="line"><span class="comment"># å­˜å‚¨æ€§èƒ½æµ‹è¯•</span></span><br><span class="line">fio --name=<span class="built_in">test</span> --ioengine=libaio --rw=randrw --bs=4k --numjobs=4 --size=1G --time_based --runtime=60</span><br></pre></td></tr></table></figure><hr><p><a id="notes-and-rollback"></a></p><h2 id="âš ï¸-æ³¨æ„äº‹é¡¹ä¸å›é€€æ–¹æ¡ˆ">âš ï¸ æ³¨æ„äº‹é¡¹ä¸å›é€€æ–¹æ¡ˆ</h2><h3 id="ğŸ¯-ç³»ç»Ÿå…¼å®¹æ€§è¯´æ˜">ğŸ¯ ç³»ç»Ÿå…¼å®¹æ€§è¯´æ˜</h3><ol><li><strong>é£ç‰›OS</strong>ï¼šåŸºäºUbuntuï¼Œå†…æ ¸ç‰ˆæœ¬é€šå¸¸â‰¥5.15ï¼Œå®Œå…¨æ”¯æŒBBR</li><li><strong>Proxmox VE</strong>ï¼šä½¿ç”¨6.2+å†…æ ¸ï¼ŒBBRæ”¯æŒå®Œå–„</li><li><strong>Debianç³»ç»Ÿ</strong>ï¼šDebian 10+ å†…æ ¸ç‰ˆæœ¬â‰¥4.19ï¼Œæ”¯æŒBBR</li><li><strong>è™šæ‹ŸåŒ–ç¯å¢ƒ</strong>ï¼šåœ¨VMWare/KVMä¸­æ€§èƒ½æå‡æ˜¾è‘—</li><li><strong>å®¹å™¨ç¯å¢ƒ</strong>ï¼šDockerå®¹å™¨å†…éœ€åœ¨ä¸»OSå¯ç”¨BBR</li></ol><h3 id="ğŸ”™-å›é€€åˆ°é»˜è®¤è®¾ç½®">ğŸ”™ å›é€€åˆ°é»˜è®¤è®¾ç½®</h3><p>å¦‚é‡åˆ°ç½‘ç»œé—®é¢˜ï¼Œå¯æ¢å¤é»˜è®¤é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¢å¤é»˜è®¤æ‹¥å¡æ§åˆ¶ç®—æ³•</span></span><br><span class="line"><span class="built_in">sudo</span> sysctl -w net.ipv4.tcp_congestion_control=cubic</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¢å¤é»˜è®¤æ’é˜Ÿè§„åˆ™</span></span><br><span class="line"><span class="built_in">sudo</span> sysctl -w net.core.default_qdisc=fq_codel</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤BBRé…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> /etc/sysctl.d/99-bbr.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°åŠ è½½ç³»ç»Ÿé…ç½®</span></span><br><span class="line"><span class="built_in">sudo</span> sysctl -p /etc/sysctl.conf</span><br></pre></td></tr></table></figure><p><a id="faq"></a></p><h2 id="â“-å¸¸è§é—®é¢˜è§£ç­”">â“ å¸¸è§é—®é¢˜è§£ç­”</h2><h3 id="â”-BBRæ˜¯å¦ä¼šå½±å“ç³»ç»Ÿç¨³å®šæ€§ï¼Ÿ">â” BBRæ˜¯å¦ä¼šå½±å“ç³»ç»Ÿç¨³å®šæ€§ï¼Ÿ</h3><p><strong>A</strong>ï¼šBBRå·²é›†æˆåœ¨ä¸»æµLinuxå†…æ ¸ä¸­ï¼Œç»è¿‡å¹¿æ³›æµ‹è¯•ï¼Œä¸å½±å“ç³»ç»Ÿç¨³å®šæ€§ã€‚</p><h3 id="â”-å¯ç”¨BBRéœ€è¦é‡å¯ç³»ç»Ÿå—ï¼Ÿ">â” å¯ç”¨BBRéœ€è¦é‡å¯ç³»ç»Ÿå—ï¼Ÿ</h3><p><strong>A</strong>ï¼šä¸éœ€è¦ç«‹å³é‡å¯ï¼Œé…ç½®ä¼šç«‹å³ç”Ÿæ•ˆä¸”å·²æŒä¹…åŒ–ï¼Œä½†å»ºè®®é‡å¯åéªŒè¯é…ç½®ã€‚</p><h3 id="â”-BBRv2å’ŒBBRv1æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ">â” BBRv2å’ŒBBRv1æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p><strong>A</strong>ï¼šBBRv2è¿›ä¸€æ­¥å‡å°‘ä¸¢åŒ…ç‡ï¼Œä½†å½“å‰ä¸»æµç³»ç»Ÿé»˜è®¤é›†æˆBBRv1ã€‚</p><h3 id="â”-å¦‚ä½•ç›‘æ§BBRè¿è¡Œæ•ˆæœï¼Ÿ">â” å¦‚ä½•ç›‘æ§BBRè¿è¡Œæ•ˆæœï¼Ÿ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®æ—¶ç›‘æ§BBRè¿æ¥çŠ¶æ€</span></span><br><span class="line">watch -d -n 1 <span class="string">&quot;ss -tin | grep bbr&quot;</span></span><br></pre></td></tr></table></figure><h3 id="â”-BBRå¯¹Proxmoxé›†ç¾¤æœ‰ä½•å½±å“ï¼Ÿ">â” BBRå¯¹Proxmoxé›†ç¾¤æœ‰ä½•å½±å“ï¼Ÿ</h3><p><strong>A</strong>ï¼šå»ºè®®åœ¨é›†ç¾¤æ‰€æœ‰èŠ‚ç‚¹å¯ç”¨ç›¸åŒé…ç½®ï¼Œå¯æå‡è·¨èŠ‚ç‚¹è¿ç§»å’Œå­˜å‚¨å¤åˆ¶æ€§èƒ½ã€‚</p><h3 id="â”-Debianç³»ç»Ÿå¯ç”¨BBRçš„æœ€ä½³æ–¹æ³•ï¼Ÿ">â” Debianç³»ç»Ÿå¯ç”¨BBRçš„æœ€ä½³æ–¹æ³•ï¼Ÿ</h3><p><strong>A</strong>ï¼šå¯¹äºæ–°æ‰‹æ¨èä½¿ç”¨ä¸€é”®è„šæœ¬ï¼Œå¯¹äºæœ‰ç»éªŒçš„ç”¨æˆ·å»ºè®®æ‰‹åŠ¨é…ç½®ä»¥ä¾¿æ›´å¥½ç†è§£åŸç†ã€‚</p><p><a id="optimization-tips"></a></p><h2 id="ğŸ’-æ€§èƒ½ä¼˜åŒ–å»ºè®®">ğŸ’ æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2><h3 id="ğŸš€-é£ç‰›OSä¼˜åŒ–è¡¥å……">ğŸš€ é£ç‰›OSä¼˜åŒ–è¡¥å……</h3><ol><li><p><strong>ğŸ“¶ ç½‘ç»œç¯å¢ƒé€‚é…</strong>ï¼š</p><ul><li>é«˜å»¶è¿Ÿç½‘ç»œï¼ˆ&gt;50msï¼‰æå‡æœ€æ˜æ˜¾</li><li>ä½å¸¦å®½ç¯å¢ƒï¼ˆ&lt;10Mbpsï¼‰å¯èƒ½æå‡æœ‰é™</li></ul></li><li><p><strong>ğŸ”„ ç»“åˆå¤šé˜Ÿåˆ—ç½‘å¡</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥å¹¶è®¾ç½®ç½‘å¡å¤šé˜Ÿåˆ—</span></span><br><span class="line">ethtool -l eth0</span><br><span class="line">ethtool -L eth0 combined 8</span><br></pre></td></tr></table></figure></li></ol><h3 id="ğŸš€-Proxmox-VEé«˜çº§ä¼˜åŒ–">ğŸš€ Proxmox VEé«˜çº§ä¼˜åŒ–</h3><ol><li><p><strong>ğŸ”§ ä¸­æ–­å¹³è¡¡ä¼˜åŒ–</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt install irqbalance</span><br><span class="line">systemctl <span class="built_in">enable</span> irqbalance &amp;&amp; systemctl start irqbalance</span><br></pre></td></tr></table></figure></li><li><p><strong>â±ï¸ å¯ç”¨TCPæ—¶é—´æˆ³</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.ipv4.tcp_timestamps=1&quot;</span> &gt;&gt; /etc/sysctl.d/99-bbr.conf</span><br><span class="line">sysctl -p /etc/sysctl.d/99-bbr.conf</span><br></pre></td></tr></table></figure></li><li><p><strong>ğŸ”„ SR-IOVä¼˜åŒ–</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥ç¡¬ä»¶å¸è½½æ”¯æŒ</span></span><br><span class="line">ethtool -k &lt;interface&gt; | grep hw-tc-offload</span><br></pre></td></tr></table></figure></li></ol><h3 id="ğŸ§-Debianç³»ç»Ÿä¼˜åŒ–">ğŸ§ Debianç³»ç»Ÿä¼˜åŒ–</h3><ol><li><p><strong>ğŸ“Š å†…æ ¸å‚æ•°è°ƒä¼˜</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¢åŠ TCPè¿æ¥æ•°é™åˆ¶</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.core.somaxconn = 65535&quot;</span> &gt;&gt; /etc/sysctl.d/99-bbr.conf</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.ipv4.tcp_max_syn_backlog = 65535&quot;</span> &gt;&gt; /etc/sysctl.d/99-bbr.conf</span><br></pre></td></tr></table></figure></li><li><p><strong>ğŸ”„ å®šæœŸæ›´æ–°ç³»ç»Ÿ</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¿æŒç³»ç»Ÿæœ€æ–°ä»¥è·å¾—æœ€ä½³BBRæ€§èƒ½</span></span><br><span class="line"><span class="built_in">sudo</span> apt update &amp;&amp; <span class="built_in">sudo</span> apt upgrade -y</span><br></pre></td></tr></table></figure></li></ol><hr><p><strong>ğŸ“ˆ æ•ˆæœè¯„ä¼°</strong>ï¼šå¯ç”¨BBRåï¼Œæ‚¨åº”è¯¥åœ¨ä»¥ä¸‹åœºæ™¯è§‚å¯Ÿåˆ°æ€§èƒ½æå‡ï¼š</p><ul><li>è§†é¢‘æµåª’ä½“æ’­æ”¾æ›´æµç•…</li><li>å¤§æ–‡ä»¶ä¼ è¾“é€Ÿåº¦æå‡</li><li>è¿œç¨‹è®¿é—®å“åº”æ›´å¿«</li><li>è™šæ‹Ÿæœºè¿ç§»æ—¶é—´å‡å°‘ï¼ˆProxmoxï¼‰</li><li>å­˜å‚¨å¤åˆ¶åŒæ­¥åŠ é€Ÿ</li></ul><p>å»ºè®®è§‚å¯Ÿ24-48å°æ—¶å†…çš„ç³»ç»Ÿè´Ÿè½½å’Œç½‘ç»œå»¶è¿Ÿå˜åŒ–ï¼Œä½¿ç”¨ç³»ç»Ÿå†…ç½®ç›‘æ§å·¥å…·è¿›è¡Œå‰åå¯¹æ¯”è¯„ä¼°ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Linux é…ç½® Google BBR åŠ é€ŸæŠ€æœ¯æŒ‡å— ğŸ“ˆ&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://file.meimolihan.eu.org/img/google-bbr-01.webp&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;ğŸ“–-å¯¼èˆªç›®å½•&quot;</summary>
      
    
    
    
    <category term="Linux" scheme="https://www.meimolihan.eu.org/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>Linux SSH æœåŠ¡ä¸€é”®é…ç½®è„šæœ¬ä½¿ç”¨æŒ‡å— ğŸš€</title>
    <link href="https://www.meimolihan.eu.org/posts/c8d4d91e.html"/>
    <id>https://www.meimolihan.eu.org/posts/c8d4d91e.html</id>
    <published>2025-09-13T01:32:49.000Z</published>
    <updated>2025-09-13T01:32:49.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Linux SSH æœåŠ¡ä¸€é”®é…ç½®è„šæœ¬ä½¿ç”¨æŒ‡å— ğŸš€</h1><p><img src="https://file.meimolihan.eu.org/img/ssh-01.webp" alt=""></p><blockquote><p>æœ¬æ–‡è¯¦ç»†ä»‹ç»ä¸€ä¸ªé«˜æ•ˆç®¡ç† SSH æœåŠ¡çš„ Bash è„šæœ¬ï¼š<code>setup-ssh.sh</code>ï¼ˆSSH æœåŠ¡ç«¯é…ç½®è„šæœ¬ï¼‰ã€‚<br>âœ… æ”¯æŒä¸»æµ Linux å‘è¡Œç‰ˆï¼šDebian, Ubuntu, CentOS, RHEL, Fedora, OpenSUSE, Arch Linuxã€‚</p></blockquote><hr><h2 id="ğŸ“–-å¯¼èˆªç›®å½•">ğŸ“– å¯¼èˆªç›®å½•</h2><ul><li><a href="#script-overview">ğŸ“Œ è„šæœ¬æ¦‚è¿°</a><ul><li><a href="#ssh-setup-script">ğŸ”§ setup-ssh.sh - SSH æœåŠ¡å™¨é…ç½®è„šæœ¬</a></li></ul></li><li><a href="#ssh-commands">ğŸ› ï¸ è¡¥å…… SSH ç›¸å…³å‘½ä»¤</a><ul><li><a href="#server-commands">ğŸ“Š æœåŠ¡å™¨ç«¯ç®¡ç†å‘½ä»¤</a></li><li><a href="#client-commands">ğŸ’» å®¢æˆ·ç«¯è¿æ¥å‘½ä»¤</a></li><li><a href="#troubleshooting-commands">ğŸ” æ•…éšœæ’æŸ¥å‘½ä»¤</a></li></ul></li><li><a href="#usage-examples">ğŸ¯ SSH ä½¿ç”¨ç¤ºä¾‹</a><ul><li><a href="#example-1">ğŸ”‘ 1. SSH å¯†é’¥è®¤è¯é…ç½®</a></li><li><a href="#example-2">ğŸ”„ 2. SSH ç«¯å£è½¬å‘</a></li></ul></li><li><a href="#common-issues">â“ å¸¸è§é—®é¢˜è§£å†³</a></li><li><a href="#security-tips">ğŸ”’ SSH å®‰å…¨å»ºè®®</a></li><li><a href="#summary">ğŸ“ æ€»ç»“</a></li></ul><hr><p><a id="script-overview"></a></p><h2 id="ğŸ“Œ-è„šæœ¬æ¦‚è¿°">ğŸ“Œ è„šæœ¬æ¦‚è¿°</h2><p>SSHï¼ˆSecure Shellï¼‰æ˜¯ç”¨äºå®‰å…¨è¿œç¨‹ç™»å½•å’Œæ‰§è¡Œå‘½ä»¤çš„ç½‘ç»œåè®®ï¼Œæ˜¯ç®¡ç† Linux æœåŠ¡å™¨çš„æ ‡å‡†å·¥å…·ã€‚ä¸‹é¢ä»‹ç»çš„è„šæœ¬æå¤§ç®€åŒ–äº† SSH æœåŠ¡çš„é…ç½®å’Œç®¡ç†æµç¨‹ã€‚âœ¨</p><p><a id="ssh-setup-script"></a></p><h3 id="ğŸ”§-setup-ssh-sh-SSH-æœåŠ¡å™¨é…ç½®è„šæœ¬">ğŸ”§ <a href="http://setup-ssh.sh">setup-ssh.sh</a> - SSH æœåŠ¡å™¨é…ç½®è„šæœ¬</h3><p>æ­¤è„šæœ¬ç”¨äºè‡ªåŠ¨åŒ–å®‰è£…å’Œé…ç½® SSH æœåŠ¡å™¨ï¼Œä¼˜åŒ–è¿æ¥å‚æ•°å¹¶è®¾ç½®é˜²ç«å¢™è§„åˆ™ï¼Œç‰¹åˆ«é€‚åˆå¿«é€Ÿéƒ¨ç½²å’Œæ‰¹é‡é…ç½®åœºæ™¯ã€‚ğŸ¯</p><p><strong>ä¸»è¦åŠŸèƒ½ç‰¹ç‚¹ï¼š</strong></p><ul><li>âœ… è‡ªåŠ¨æ£€æµ‹ç³»ç»ŸåŒ…ç®¡ç†å™¨ï¼ˆAPT/YUM/DNF/ZYPPER/PACMANï¼‰å¹¶å®‰è£… SSH æœåŠ¡</li><li>âœ… æ”¯æŒä¸»æµ Linux å‘è¡Œç‰ˆï¼šDebian, Ubuntu, CentOS, RHEL, Fedora, OpenSUSE, Arch Linux</li><li>âœ… ä¼˜åŒ– SSH è¿æ¥å‚æ•°ï¼ˆç¦ç”¨ DNS æŸ¥è¯¢ï¼Œå¯ç”¨å‹ç¼©ï¼Œä¿æŒè¿æ¥ç­‰ï¼‰</li><li>âœ… è‡ªåŠ¨é…ç½®é˜²ç«å¢™å…è®¸ SSH è¿æ¥ï¼ˆæ”¯æŒ ufw, firewalld, iptablesï¼‰</li><li>âœ… å¤‡ä»½åŸå§‹é…ç½®æ–‡ä»¶ï¼Œç¡®ä¿æ“ä½œå®‰å…¨å¯é€†</li><li>âœ… æä¾›æ¸…æ™°çš„è¿æ¥ä¿¡æ¯å’Œå®‰å…¨å»ºè®®</li><li>âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•åŠŸèƒ½</li></ul><p><strong>ä½¿ç”¨æ–¹æ³•ï¼š</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Vercel ä»“åº“</span></span><br><span class="line">bash &lt;(curl -sL script.meimolihan.eu.org/sh/ssh/setup-ssh.sh)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Gitee ä»“åº“</span></span><br><span class="line">bash &lt;(curl -sL gitee.com/meimolihan/script/raw/master/sh/ssh/setup-ssh.sh)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…å…ˆä¸‹è½½å†æ‰§è¡Œ</span></span><br><span class="line">wget -c https://gitee.com/meimolihan/script/raw/master/sh/ssh/setup-ssh.sh</span><br><span class="line"><span class="built_in">chmod</span> +x setup-ssh.sh</span><br><span class="line"><span class="built_in">sudo</span> ./setup-ssh.sh</span><br></pre></td></tr></table></figure><p><img src="https://file.meimolihan.eu.org/screenshot/setup-ssh-001.webp" alt=""></p><p><a id="ssh-commands"></a></p><h2 id="ğŸ› ï¸-è¡¥å……-SSH-ç›¸å…³å‘½ä»¤">ğŸ› ï¸ è¡¥å…… SSH ç›¸å…³å‘½ä»¤</h2><p>é™¤äº†ä½¿ç”¨è„šæœ¬å¤–ï¼ŒæŒæ¡ä»¥ä¸‹ SSH å‘½ä»¤å°†å¸®åŠ©æ‚¨æ›´çµæ´»åœ°ç®¡ç†è¿œç¨‹è¿æ¥ã€‚ğŸ“š</p><p><a id="server-commands"></a></p><h3 id="ğŸ“Š-æœåŠ¡å™¨ç«¯ç®¡ç†å‘½ä»¤">ğŸ“Š æœåŠ¡å™¨ç«¯ç®¡ç†å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ SSH æœåŠ¡çŠ¶æ€</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl status ssh</span><br><span class="line"><span class="built_in">sudo</span> systemctl status sshd</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨/åœæ­¢/é‡å¯ SSH æœåŠ¡</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl start ssh</span><br><span class="line"><span class="built_in">sudo</span> systemctl stop ssh</span><br><span class="line"><span class="built_in">sudo</span> systemctl restart ssh</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°åŠ è½½ SSH é…ç½®ï¼ˆä¸ä¸­æ–­ç°æœ‰è¿æ¥ï¼‰</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl reload ssh</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ SSH è¿æ¥æ—¥å¿—</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">tail</span> -f /var/log/auth.log | grep ssh</span><br><span class="line"><span class="built_in">sudo</span> journalctl -u ssh -f</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰è¿æ¥çš„ SSH ç”¨æˆ·</span></span><br><span class="line"><span class="built_in">who</span></span><br><span class="line">w</span><br><span class="line">ps aux | grep sshd</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ SSH é…ç½®æ–‡ä»¶è¯­æ³•</span></span><br><span class="line">sshd -t</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆ SSH ä¸»æœºå¯†é’¥</span></span><br><span class="line"><span class="built_in">sudo</span> ssh-keygen -t rsa -f /etc/ssh/ssh_host_rsa_key</span><br><span class="line"><span class="built_in">sudo</span> ssh-keygen -t ecdsa -f /etc/ssh/ssh_host_ecdsa_key</span><br><span class="line"><span class="built_in">sudo</span> ssh-keygen -t ed25519 -f /etc/ssh/ssh_host_ed25519_key</span><br></pre></td></tr></table></figure><p><a id="client-commands"></a></p><h3 id="ğŸ’»-å®¢æˆ·ç«¯è¿æ¥å‘½ä»¤">ğŸ’» å®¢æˆ·ç«¯è¿æ¥å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŸºæœ¬è¿æ¥</span></span><br><span class="line">ssh username@hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šç«¯å£è¿æ¥</span></span><br><span class="line">ssh -p 2222 username@hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ç‰¹å®šç§é’¥è¿æ¥</span></span><br><span class="line">ssh -i ~/.ssh/mykey username@hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿œç¨‹æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">ssh username@hostname <span class="string">&quot;ls -la&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯ç”¨è¯¦ç»†æ¨¡å¼ï¼ˆè°ƒè¯•ç”¨ï¼‰</span></span><br><span class="line">ssh -v username@hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯ç”¨å‹ç¼©ï¼ˆæ…¢é€Ÿç½‘ç»œæœ‰ç”¨ï¼‰</span></span><br><span class="line">ssh -C username@hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># X11 è½¬å‘ï¼ˆå›¾å½¢ç•Œé¢ï¼‰</span></span><br><span class="line">ssh -X username@hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç«¯å£è½¬å‘ï¼ˆæœ¬åœ°ç«¯å£è½¬å‘ï¼‰</span></span><br><span class="line">ssh -L 8080:localhost:80 username@hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç«¯å£è½¬å‘ï¼ˆè¿œç¨‹ç«¯å£è½¬å‘ï¼‰</span></span><br><span class="line">ssh -R 9090:localhost:90 username@hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># SOCKS ä»£ç†</span></span><br><span class="line">ssh -D 1080 username@hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡ä»¶ä¼ è¾“ï¼ˆSCPï¼‰</span></span><br><span class="line">scp file.txt username@hostname:/path/to/destination</span><br><span class="line">scp -r directory username@hostname:/path/to/destination</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰å…¨æ–‡ä»¶ä¼ è¾“ï¼ˆSFTPï¼‰</span></span><br><span class="line">sftp username@hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒæ­¥æ–‡ä»¶ï¼ˆRSYNC over SSHï¼‰</span></span><br><span class="line">rsync -avz -e ssh /local/path username@hostname:/remote/path</span><br></pre></td></tr></table></figure><p><a id="troubleshooting-commands"></a></p><h3 id="ğŸ”-æ•…éšœæ’æŸ¥å‘½ä»¤">ğŸ” æ•…éšœæ’æŸ¥å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥ SSH ç«¯å£æ˜¯å¦å¼€æ”¾</span></span><br><span class="line">nc -zv hostname 22</span><br><span class="line">nmap -p 22 hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># æµ‹è¯•è¿æ¥ï¼ˆä¸æ‰§è¡Œå‘½ä»¤ï¼‰</span></span><br><span class="line">ssh -T username@hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥å…¬é’¥æŒ‡çº¹</span></span><br><span class="line">ssh-keygen -lf /etc/ssh/ssh_host_rsa_key.pub</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒè¯• SSH å®¢æˆ·ç«¯</span></span><br><span class="line">ssh -vvv username@hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒè¯• SSH æœåŠ¡å™¨ç«¯ï¼ˆä¸´æ—¶å¯ç”¨è°ƒè¯•æ¨¡å¼ï¼‰</span></span><br><span class="line"><span class="built_in">sudo</span> /usr/sbin/sshd -d -p 2222</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥ SSH é…ç½®è¯­æ³•</span></span><br><span class="line"><span class="built_in">sudo</span> sshd -t</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å¤±è´¥çš„ç™»å½•å°è¯•</span></span><br><span class="line"><span class="built_in">sudo</span> grep <span class="string">&quot;Failed password&quot;</span> /var/log/auth.log</span><br><span class="line"><span class="built_in">sudo</span> lastb</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æˆåŠŸçš„ç™»å½•è®°å½•</span></span><br><span class="line"><span class="built_in">sudo</span> last</span><br></pre></td></tr></table></figure><hr><p><a id="usage-examples"></a></p><h2 id="ğŸ¯-SSH-ä½¿ç”¨ç¤ºä¾‹">ğŸ¯ SSH ä½¿ç”¨ç¤ºä¾‹</h2><p><a id="example-1"></a></p><h3 id="ğŸ”‘-1-SSH-å¯†é’¥è®¤è¯é…ç½®">ğŸ”‘ 1. SSH å¯†é’¥è®¤è¯é…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”Ÿæˆ SSH å¯†é’¥å¯¹ï¼ˆå®¢æˆ·ç«¯ï¼‰</span></span><br><span class="line">ssh-keygen -t rsa -b 4096 -C <span class="string">&quot;your_email@example.com&quot;</span></span><br><span class="line">ssh-keygen -t ed25519 -C <span class="string">&quot;your_email@example.com&quot;</span>  <span class="comment"># æ›´å®‰å…¨çš„é€‰æ‹©</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶å…¬é’¥åˆ°æœåŠ¡å™¨</span></span><br><span class="line">ssh-copy-id username@hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…æ‰‹åŠ¨å¤åˆ¶</span></span><br><span class="line"><span class="built_in">cat</span> ~/.ssh/id_rsa.pub | ssh username@hostname <span class="string">&quot;mkdir -p ~/.ssh &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ­£ç¡®çš„æƒé™</span></span><br><span class="line">ssh username@hostname <span class="string">&quot;chmod 700 ~/.ssh; chmod 600 ~/.ssh/authorized_keys&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¦ç”¨å¯†ç è®¤è¯ï¼ˆæœåŠ¡å™¨ç«¯ï¼‰</span></span><br><span class="line"><span class="comment"># ç¼–è¾‘ /etc/ssh/sshd_config</span></span><br><span class="line"><span class="comment"># è®¾ç½® PasswordAuthentication no</span></span><br><span class="line"><span class="comment"># ç„¶åé‡å¯ SSH æœåŠ¡</span></span><br></pre></td></tr></table></figure><p><a id="example-2"></a></p><h3 id="ğŸ”„-2-SSH-ç«¯å£è½¬å‘å’Œéš§é“">ğŸ”„ 2. SSH ç«¯å£è½¬å‘å’Œéš§é“</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœ¬åœ°ç«¯å£è½¬å‘ï¼ˆè®¿é—®è¿œç¨‹æœåŠ¡çš„æœ¬åœ°ç«¯å£ï¼‰</span></span><br><span class="line">ssh -L 3306:localhost:3306 username@hostname  <span class="comment"># MySQL éš§é“</span></span><br><span class="line">ssh -L 8080:localhost:80 username@hostname    <span class="comment"># Web æœåŠ¡å™¨éš§é“</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿œç¨‹ç«¯å£è½¬å‘ï¼ˆè®©è¿œç¨‹è®¿é—®æœ¬åœ°æœåŠ¡ï¼‰</span></span><br><span class="line">ssh -R 9090:localhost:3000 username@hostname  <span class="comment"># æœ¬åœ°å¼€å‘æœåŠ¡å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ¨æ€ç«¯å£è½¬å‘ï¼ˆSOCKS ä»£ç†ï¼‰</span></span><br><span class="line">ssh -D 1080 username@hostname</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤šè·³ SSH è¿æ¥ï¼ˆé€šè¿‡è·³æ¿æœºï¼‰</span></span><br><span class="line">ssh -J jumpuser@jumpserver username@targetserver</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿æŒè¿æ¥æ´»è·ƒï¼ˆå®¢æˆ·ç«¯é…ç½®ï¼‰</span></span><br><span class="line"><span class="comment"># åœ¨ ~/.ssh/config ä¸­æ·»åŠ ï¼š</span></span><br><span class="line"><span class="comment"># Host *</span></span><br><span class="line"><span class="comment">#   ServerAliveInterval 60</span></span><br><span class="line"><span class="comment">#   ServerAliveCountMax 3</span></span><br></pre></td></tr></table></figure><hr><p><a id="common-issues"></a></p><h2 id="â“-å¸¸è§é—®é¢˜è§£å†³">â“ å¸¸è§é—®é¢˜è§£å†³</h2><ol><li><p><strong>è¿æ¥è¢«æ‹’ç»æˆ–è¶…æ—¶</strong> ğŸ¤”</p><ul><li>æ£€æŸ¥ SSH æœåŠ¡æ˜¯å¦è¿è¡Œï¼š<code>sudo systemctl status ssh</code></li><li>ç¡®è®¤é˜²ç«å¢™å…è®¸ SSH ç«¯å£ï¼š<code>sudo ufw status</code> æˆ– <code>sudo firewall-cmd --list-all</code></li><li>éªŒè¯ç½‘ç»œè¿é€šæ€§ï¼š<code>ping hostname</code> å’Œ <code>telnet hostname 22</code></li></ul></li><li><p><strong>æƒé™é”™è¯¯</strong> ğŸ”</p><ul><li>æ£€æŸ¥ <code>~/.ssh</code> ç›®å½•æƒé™ï¼šåº”ä¸º 700</li><li>æ£€æŸ¥ <code>~/.ssh/authorized_keys</code> æ–‡ä»¶æƒé™ï¼šåº”ä¸º 600</li><li>ç¡®è®¤ SELinux æˆ– AppArmor æ²¡æœ‰é˜»æ­¢è®¿é—®</li></ul></li><li><p><strong>ä¸»æœºå¯†é’¥éªŒè¯å¤±è´¥</strong> âš ï¸</p><ul><li>æ¸…é™¤è¿‡æœŸçš„å¯†é’¥ï¼š<code>ssh-keygen -R hostname</code></li><li>æˆ–è€…ç¼–è¾‘ <code>~/.ssh/known_hosts</code> æ‰‹åŠ¨åˆ é™¤å¯¹åº”è¡Œ</li></ul></li><li><p><strong>è®¤è¯å¤±è´¥</strong> ğŸ”‘</p><ul><li>ç¡®è®¤æœåŠ¡å™¨æ˜¯å¦å…è®¸å¯†ç è®¤è¯ï¼š<code>PasswordAuthentication yes</code></li><li>æ£€æŸ¥å¯†é’¥æ˜¯å¦æ­£ç¡®å¤åˆ¶åˆ° <code>authorized_keys</code></li><li>éªŒè¯æœåŠ¡å™¨æ˜¯å¦å…è®¸è¯¥ç”¨æˆ·ç™»å½•ï¼š<code>AllowUsers</code> è®¾ç½®</li></ul></li><li><p><strong>è¿æ¥é€Ÿåº¦æ…¢</strong> ğŸ¢</p><ul><li>ç¦ç”¨ DNS åå‘æŸ¥è¯¢ï¼šåœ¨ <code>sshd_config</code> è®¾ç½® <code>UseDNS no</code></li><li>å°è¯•ä½¿ç”¨æ›´å¿«çš„åŠ å¯†ç®—æ³•ï¼š<code>Ciphers aes128-gcm@openssh.com</code></li><li>å¯ç”¨å‹ç¼©ï¼š<code>Compression yes</code></li></ul></li></ol><hr><p><a id="security-tips"></a></p><h2 id="ğŸ”’-SSH-å®‰å…¨å»ºè®®">ğŸ”’ SSH å®‰å…¨å»ºè®®</h2><ol><li><p><strong>ä½¿ç”¨éæ ‡å‡†ç«¯å£</strong> ğŸšª</p><ul><li>ä¿®æ”¹é»˜è®¤ SSH ç«¯å£ï¼ˆ22ï¼‰ä¸ºå…¶ä»–ç«¯å£</li><li>åœ¨ <code>/etc/ssh/sshd_config</code> ä¸­è®¾ç½®ï¼š<code>Port 2222</code></li></ul></li><li><p><strong>ç¦ç”¨ root ç›´æ¥ç™»å½•</strong> ğŸ‘¤</p><ul><li>ç¦æ­¢ root ç”¨æˆ·ç›´æ¥ SSH ç™»å½•ï¼š</li><li><code>PermitRootLogin no</code></li><li>ä½¿ç”¨æ™®é€šç”¨æˆ·ç™»å½•ååˆ‡æ¢ root</li></ul></li><li><p><strong>ä½¿ç”¨å¯†é’¥è®¤è¯</strong> ğŸ”‘</p><ul><li>å®Œå…¨ç¦ç”¨å¯†ç è®¤è¯ï¼š<code>PasswordAuthentication no</code></li><li>å¼ºåˆ¶ä½¿ç”¨å…¬é’¥è®¤è¯ï¼š<code>PubkeyAuthentication yes</code></li></ul></li><li><p><strong>é™åˆ¶ç”¨æˆ·è®¿é—®</strong> ğŸ“‹</p><ul><li>åªå…è®¸ç‰¹å®šç”¨æˆ·è®¿é—®ï¼š</li><li><code>AllowUsers user1 user2</code></li><li>æˆ–é™åˆ¶ç”¨æˆ·ç»„ï¼š<code>AllowGroups ssh-users</code></li></ul></li><li><p><strong>ä½¿ç”¨ fail2ban é˜²æ­¢æš´åŠ›ç ´è§£</strong> ğŸ›¡ï¸</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£… fail2ban</span></span><br><span class="line"><span class="built_in">sudo</span> apt install fail2ban</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½® SSH ä¿æŠ¤</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">cp</span> /etc/fail2ban/jail.conf /etc/fail2ban/jail.local</span><br><span class="line"><span class="comment"># åœ¨ [sshd] éƒ¨åˆ†è®¾ç½®ï¼š</span></span><br><span class="line"><span class="comment"># enabled = true</span></span><br><span class="line"><span class="comment"># port = ssh</span></span><br><span class="line"><span class="comment"># logpath = /var/log/auth.log</span></span><br></pre></td></tr></table></figure></li><li><p><strong>å®šæœŸæ›´æ–° SSH</strong> ğŸ”„</p><ul><li>ä¿æŒ SSH è½¯ä»¶æœ€æ–°ï¼š<code>sudo apt update &amp;&amp; sudo apt upgrade openssh-server</code></li><li>å…³æ³¨ SSH å®‰å…¨å…¬å‘Šï¼ŒåŠæ—¶åº”å¯¹æ¼æ´</li></ul></li><li><p><strong>ä½¿ç”¨åŒå› ç´ è®¤è¯</strong> âœ…</p><ul><li>ç»“åˆ Google Authenticator ç­‰å·¥å…·å¢å¼ºå®‰å…¨æ€§</li><li>é…ç½® SSH ä¸ PAM é›†æˆå®ç°åŒå› ç´ è®¤è¯</li></ul></li></ol><hr><p><a id="summary"></a></p><h2 id="ğŸ“-æ€»ç»“">ğŸ“ æ€»ç»“</h2><p>é€šè¿‡æœ¬æ–‡ä»‹ç»çš„è„šæœ¬å’Œä¸€ç³»åˆ— SSH ç®¡ç†å‘½ä»¤ï¼Œæ‚¨å¯ä»¥è½»æ¾å®ç°ä»¥ä¸‹ç›®æ ‡ï¼šğŸ¯</p><ul><li><strong>å¿«é€Ÿéƒ¨ç½²</strong>ï¼šä½¿ç”¨ <code>setup-ssh.sh</code> åœ¨å‡ åˆ†é’Ÿå†…å®Œæˆ SSH æœåŠ¡å™¨é…ç½®å’Œä¼˜åŒ–</li><li><strong>å®‰å…¨è¿æ¥</strong>ï¼šæŒæ¡å¯†é’¥è®¤è¯ã€ç«¯å£è½¬å‘ç­‰é«˜çº§ SSH åŠŸèƒ½</li><li><strong>çµæ´»ç®¡ç†</strong>ï¼šä½¿ç”¨å„ç§ SSH å‘½ä»¤åº”å¯¹ä¸åŒç®¡ç†åœºæ™¯å’Œéœ€æ±‚</li><li><strong>æ•…éšœæ’é™¤</strong>ï¼šä½¿ç”¨ä¸“ä¸šå·¥å…·è¯Šæ–­å’Œè§£å†³è¿æ¥ã€è®¤è¯ç­‰é—®é¢˜</li><li><strong>å®‰å…¨ä¿éšœ</strong>ï¼šå®æ–½æœ€ä½³å®è·µï¼Œç¡®ä¿è¿œç¨‹è®¿é—®æœåŠ¡çš„å®‰å…¨æ€§</li></ul><p>æ— è®ºæ˜¯å•å°æœåŠ¡å™¨çš„æ—¥å¸¸ç®¡ç†ï¼Œè¿˜æ˜¯å¤§è§„æ¨¡é›†ç¾¤çš„è¿œç¨‹ç»´æŠ¤ï¼ŒSSH éƒ½æ˜¯ä¸å¯æˆ–ç¼ºçš„æ ¸å¿ƒå·¥å…·ã€‚è¿™ä¸ªè„šæœ¬å’Œç›¸å…³å‘½ä»¤å°†å¸®åŠ©æ‚¨æ›´é«˜æ•ˆåœ°ä½¿ç”¨è¿™ä¸€å·¥å…·ï¼Œæå‡å·¥ä½œæ•ˆç‡å’Œç³»ç»Ÿå®‰å…¨æ€§ã€‚ğŸ’¼</p><p>å»ºè®®æ”¶è—æœ¬æ–‡ä½œä¸º SSH ç®¡ç†çš„å‚è€ƒæ‰‹å†Œï¼Œéšæ—¶æŸ¥é˜…ç›¸å…³å‘½ä»¤å’ŒæŠ€å·§ã€‚å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿ç•™è¨€è®¨è®ºï¼ğŸ’¬</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Linux SSH æœåŠ¡ä¸€é”®é…ç½®è„šæœ¬ä½¿ç”¨æŒ‡å— ğŸš€&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://file.meimolihan.eu.org/img/ssh-01.webp&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡è¯¦ç»†ä»‹ç»ä¸€ä¸ªé«˜æ•ˆç®¡ç† SSH</summary>
      
    
    
    
    <category term="Linux" scheme="https://www.meimolihan.eu.org/categories/Linux/"/>
    
    
    <category term="ssh" scheme="https://www.meimolihan.eu.org/tags/ssh/"/>
    
    <category term="è„šæœ¬" scheme="https://www.meimolihan.eu.org/tags/%E8%84%9A%E6%9C%AC/"/>
    
  </entry>
  
  <entry>
    <title>Docker éƒ¨ç½²é›·æ±  WAF ğŸ›¡ï¸</title>
    <link href="https://www.meimolihan.eu.org/posts/19079ac1.html"/>
    <id>https://www.meimolihan.eu.org/posts/19079ac1.html</id>
    <published>2025-09-13T01:32:03.000Z</published>
    <updated>2025-09-13T01:32:03.000Z</updated>
    
    <content type="html"><![CDATA[<h1>Docker éƒ¨ç½²é›·æ±  WAF ğŸ›¡ï¸</h1><p><img src="https://file.meimolihan.eu.org/img/docker-safeline-01.webp" alt=""></p><hr><h2 id="ğŸ“‹-ç›®å½•å¯¼èˆª">ğŸ“‹ ç›®å½•å¯¼èˆª</h2><ul><li><a href="#project-intro">ğŸ¯ é¡¹ç›®ç®€ä»‹</a></li><li><a href="#features">ğŸ› ï¸ æ ¸å¿ƒç‰¹æ€§</a></li><li><a href="#deploy">ğŸ³ Docker éƒ¨ç½²é›·æ±  WAF</a><ul><li><a href="#auto-install">1. Linux è‡ªåŠ¨å®‰è£…</a></li><li><a href="#manual-deploy">2. Docker æ‰‹åŠ¨éƒ¨ç½²</a><ul><li><a href="#deploy-setup">åˆ›å»ºéƒ¨ç½²ç›®å½•å’Œé…ç½®æ–‡ä»¶</a></li><li><a href="#deploy-start">æ‹‰å–é•œåƒå¹¶å¯åŠ¨å®¹å™¨</a></li></ul></li></ul></li><li><a href="#usage">ğŸš€ ä½¿ç”¨é›·æ±  WAF</a><ul><li><a href="#usage-access">1. è®¿é—® Web ç•Œé¢</a></li><li><a href="#usage-first">2. é¦–æ¬¡ä½¿ç”¨æ­¥éª¤</a></li></ul></li><li><a href="#nginx">ğŸŒ Nginx åå‘ä»£ç†é…ç½®</a><ul><li><a href="#nginx-config">1. åˆ›å»º Nginx é…ç½®æ–‡ä»¶</a></li><li><a href="#nginx-reload">2. æµ‹è¯•å¹¶é‡è½½ Nginx</a></li></ul></li><li><a href="#maintenance">ğŸ”§ å®¹å™¨ç»´æŠ¤å‘½ä»¤</a><ul><li><a href="#docker-compose">1. Docker Compose å‘½ä»¤</a></li><li><a href="#docker">2. Docker å®¹å™¨å‘½ä»¤</a></li><li><a href="#docker-images">3. Docker é•œåƒç®¡ç†</a></li></ul></li><li><a href="#conclusion">ğŸŒŸ å¼€å¯å®‰å…¨é˜²æŠ¤æ–°ç¯‡ç« </a></li></ul><hr><p><a id="project-intro"></a></p><h2 id="ğŸ¯-é¡¹ç›®ç®€ä»‹">ğŸ¯ é¡¹ç›®ç®€ä»‹</h2><p>é›·æ±  WAFï¼ˆWeb Application Firewallï¼‰æ˜¯ä¸€æ¬¾å¼€æºçš„é«˜æ€§èƒ½ Web åº”ç”¨é˜²ç«å¢™ï¼Œä¸“é—¨ä¸ºç°ä»£ Web åº”ç”¨æä¾›å…¨æ–¹ä½å®‰å…¨é˜²æŠ¤ã€‚å®ƒèƒ½å¤Ÿæœ‰æ•ˆé˜²å¾¡ SQL æ³¨å…¥ã€XSS æ”»å‡»ã€æ¶æ„çˆ¬è™«ã€CC æ”»å‡»ç­‰å¸¸è§ Web æ”»å‡»ï¼ŒåŒæ—¶å…·å¤‡ä½å»¶è¿Ÿã€é«˜å¹¶å‘å’Œæ˜“æ‰©å±•çš„ç‰¹ç‚¹ã€‚</p><ul><li><strong>ğŸŒ é›·æ±  WAF å®˜ç½‘åœ°å€ï¼š<a href="https://waf-ce.chaitin.cn/">https://waf-ce.chaitin.cn/</a></strong></li><li><strong>ğŸ± GitHub é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/chaitin/SafeLine">https://github.com/chaitin/SafeLine</a></strong></li></ul><p><a id="features"></a></p><h2 id="ğŸ› ï¸-æ ¸å¿ƒç‰¹æ€§">ğŸ› ï¸ æ ¸å¿ƒç‰¹æ€§</h2><p>âœ¨ <strong>å…¨é¢é˜²æŠ¤</strong> - æ”¯æŒå¤šç§ Web æ”»å‡»æ£€æµ‹å’Œé˜²å¾¡ï¼ŒåŒ…æ‹¬ OWASP Top 10 å¸¸è§æ¼æ´<br>ğŸš€ <strong>é«˜æ€§èƒ½</strong> - åŸºäºæ™ºèƒ½å¼•æ“ï¼Œä½å»¶è¿Ÿã€é«˜å¹¶å‘å¤„ç†èƒ½åŠ›ï¼Œä¸å½±å“ä¸šåŠ¡æ­£å¸¸è®¿é—®<br>ğŸ”§ <strong>æ˜“äºéƒ¨ç½²</strong> - æä¾› Docker ä¸€é”®éƒ¨ç½²æ–¹æ¡ˆï¼Œæ”¯æŒå¤šç§ç¯å¢ƒå¿«é€Ÿå®‰è£…<br>ğŸ“Š <strong>å¯è§†åŒ–ç®¡ç†</strong> - æä¾›å‹å¥½çš„ç®¡ç†ç•Œé¢ï¼Œå®æ—¶å±•ç¤ºå®‰å…¨æ€åŠ¿å’Œæ”»å‡»æ—¥å¿—<br>ğŸ›¡ï¸ <strong>æ™ºèƒ½å­¦ä¹ </strong> - æ”¯æŒæ­£å¸¸æµé‡å­¦ä¹ ï¼Œé™ä½è¯¯æŠ¥ç‡ï¼Œæé«˜é˜²æŠ¤ç²¾åº¦<br>ğŸŒ <strong>çµæ´»æ‰©å±•</strong> - æ”¯æŒè‡ªå®šä¹‰è§„åˆ™ï¼Œå¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚çµæ´»è°ƒæ•´é˜²æŠ¤ç­–ç•¥</p><hr><p><a id="deploy"></a></p><h2 id="Docker-éƒ¨ç½²é›·æ± -WAF-ğŸ›¡ï¸">Docker éƒ¨ç½²é›·æ±  WAF ğŸ›¡ï¸</h2><p>é›·æ±  WAF æä¾›ä¸¤ç§éƒ¨ç½²æ–¹å¼ï¼šLinux è‡ªåŠ¨å®‰è£…å’Œ Docker æ‰‹åŠ¨éƒ¨ç½²ã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©é€‚åˆçš„æ–¹å¼ã€‚</p><p><a id="auto-install"></a></p><h3 id="1-Linux-è‡ªåŠ¨å®‰è£…å‘½ä»¤">1. Linux è‡ªåŠ¨å®‰è£…å‘½ä»¤</h3><p>ğŸ“¦ ä¸€é”®å®‰è£…ï¼š3 åˆ†é’Ÿå³å¯å®Œæˆè‡ªåŠ¨å®‰è£…ï¼Œé€‚åˆå¿«é€Ÿéƒ¨ç½²åœºæ™¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash -c <span class="string">&quot;<span class="subst">$(curl -fsSLk https://waf-ce.chaitin.cn/release/latest/manager.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure><p><a id="manual-deploy"></a></p><h3 id="2-Docker-æ‰‹åŠ¨éƒ¨ç½²">2. Docker æ‰‹åŠ¨éƒ¨ç½²</h3><p><a id="deploy-setup"></a></p><h4 id="åˆ›å»ºéƒ¨ç½²ç›®å½•å’Œé…ç½®æ–‡ä»¶-ğŸ“">åˆ›å»ºéƒ¨ç½²ç›®å½•å’Œé…ç½®æ–‡ä»¶ ğŸ“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºéƒ¨ç½²ç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> -p /vol1/1000/compose/safeline &amp;&amp; <span class="built_in">cd</span> <span class="variable">$_</span> &amp;&amp; \</span><br><span class="line"><span class="built_in">cat</span> &gt; docker-compose.yml &lt;&lt;<span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">networks:</span><br><span class="line">  safeline-ce:</span><br><span class="line">    name: safeline-ce</span><br><span class="line">    driver: bridge</span><br><span class="line">    ipam:</span><br><span class="line">      driver: default</span><br><span class="line">      config:</span><br><span class="line">        - gateway: <span class="variable">$&#123;SUBNET_PREFIX:?SUBNET_PREFIX required&#125;</span>.1</span><br><span class="line">          subnet: <span class="variable">$&#123;SUBNET_PREFIX&#125;</span>.0/24</span><br><span class="line">    driver_opts:</span><br><span class="line">      com.docker.network.bridge.name: safeline-ce</span><br><span class="line"></span><br><span class="line">services:</span><br><span class="line">  postgres:</span><br><span class="line">    container_name: safeline-pg</span><br><span class="line">    restart: always</span><br><span class="line">    image: <span class="variable">$&#123;IMAGE_PREFIX&#125;</span>/safeline-postgres<span class="variable">$&#123;ARCH_SUFFIX&#125;</span>:15.2</span><br><span class="line">    volumes:</span><br><span class="line">      - <span class="variable">$&#123;SAFELINE_DIR&#125;</span>/resources/postgres/data:/var/lib/postgresql/data</span><br><span class="line">      - /etc/localtime:/etc/localtime:ro</span><br><span class="line">    environment:</span><br><span class="line">      - POSTGRES_USER=safeline-ce</span><br><span class="line">      - POSTGRES_PASSWORD=<span class="variable">$&#123;POSTGRES_PASSWORD:?postgres password required&#125;</span></span><br><span class="line">    networks:</span><br><span class="line">      safeline-ce:</span><br><span class="line">        ipv4_address: <span class="variable">$&#123;SUBNET_PREFIX&#125;</span>.2</span><br><span class="line">    <span class="built_in">command</span>: [postgres, -c, max_connections=600]</span><br><span class="line">    healthcheck:</span><br><span class="line">      <span class="built_in">test</span>: pg_isready -U safeline-ce -d safeline-ce</span><br><span class="line">  mgt:</span><br><span class="line">    container_name: safeline-mgt</span><br><span class="line">    restart: always</span><br><span class="line">    image: <span class="variable">$&#123;IMAGE_PREFIX&#125;</span>/safeline-mgt<span class="variable">$&#123;REGION&#125;</span><span class="variable">$&#123;ARCH_SUFFIX&#125;</span>:<span class="variable">$&#123;IMAGE_TAG:?image tag required&#125;</span></span><br><span class="line">    volumes:</span><br><span class="line">      - /etc/localtime:/etc/localtime:ro</span><br><span class="line">      - <span class="variable">$&#123;SAFELINE_DIR&#125;</span>/resources/mgt:/app/data</span><br><span class="line">      - <span class="variable">$&#123;SAFELINE_DIR&#125;</span>/logs/nginx:/app/log/nginx:z</span><br><span class="line">      - <span class="variable">$&#123;SAFELINE_DIR&#125;</span>/resources/sock:/app/sock</span><br><span class="line">      - /var/run:/app/run</span><br><span class="line">    ports:</span><br><span class="line">      - <span class="variable">$&#123;MGT_PORT:-9443&#125;</span>:1443</span><br><span class="line">    healthcheck:</span><br><span class="line">      <span class="built_in">test</span>: curl -k -f https://localhost:1443/api/open/health</span><br><span class="line">    environment:</span><br><span class="line">      - MGT_PG=postgres://safeline-ce:<span class="variable">$&#123;POSTGRES_PASSWORD&#125;</span>@safeline-pg/safeline-ce?sslmode=<span class="built_in">disable</span></span><br><span class="line">      - MGT_PROXY=<span class="variable">$&#123;MGT_PROXY&#125;</span></span><br><span class="line">    depends_on:</span><br><span class="line">      - postgres</span><br><span class="line">      - fvm</span><br><span class="line">    logging:</span><br><span class="line">      driver: <span class="string">&quot;json-file&quot;</span></span><br><span class="line">      options:</span><br><span class="line">        max-size: <span class="string">&quot;100m&quot;</span></span><br><span class="line">        max-file: <span class="string">&quot;5&quot;</span></span><br><span class="line">    networks:</span><br><span class="line">      safeline-ce:</span><br><span class="line">        ipv4_address: <span class="variable">$&#123;SUBNET_PREFIX&#125;</span>.4</span><br><span class="line">  detect:</span><br><span class="line">    container_name: safeline-detector</span><br><span class="line">    restart: always</span><br><span class="line">    image: <span class="variable">$&#123;IMAGE_PREFIX&#125;</span>/safeline-detector<span class="variable">$&#123;REGION&#125;</span><span class="variable">$&#123;ARCH_SUFFIX&#125;</span>:<span class="variable">$&#123;IMAGE_TAG&#125;</span></span><br><span class="line">    volumes:</span><br><span class="line">      - <span class="variable">$&#123;SAFELINE_DIR&#125;</span>/resources/detector:/resources/detector</span><br><span class="line">      - <span class="variable">$&#123;SAFELINE_DIR&#125;</span>/logs/detector:/logs/detector</span><br><span class="line">      - /etc/localtime:/etc/localtime:ro</span><br><span class="line">    environment:</span><br><span class="line">      - LOG_DIR=/logs/detector</span><br><span class="line">    networks:</span><br><span class="line">      safeline-ce:</span><br><span class="line">        ipv4_address: <span class="variable">$&#123;SUBNET_PREFIX&#125;</span>.5</span><br><span class="line">  tengine:</span><br><span class="line">    container_name: safeline-tengine</span><br><span class="line">    restart: always</span><br><span class="line">    image: <span class="variable">$&#123;IMAGE_PREFIX&#125;</span>/safeline-tengine<span class="variable">$&#123;REGION&#125;</span><span class="variable">$&#123;ARCH_SUFFIX&#125;</span>:<span class="variable">$&#123;IMAGE_TAG&#125;</span></span><br><span class="line">    volumes:</span><br><span class="line">      - /etc/localtime:/etc/localtime:ro</span><br><span class="line">      - /etc/resolv.conf:/etc/resolv.conf:ro</span><br><span class="line">      - <span class="variable">$&#123;SAFELINE_DIR&#125;</span>/resources/nginx:/etc/nginx</span><br><span class="line">      - <span class="variable">$&#123;SAFELINE_DIR&#125;</span>/resources/detector:/resources/detector</span><br><span class="line">      - <span class="variable">$&#123;SAFELINE_DIR&#125;</span>/resources/chaos:/resources/chaos</span><br><span class="line">      - <span class="variable">$&#123;SAFELINE_DIR&#125;</span>/logs/nginx:/var/log/nginx:z</span><br><span class="line">      - <span class="variable">$&#123;SAFELINE_DIR&#125;</span>/resources/cache:/usr/local/nginx/cache</span><br><span class="line">      - <span class="variable">$&#123;SAFELINE_DIR&#125;</span>/resources/sock:/app/sock</span><br><span class="line">    environment:</span><br><span class="line">      - TCD_MGT_API=https://<span class="variable">$&#123;SUBNET_PREFIX&#125;</span>.4:1443/api/open/publish/server</span><br><span class="line">      - TCD_SNSERVER=<span class="variable">$&#123;SUBNET_PREFIX&#125;</span>.5:8000</span><br><span class="line">      <span class="comment"># deprecated</span></span><br><span class="line">      - SNSERVER_ADDR=<span class="variable">$&#123;SUBNET_PREFIX&#125;</span>.5:8000</span><br><span class="line">      - CHAOS_ADDR=<span class="variable">$&#123;SUBNET_PREFIX&#125;</span>.10</span><br><span class="line">    ulimits:</span><br><span class="line">      nofile: 131072</span><br><span class="line">    network_mode: host</span><br><span class="line">  luigi:</span><br><span class="line">    container_name: safeline-luigi</span><br><span class="line">    restart: always</span><br><span class="line">    image: <span class="variable">$&#123;IMAGE_PREFIX&#125;</span>/safeline-luigi<span class="variable">$&#123;REGION&#125;</span><span class="variable">$&#123;ARCH_SUFFIX&#125;</span>:<span class="variable">$&#123;IMAGE_TAG&#125;</span></span><br><span class="line">    environment:</span><br><span class="line">      - MGT_IP=<span class="variable">$&#123;SUBNET_PREFIX&#125;</span>.4</span><br><span class="line">      - LUIGI_PG=postgres://safeline-ce:<span class="variable">$&#123;POSTGRES_PASSWORD&#125;</span>@safeline-pg/safeline-ce?sslmode=<span class="built_in">disable</span></span><br><span class="line">    volumes:</span><br><span class="line">      - /etc/localtime:/etc/localtime:ro</span><br><span class="line">      - <span class="variable">$&#123;SAFELINE_DIR&#125;</span>/resources/luigi:/app/data</span><br><span class="line">    logging:</span><br><span class="line">      driver: <span class="string">&quot;json-file&quot;</span></span><br><span class="line">      options:</span><br><span class="line">        max-size: <span class="string">&quot;100m&quot;</span></span><br><span class="line">        max-file: <span class="string">&quot;5&quot;</span></span><br><span class="line">    depends_on:</span><br><span class="line">      - detect</span><br><span class="line">      - mgt</span><br><span class="line">    networks:</span><br><span class="line">      safeline-ce:</span><br><span class="line">        ipv4_address: <span class="variable">$&#123;SUBNET_PREFIX&#125;</span>.7</span><br><span class="line">  fvm:</span><br><span class="line">    container_name: safeline-fvm</span><br><span class="line">    restart: always</span><br><span class="line">    image: <span class="variable">$&#123;IMAGE_PREFIX&#125;</span>/safeline-fvm<span class="variable">$&#123;REGION&#125;</span><span class="variable">$&#123;ARCH_SUFFIX&#125;</span>:<span class="variable">$&#123;IMAGE_TAG&#125;</span></span><br><span class="line">    volumes:</span><br><span class="line">      - /etc/localtime:/etc/localtime:ro</span><br><span class="line">    logging:</span><br><span class="line">      driver: <span class="string">&quot;json-file&quot;</span></span><br><span class="line">      options:</span><br><span class="line">        max-size: <span class="string">&quot;100m&quot;</span></span><br><span class="line">        max-file: <span class="string">&quot;5&quot;</span></span><br><span class="line">    networks:</span><br><span class="line">      safeline-ce:</span><br><span class="line">        ipv4_address: <span class="variable">$&#123;SUBNET_PREFIX&#125;</span>.8</span><br><span class="line">  chaos:</span><br><span class="line">    container_name: safeline-chaos</span><br><span class="line">    restart: always</span><br><span class="line">    image: <span class="variable">$&#123;IMAGE_PREFIX&#125;</span>/safeline-chaos<span class="variable">$&#123;REGION&#125;</span><span class="variable">$&#123;ARCH_SUFFIX&#125;</span>:<span class="variable">$&#123;IMAGE_TAG&#125;</span></span><br><span class="line">    logging:</span><br><span class="line">      driver: <span class="string">&quot;json-file&quot;</span></span><br><span class="line">      options:</span><br><span class="line">        max-size: <span class="string">&quot;100m&quot;</span></span><br><span class="line">        max-file: <span class="string">&quot;10&quot;</span></span><br><span class="line">    environment:</span><br><span class="line">      - DB_ADDR=postgres://safeline-ce:<span class="variable">$&#123;POSTGRES_PASSWORD&#125;</span>@safeline-pg/safeline-ce?sslmode=<span class="built_in">disable</span></span><br><span class="line">    volumes:</span><br><span class="line">      - <span class="variable">$&#123;SAFELINE_DIR&#125;</span>/resources/sock:/app/sock</span><br><span class="line">      - <span class="variable">$&#123;SAFELINE_DIR&#125;</span>/resources/chaos:/app/chaos</span><br><span class="line">    networks:</span><br><span class="line">      safeline-ce:</span><br><span class="line">        ipv4_address: <span class="variable">$&#123;SUBNET_PREFIX&#125;</span>.10</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶">åˆ›å»ºç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»º .env é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">cat</span> &gt; .<span class="built_in">env</span> &lt;&lt;<span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">SAFELINE_DIR=/vol1/1000/compose/safeline</span><br><span class="line">IMAGE_TAG=latest</span><br><span class="line">MGT_PORT=9443</span><br><span class="line">POSTGRES_PASSWORD=yourpassword <span class="comment">#-------ï¼ˆè‡ªå®šä¹‰å¯†ç ä½¿ç”¨æ•°å­—+è‹±æ–‡å¤§å°å†™ç»„åˆï¼Œå‹¿ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼‰</span></span><br><span class="line">SUBNET_PREFIX=172.23.0</span><br><span class="line">IMAGE_PREFIX=swr.cn-east-3.myhuaweicloud.com/chaitin-safeline</span><br><span class="line">ARCH_SUFFIX=</span><br><span class="line">RELEASE=</span><br><span class="line">REGION=</span><br><span class="line">MGT_PROXY=0</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p><a id="deploy-start"></a></p><h4 id="æ‹‰å–é•œåƒå¹¶å¯åŠ¨å®¹å™¨-ğŸš€">æ‹‰å–é•œåƒå¹¶å¯åŠ¨å®¹å™¨ ğŸš€</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ Docker Compose å¯åŠ¨æ‰€æœ‰æœåŠ¡</span></span><br><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><p>å¯åŠ¨å®Œæˆåï¼Œç³»ç»Ÿå°†è‡ªåŠ¨åˆ›å»ºä»¥ä¸‹å®¹å™¨ï¼š</p><ul><li>ğŸ—„ï¸ <code>safeline-pg</code> - PostgreSQL æ•°æ®åº“</li><li>ğŸ–¥ï¸ <code>safeline-mgt</code> - ç®¡ç†ç•Œé¢æœåŠ¡</li><li>ğŸ” <code>safeline-detector</code> - æ”»å‡»æ£€æµ‹å¼•æ“</li><li>ğŸŒ <code>safeline-tengine</code> - Tengine Web æœåŠ¡å™¨</li><li>ğŸ“Š <code>safeline-luigi</code> - æ—¥å¿—å¤„ç†æœåŠ¡</li><li>âš™ï¸ <code>safeline-fvm</code> - è§„åˆ™ç®¡ç†æœåŠ¡</li><li>ğŸ›¡ï¸ <code>safeline-chaos</code> - æ ¸å¿ƒé˜²æŠ¤å¼•æ“</li></ul><hr><p><a id="usage"></a></p><h2 id="ğŸš€-ä½¿ç”¨é›·æ± -WAF">ğŸš€ ä½¿ç”¨é›·æ±  WAF</h2><p><a id="usage-access"></a></p><h3 id="1-è®¿é—®-Web-ç•Œé¢-ğŸ’»">1. è®¿é—® Web ç•Œé¢ ğŸ’»</h3><ul><li><strong>æœ¬åœ°è®¿é—®</strong>ï¼š<a href="http://localhost:9443">http://localhost:9443</a></li><li><strong>åŸŸåè®¿é—®</strong>ï¼š<a href="https://safeline.example.com:666">https://safeline.example.com:666</a>ï¼ˆé…ç½®åå‘ä»£ç†åï¼‰</li><li><strong>æŸ¥çœ‹å¯†ç </strong>ï¼š<code>docker exec safeline-mgt resetadmin</code></li></ul><p><a id="usage-first"></a></p><h3 id="2-é¦–æ¬¡ä½¿ç”¨æ­¥éª¤-ğŸ¯">2. é¦–æ¬¡ä½¿ç”¨æ­¥éª¤ ğŸ¯</h3><ol><li><p><strong>åˆå§‹åŒ–è®¾ç½®</strong> ğŸ”§</p><ul><li>æ‰“å¼€æµè§ˆå™¨è®¿é—®ç®¡ç†ç•Œé¢</li><li>è®¾ç½®ç®¡ç†å‘˜è´¦å·å’Œå¯†ç </li><li>é…ç½®é‚®ç®±é€šçŸ¥ç­‰åŸºæœ¬è®¾ç½®</li></ul></li><li><p><strong>æ·»åŠ é˜²æŠ¤ç«™ç‚¹</strong> ğŸŒ</p><ul><li>è¿›å…¥&quot;ç«™ç‚¹ç®¡ç†&quot;é¡µé¢</li><li>ç‚¹å‡»&quot;æ·»åŠ ç«™ç‚¹&quot;æŒ‰é’®</li><li>å¡«å†™éœ€è¦é˜²æŠ¤çš„åŸŸåå’Œä¸Šæ¸¸æœåŠ¡å™¨åœ°å€</li></ul></li><li><p><strong>é…ç½®é˜²æŠ¤è§„åˆ™</strong> ğŸ›¡ï¸</p><ul><li>æ ¹æ®ä¸šåŠ¡ç‰¹ç‚¹é€‰æ‹©åˆé€‚çš„é˜²æŠ¤è§„åˆ™</li><li>å¯å¯ç”¨æ™ºèƒ½å­¦ä¹ æ¨¡å¼ï¼Œé™ä½è¯¯æŠ¥ç‡</li><li>è®¾ç½®è‡ªå®šä¹‰è§„åˆ™åº”å¯¹ç‰¹å®šæ”»å‡»</li></ul></li><li><p><strong>ç›‘æ§å®‰å…¨æ€åŠ¿</strong> ğŸ“Š</p><ul><li>æŸ¥çœ‹å®æ—¶æ”»å‡»æ—¥å¿—å’Œç»Ÿè®¡ä¿¡æ¯</li><li>åˆ†ææ”»å‡»æ¥æºå’Œç±»å‹åˆ†å¸ƒ</li><li>è°ƒæ•´é˜²æŠ¤ç­–ç•¥ä¼˜åŒ–æ•ˆæœ</li></ul></li><li><p><strong>æ€§èƒ½è°ƒä¼˜</strong> âš¡</p><ul><li>æ ¹æ®æµé‡ç‰¹ç‚¹è°ƒæ•´æ£€æµ‹çµæ•åº¦</li><li>é…ç½®ç¼“å­˜ç­–ç•¥æå‡æ€§èƒ½</li><li>è®¾ç½®é»‘ç™½åå•ç®¡ç†è®¿é—®æ§åˆ¶</li></ul></li></ol><hr><p><a id="nginx"></a></p><h2 id="ğŸŒ-Nginx-åå‘ä»£ç†é…ç½®">ğŸŒ Nginx åå‘ä»£ç†é…ç½®</h2><blockquote><p><strong>è®¿é—®åœ°å€ç¤ºä¾‹ï¼š<a href="https://safeline.example.com:666">https://safeline.example.com:666</a></strong></p></blockquote><p>é€šè¿‡ Nginx åå‘ä»£ç†å¯ä»¥æä¾›æ›´çµæ´»çš„è®¿é—®æ–¹å¼å’Œ SSL ç»ˆç«¯å¸è½½åŠŸèƒ½ã€‚</p><p><a id="nginx-config"></a></p><h3 id="1-åˆ›å»º-Nginx-é…ç½®æ–‡ä»¶-ğŸ”§">1. åˆ›å»º Nginx é…ç½®æ–‡ä»¶ ğŸ”§</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /etc/nginx/conf.d &amp;&amp; \</span><br><span class="line"><span class="built_in">cat</span> &gt; /etc/nginx/conf.d/safeline.conf &lt;&lt;<span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">server &#123;</span><br><span class="line">    listen 666 ssl;</span><br><span class="line">    listen [::]:666 ssl;</span><br><span class="line">    server_name safeline.example.com;   <span class="comment"># ğŸŒ æ›¿æ¢ä¸ºä½ çš„åŸŸå</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># SSL è¯ä¹¦</span></span><br><span class="line">    ssl_certificate /etc/nginx/keyfile/cert.pem;</span><br><span class="line">    ssl_certificate_key /etc/nginx/keyfile/key.pem;</span><br><span class="line">    ssl_protocols TLSv1.2 TLSv1.3;</span><br><span class="line">    ssl_prefer_server_ciphers off;</span><br><span class="line">    ssl_ciphers ECDHE+AESGCM:ECDHE+CHACHA20:!aNULL:!MD5;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®‰å…¨å¤´éƒ¨</span></span><br><span class="line">    add_header X-Frame-Options DENY;</span><br><span class="line">    add_header X-Content-Type-Options nosniff;</span><br><span class="line">    add_header X-XSS-Protection <span class="string">&quot;1; mode=block&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ–‡ä»¶å¤§å°é™åˆ¶</span></span><br><span class="line">    client_max_body_size 100M;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass http://127.0.0.1:9443;</span><br><span class="line">        proxy_set_header Host <span class="variable">$host</span>;</span><br><span class="line">        proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        proxy_set_header X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">        proxy_http_version 1.1;</span><br><span class="line">        proxy_buffering off;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># WebSocket æ”¯æŒ</span></span><br><span class="line">        proxy_set_header Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">        proxy_set_header Connection <span class="string">&quot;upgrade&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é”™è¯¯é¡µ</span></span><br><span class="line">    error_page 404 500 502 503 504 /50x.html;</span><br><span class="line">    location = /50x.html &#123;</span><br><span class="line">        root /usr/share/nginx/html;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p><a id="nginx-reload"></a></p><h3 id="2-æµ‹è¯•å¹¶é‡è½½-Nginx-ğŸ”„">2. æµ‹è¯•å¹¶é‡è½½ Nginx ğŸ”„</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æµ‹è¯•é…ç½®æ–‡ä»¶è¯­æ³•</span></span><br><span class="line"><span class="built_in">sudo</span> nginx -t</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡è½½ Nginx é…ç½®</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl reload nginx</span><br></pre></td></tr></table></figure><hr><p><a id="maintenance"></a></p><h2 id="ğŸ”§-å®¹å™¨ç»´æŠ¤å‘½ä»¤">ğŸ”§ å®¹å™¨ç»´æŠ¤å‘½ä»¤</h2><p><a id="docker-compose"></a></p><h3 id="1-Docker-Compose-å‘½ä»¤-ğŸ³">1. Docker Compose å‘½ä»¤ ğŸ³</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥é¡¹ç›®ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> /vol1/1000/compose/safeline</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœæ­¢å¹¶åˆ é™¤å®¹å™¨</span></span><br><span class="line">docker-compose down</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‹‰å–æœ€æ–°é•œåƒ</span></span><br><span class="line">docker-compose pull</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨å®¹å™¨</span></span><br><span class="line">docker-compose up -d</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»…å¯åŠ¨æŒ‡å®šæœåŠ¡</span></span><br><span class="line">docker-compose up -d &lt;service_name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span></span><br><span class="line">docker-compose ps</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æœåŠ¡æ—¥å¿—</span></span><br><span class="line">docker-compose logs</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·Ÿè¸ªæœåŠ¡æ—¥å¿—</span></span><br><span class="line">docker-compose logs -f</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æŒ‡å®šæœåŠ¡æ—¥å¿—</span></span><br><span class="line">docker-compose logs &lt;service_name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®Œæ•´å‡çº§æµç¨‹</span></span><br><span class="line">docker-compose down &amp;&amp; \</span><br><span class="line">docker-compose pull &amp;&amp; \</span><br><span class="line">docker-compose up -d &amp;&amp; \</span><br><span class="line">docker image prune -f</span><br></pre></td></tr></table></figure><p><a id="docker"></a></p><h3 id="2-Docker-å®¹å™¨å‘½ä»¤-ğŸ“¦">2. Docker å®¹å™¨å‘½ä»¤ ğŸ“¦</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰å®¹å™¨åç§°</span></span><br><span class="line">docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹è¿è¡Œä¸­å®¹å™¨</span></span><br><span class="line">docker ps</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœæ­¢/å¯åŠ¨/é‡å¯å®¹å™¨</span></span><br><span class="line">docker stop &lt;container_name&gt;      <span class="comment"># åœæ­¢å®¹å™¨</span></span><br><span class="line">docker start &lt;container_name&gt;     <span class="comment"># å¯åŠ¨å®¹å™¨  </span></span><br><span class="line">docker restart &lt;container_name&gt;   <span class="comment"># é‡å¯å®¹å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">rm</span> &lt;container_name&gt;        <span class="comment"># åˆ é™¤å·²åœæ­¢å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">rm</span> -f &lt;container_name&gt;     <span class="comment"># å¼ºåˆ¶åˆ é™¤è¿è¡Œä¸­å®¹å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥å®¹å™¨Shell</span></span><br><span class="line">docker <span class="built_in">exec</span> -it &lt;container_name&gt; sh      <span class="comment"># ä½¿ç”¨shè¿›å…¥å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it &lt;container_name&gt; bash    <span class="comment"># ä½¿ç”¨bashè¿›å…¥å®¹å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥rootèº«ä»½è¿›å…¥å®¹å™¨  </span></span><br><span class="line">docker <span class="built_in">exec</span> -u 0 -it &lt;container_name&gt; sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">docker <span class="built_in">exec</span> &lt;container_name&gt; <span class="built_in">ls</span> -la</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å®¹å™¨è¯¦æƒ…å’Œèµ„æºä½¿ç”¨</span></span><br><span class="line">docker inspect &lt;container_name&gt;     <span class="comment"># æŸ¥çœ‹è¯¦ç»†é…ç½®</span></span><br><span class="line">docker stats &lt;container_name&gt;       <span class="comment"># å®æ—¶èµ„æºç›‘æ§</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## å®¹å™¨æ—¥å¿—ç®¡ç†</span></span><br><span class="line">docker logs &lt;container_name&gt;           <span class="comment"># æŸ¥çœ‹æ—¥å¿—</span></span><br><span class="line">docker logs -f &lt;container_name&gt;        <span class="comment"># å®æ—¶è·Ÿè¸ªæ—¥å¿—</span></span><br><span class="line">docker logs --<span class="built_in">tail</span> 100 &lt;container_name&gt;  <span class="comment"># æŸ¥çœ‹æœ€å100è¡Œ</span></span><br><span class="line">docker logs -t &lt;container_name&gt;        <span class="comment"># å¸¦æ—¶é—´æˆ³çš„æ—¥å¿—</span></span><br></pre></td></tr></table></figure><p><a id="docker-images"></a></p><h3 id="3-Docker-é•œåƒç®¡ç†-ğŸ“€">3. Docker é•œåƒç®¡ç† ğŸ“€</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker images                  <span class="comment"># åˆ—å‡ºæ‰€æœ‰é•œåƒ</span></span><br><span class="line">docker rmi &lt;image_name:tag&gt;    <span class="comment"># åˆ é™¤æŒ‡å®šé•œåƒ</span></span><br><span class="line">docker image prune -f          <span class="comment"># æ¸…ç†æ‚¬ç©ºé•œåƒ</span></span><br><span class="line">docker image prune -a -f       <span class="comment"># æ¸…ç†æ‰€æœ‰æœªä½¿ç”¨é•œåƒ</span></span><br></pre></td></tr></table></figure><hr><p><a id="conclusion"></a></p><h2 id="ğŸŒŸ-å¼€å¯å®‰å…¨é˜²æŠ¤æ–°ç¯‡ç« ">ğŸŒŸ å¼€å¯å®‰å…¨é˜²æŠ¤æ–°ç¯‡ç« </h2><p>é€šè¿‡æœ¬æ–‡æ¡£ï¼Œæ‚¨å·²ç»æˆåŠŸä½¿ç”¨ Docker éƒ¨ç½²äº†é›·æ±  WAF Web åº”ç”¨é˜²ç«å¢™ï¼Œä¸ºæ‚¨çš„ Web åº”ç”¨å»ºç«‹äº†åšå®çš„å®‰å…¨é˜²çº¿ã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥ï¼š</p><p>ğŸ›¡ï¸ <strong>å…¨é¢é˜²æŠ¤</strong> - æœ‰æ•ˆé˜²å¾¡ SQL æ³¨å…¥ã€XSS æ”»å‡»ç­‰å¸¸è§ Web å¨èƒ<br>ğŸ“Š <strong>å®æ—¶ç›‘æ§</strong> - å¯è§†åŒ–ç•Œé¢å®æ—¶å±•ç¤ºå®‰å…¨æ€åŠ¿å’Œæ”»å‡»æ—¥å¿—<br>âš¡ <strong>é«˜æ€§èƒ½ä¿éšœ</strong> - ä½å»¶è¿Ÿé«˜å¹¶å‘å¤„ç†ï¼Œä¸å½±å“ä¸šåŠ¡æ­£å¸¸è®¿é—®<br>ğŸ”§ <strong>çµæ´»é…ç½®</strong> - æ ¹æ®ä¸šåŠ¡éœ€æ±‚è‡ªå®šä¹‰é˜²æŠ¤è§„åˆ™å’Œç­–ç•¥<br>ğŸŒ <strong>æ˜“æ‰©å±•</strong> - æ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼ï¼Œè½»æ¾åº”å¯¹ä¸šåŠ¡å¢é•¿</p><p>é›·æ±  WAF å°†æˆä¸ºæ‚¨ Web åº”ç”¨çš„å¯é å®ˆæŠ¤è€…ï¼Œ7Ã—24 å°æ—¶ä¸é—´æ–­æä¾›å®‰å…¨é˜²æŠ¤ï¼Œè®©æ‚¨ä¸“æ³¨äºä¸šåŠ¡å‘å±•ï¼Œæ— éœ€æ‹…å¿ƒå®‰å…¨å¨èƒã€‚</p><p>ä»ç°åœ¨å¼€å§‹ï¼Œæ„å»ºå®‰å…¨å¯é çš„ Web åº”ç”¨ç¯å¢ƒï¼Œä¸ºæ‚¨çš„ç”¨æˆ·æä¾›æ›´å®‰å¿ƒçš„æœåŠ¡ä½“éªŒï¼âœ¨</p><hr><p>ğŸ“Œ <strong>æŒç»­æ›´æ–°</strong>ï¼šå»ºè®®å…³æ³¨ <a href="https://waf-ce.chaitin.cn/">é›·æ±  WAF å®˜æ–¹æ›´æ–°</a>ï¼ŒåŠæ—¶è·å–æ–°åŠŸèƒ½ä¸å®‰å…¨å¢å¼º<br>ğŸ› <strong>ç¤¾åŒºæ”¯æŒ</strong>ï¼šä½¿ç”¨ä¸­å¦‚æœ‰ç–‘é—®æˆ–å»ºè®®ï¼Œå¯å‰å¾€ <a href="https://github.com/chaitin/SafeLine/issues">GitHub Issues</a> å‚ä¸è®¨è®º</p><p>ç¥æ‚¨éƒ¨ç½²é¡ºåˆ©ï¼Œå®‰å…¨æ— å¿§ï¼ğŸ‰</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Docker éƒ¨ç½²é›·æ±  WAF ğŸ›¡ï¸&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;https://file.meimolihan.eu.org/img/docker-safeline-01.webp&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;ğŸ“‹-ç›®å½•å¯¼èˆª&quot;&gt;ğŸ“‹ ç›®</summary>
      
    
    
    
    <category term="Docker" scheme="https://www.meimolihan.eu.org/categories/Docker/"/>
    
    
    <category term="compose" scheme="https://www.meimolihan.eu.org/tags/compose/"/>
    
  </entry>
  
</feed>
